<?xml version="1.0" encoding="UTF-8"?>

<forms xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-form.xsd">

    <form name="WorkEffortMeasureSearchForm" extends="BaseSearchForm" extends-resource="component://base/widget/BaseForms.xml" append-field="false">
        <actions>
            <set field="orderBy" value="workEffortId"/>
        </actions>
        <field name="workEffortId" title="${uiLabelMap.WorkEffortMeasure_target}">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" edit-field-name="sourceReferenceId" key-field-name="workEffortId" description-field-name="workEffortName">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="weMeasureTypeEnumId">
            <drop-down current="selected" allow-empty="true">
                <entity-options entity-name="Enumeration" description="${bsh: return uiLabelMap.get(&quot;Enumeration.description.&quot; + context.get(&quot;enumId&quot;))}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_MEASURE_TYPE"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="glAccountId">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="GlAccountSearchLookupForm" modal-lookup="true" key-field-name="glAccountId" description-field-name="accountName">
                <entity-options entity-name="GlAccount" key-field-name="glAccountId" description="${accountName}">
                    <!-- select-field sono i campi sui quali viene eseguita la ricerca, se segnati con display=true vengono visualizzati della drop-list -->
                    <select-field field-name="glAccountId" display="false"/>
                    <select-field field-name="accountName" display="true"/>
                    <!-- campi di ordinamento -->
                    <entity-order-by field-name="glAccountId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="fromDate">
            <date-find type="date" single-option="true"/>
        </field>
    </form>


    <form name="WorkEffortMeasureAdvancedSearchForm" extends="BaseAdvancedSearchForm" extends-resource="component://base/widget/BaseForms.xml">
    </form>

    <form name="WorkEffortMeasureManagementMultiForm" id="WorkEffortMeasureMM0001_WorkEffortMeasure" extends="BaseManagementDblClickMultiForm" extends-resource="component://base/widget/BaseForms.xml">
        <read-only>
            <not>
                <or>
                    <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                    <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                    <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                    <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                </or>
            </not>
        </read-only>
        <field name="entityName">
            <hidden value="WorkEffortMeasure"/>
        </field>
        <field name="_AUTOMATIC_PK_">
            <hidden value="Y"/>
        </field>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortMeasure"/>
        </field>
        <field name="backAreaId">
            <hidden value="common-container"/>
        </field>
        <field name="workEffortMeasureId">
            <hidden/>
        </field>
        <!--  -->
        <field name="workEffortId" title="${uiLabelMap.WorkEffortMeasure_target}" required-field="true">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" edit-field-name="sourceReferenceId" key-field-name="workEffortId" description-field-name="workEffortName">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="weMeasureTypeEnumId" required-field="true">
            <drop-down current="selected">
                <entity-options entity-name="Enumeration" description="${bsh: return uiLabelMap.get(&quot;Enumeration.description.&quot; + context.get(&quot;enumId&quot;))}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_MEASURE_TYPE"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="glAccountId" required-field="true" encode-output="false">
            <lookup size="40" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N,${glAccountConditionField}=${wt.workEffortTypeId}" target-form-name="GlAccountSearchLookupForm" modal-lookup="true" edit-field-name="accountCode" key-field-name="glAccountId" description-field-name="accountName">
                <entity-options entity-name="GlAccountWithWorkEffortPurposeType" key-field-name="glAccountId" description="${accountName}">
                    <!-- select-field sono i campi sui quali viene eseguita la ricerca, se segnati con display=true vengono visualizzati della drop-list -->
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="accountName" display="true"/>
                    <select-field field-name="accountCode" display="hidden-disabled"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="wt.workEffortTypeId"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <!-- campi di ordinamento -->
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="accountName"/>
                </entity-options>
            </lookup>
        </field>
        <field name="fromDate" required-field="true">
            <date-time type="date" default-value="${parameters.modifiedDate}"/>
        </field>
        <field name="roleTypeId" title="${uiLabelMap.destinationType}">
            <drop-down type="drop-list" maxlength="255" size="49" local-autocompleter="false" drop-list-key-field="roleTypeId" drop-list-display-field="description">
                <entity-options entity-name="RoleType" key-field-name="roleTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="roleTypeId"/>
                    <entity-order-by field-name="roleTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyId">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="PartyRoleViewSearchForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <entity-constraint name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-order-by field-name="partyName"/>
                </entity-options>
            </lookup>
        </field>
        <field name="productId">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="ProductSearchForm" modal-lookup="true" key-field-name="productId" description-field-name="internalName">
                <entity-options entity-name="Product" key-field-name="productId" description="${internalName}">
                    <select-field field-name="productId" display="false"/>
                    <select-field field-name="internalName" display="true"/>
                    <entity-order-by field-name="productId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="emplPositionTypeId">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="EmplPositionTypeSearchForm" modal-lookup="true" key-field-name="emplPositionTypeId" description-field-name="description">
                <entity-options entity-name="EmplPositionType" key-field-name="emplPositionTypeId" description="${description}">
                    <select-field field-name="emplPositionTypeId" display="false"/>
                    <select-field field-name="description" display="true"/>
                    <entity-order-by field-name="emplPositionTypeId"/>
                </entity-options>
            </lookup>
        </field>
    </form>

    <form name="WorkEffortMeasureIsObiettivoManagementForm" extends="WorkEffortMeasureManagementForm">
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field use-when="&quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))" name="glAccountId" widget-area-style="miniDescriptionField" title="${uiLabelMap.FormFieldTitle_glAccountId}" required-field="true" encode-output="false">
            <drop-down read-only="!&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))"
            type="drop-list" maxlength="255" size="46" local-autocompleter="false" drop-list-key-field="glAccountId" drop-list-display-field="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;accountNameLang&quot; : &quot;accountName&quot;}">
                <entity-options entity-name="GlAccountAndMeasureView" key-field-name="glAccountId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? accountNameLang : accountName}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;accountNameLang&quot; : &quot;accountName&quot;}" display="true"/>
                    <select-field field-name="accountCode" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;descriptionLang&quot; : &quot;description&quot;}" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;glAccountTypeDescrLang&quot; : &quot;glAccountTypeDescr&quot;}" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;respCenterNameLang&quot; : &quot;respCenterName&quot;}" display="hidden"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden"/>
                    <select-field field-name="uomRangeId" display="hidden"/>
                    <select-field field-name="uomRangeDescription" display="hidden"/>
                    <select-field field-name="weWithoutPerf" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;uomDescrLang&quot; : &quot;uomDescr&quot;}" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;mpUomDescrLang&quot; : &quot;mpUomDescr&quot;}" display="true"/>
                    <select-field field-name="inputEnumId" display="hidden"/>
                    <select-field field-name="detailEnumId" display="hidden"/>
                    <select-field field-name="periodTypeId" display="hidden"/>
                    <select-field field-name="periodTypeDescription" display="hidden"/>
                    <select-field field-name="indProductId" display="hidden"/> 
                    <select-field field-name="indInternalName" display="hidden"/> 
                    <select-field field-name="indProductMainCode" display="hidden"/>                   
                    <entity-constraint name="${glAccountConditionField}" env-name="wt.workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="currentStatusId" value="GLACC_ACTIVE"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;accountNameLang&quot; : &quot;accountName&quot;}"/>
                </entity-options>
            </drop-down>
        </field>        
        <field name="glAccountId" use-when="${bsh: &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
            <hidden/>
        </field>
        <field name="glAccountDescription" title="${uiLabelMap.FormFieldTitle_glAccountId}" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
            <text size="50" read-only="true"/>
        </field>
        <field name="glAccountDescription" title="${uiLabelMap.FormFieldTitle_glAccountId}" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
            <ignored/>
        </field>
        <field name="glAccountDescriptionLang" title="${uiLabelMap.FormFieldTitle_glAccountId}" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
            <text size="50" read-only="true"/>
        </field>
        <field use-when="!&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))" name="glAccountId" widget-area-style="miniDescriptionField" title="${uiLabelMap.FormFieldTitle_glAccountId}" required-field="true" encode-output="false">
            <lookup size="39" target="lookupGlAccountWithWorkEffortPurposeTypeIndLook" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N,${glAccountConditionField}=${wt.workEffortTypeId}" target-form-name="GlAccountWithWorkEffortPurposeTypeIndLookLookupScreen" modal-lookup="true" edit-field-name="accountCode" key-field-name="glAccountId" description-field-name="accountName" read-only="!&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))">
                <entity-options entity-name="GlAccountWithWorkEffortPurposeType" key-field-name="glAccountId" description="${accountName}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="accountName" display="true"/>
                    <select-field field-name="accountCode" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden-disabled"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeDescription" display="hidden-disabled"/>
                    <select-field field-name="weWithoutPerf" display="hidden-disabled"/>
                    <select-field field-name="uomDescr" display="hidden-disabled"/>
                    <select-field field-name="inputEnumId" display="hidden-disabled"/>
                    <select-field field-name="detailEnumId" display="hidden-disabled"/>
                    <select-field field-name="periodTypeId" display="hidden-disabled"/>
                    <select-field field-name="periodTypeDescription" display="hidden-disabled"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="wt.workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="currentStatusId" value="GLACC_ACTIVE"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="accountName"/>
                </entity-options>
            </lookup>
        </field>        
        <field use-when="&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))" name="glAccountId" widget-area-style="miniDescriptionField" title="${uiLabelMap.FormFieldTitle_glAccountId}" required-field="true" encode-output="false">
            <lookup size="39" target="lookupGlAccountWithWorkEffortPurposeTypeIndLook" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N,${glAccountConditionField}=${wt.workEffortTypeId}" target-form-name="GlAccountWithWorkEffortPurposeTypeIndLookLookupScreen" modal-lookup="true" edit-field-name="accountCode" key-field-name="glAccountId" description-field-name="accountNameLang" read-only="!&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))">
                <entity-options entity-name="GlAccountWithWorkEffortPurposeType" key-field-name="glAccountId" description="${accountNameLang}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="accountNameLang" display="true"/>
                    <select-field field-name="accountCode" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden-disabled"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeDescription" display="hidden-disabled"/>
                    <select-field field-name="weWithoutPerf" display="hidden-disabled"/>
                    <select-field field-name="uomDescr" display="hidden-disabled"/>
                    <select-field field-name="inputEnumId" display="hidden-disabled"/>
                    <select-field field-name="detailEnumId" display="hidden-disabled"/>
                    <select-field field-name="periodTypeId" display="hidden-disabled"/>
                    <select-field field-name="periodTypeDescription" display="hidden-disabled"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="wt.workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="currentStatusId" value="GLACC_ACTIVE"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="accountNameLang"/>
                </entity-options>
            </lookup>
        </field>        
        <field name="uomDescr" widget-style="uomDescr" use-when="&quot;ACCINP_UO&quot;.equals(context.get(&quot;inputEnumId&quot;)) &amp;&amp; &quot;ACCDET_NULL&quot;.equals(context.get(&quot;detailEnumId&quot;))" position="2" title="${uiLabelMap.FormFieldTitle_uomDescr}">
            <text size="25" maxlength="255" read-only="true"/>
        </field>
        <field name="uomDescr" widget-style="uomDescr" use-when="! (&quot;ACCINP_UO&quot;.equals(context.get(&quot;inputEnumId&quot;)) &amp;&amp; &quot;ACCDET_NULL&quot;.equals(context.get(&quot;detailEnumId&quot;)))" position="2" title="${uiLabelMap.FormFieldTitle_uomDescr}">
            <text size="25" maxlength="255" read-only="${bsh: !isInsertMode &amp;&amp; isUomDescrReadOnly}"/>
        </field>       
        <field name="isPosted">
            <drop-down read-only="${isInsertMode}" allow-empty="true" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
    </form>
        
    <form name="WorkEffortMeasureViewIndicatorManagementFormAdmin" extends="WorkEffortMeasureManagementFormAdmin">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkPersonFilterAndEvalEnumAndAdminUser.groovy"/>           
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/setGlAccountIdTitleValue.groovy"/> 
        	<script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnumIndicators.groovy"/>
        </actions>
        <read-only>
            <not>
                <and>
                    <if-compare field="isPosted" operator="not-equals" value="Y"/>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <if-compare field="crudEnumId" operator="not-equals" value="NONE"/>
                    <or>
                        <if-has-permission permission="TRASPERFMGR" action="_CREATE"/>
                        <if-has-permission permission="TRASPERFMGR" action="_UPDATE"/>
                        <if-has-permission permission="TRASPERFORG" action="_ADMIN"/>
                        <if-has-permission permission="TRASPERFROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
    </form>
    
    <form name="WorkEffortMeasureManagementFormAdmin" extends="WorkEffortMeasureManagementForm">
        <read-only>
            <not>
                <and>
                    <if-compare field="isPosted" operator="not-equals" value="Y"/>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <if-compare field="crudEnumId" operator="not-equals" value="NONE"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>       
        <field name="workEffortId" use-when="!&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))" widget-area-style="miniDescriptionField" title="${uiLabelMap.WorkEffortMeasure_target}" required-field="true">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" edit-field-name="sourceReferenceId" key-field-name="workEffortId" description-field-name="workEffortName" read-only="fromWEPanel">
                <entity-options cache="false" entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="estimatedStartDate" display="hidden-disabled"/>
                    <select-field field-name="estimatedCompletionDate" display="hidden-disabled"/>
                    <select-field field-name="weTypePeriodId" display="hidden-disabled"/>
                    <select-field field-name="weTypePeriodDesc" display="hidden-disabled"/>
                    <select-field field-name="workEffortTypeId" display="hidden-disabled"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>        
        <field name="workEffortId" use-when="&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))" widget-area-style="miniDescriptionField" title="${uiLabelMap.WorkEffortMeasure_target}" required-field="true">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" edit-field-name="sourceReferenceId" key-field-name="workEffortId" description-field-name="workEffortNameLang" read-only="fromWEPanel">
                <entity-options cache="false" entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortNameLang}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="estimatedStartDate" display="hidden-disabled"/>
                    <select-field field-name="estimatedCompletionDate" display="hidden-disabled"/>
                    <select-field field-name="weTypePeriodId" display="hidden-disabled"/>
                    <select-field field-name="weTypePeriodDesc" display="hidden-disabled"/>
                    <select-field field-name="workEffortTypeId" display="hidden-disabled"/>
                    <select-field field-name="workEffortNameLang" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>     
        <field name="thruDate" position="2" required-field="true">
            <date-time type="date" default-value="${we.estimatedCompletionDate}"/>
        </field>
        <field name="workEffortMeasureId" position="2">
            <text size="12" read-only="true"/>
        </field>                
        <field name="group_DestinationData_sep" title=" ">
            <display description="" also-hidden="false"/>
        </field>
        <field name="group_DestinationData" title="${uiLabelMap.WorkeffortMeasureDestinationData}" title-area-style="label field-group-title" title-style="field-group-title" widget-area-style="field-group-title">
            <display description="" also-hidden="false"/>
        </field>
        <field name="roleTypeId" widget-style="submit-field" title="${uiLabelMap.destinationType}">
            <drop-down type="drop-list" local-autocompleter="false" maxlength="255" size="46" drop-list-key-field="roleTypeId" drop-list-display-field="description">
                <!--<list-options key-name="roleTypeId" list-name="roleTypeList" />-->
                <entity-options entity-name="RoleType" key-field-name="roleTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="roleTypeId"/>
                    <entity-constraint name="parentTypeId" operator="like" value="GOAL%"/>
                    <entity-order-by field-name="roleTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyId" position="2" widget-style="submit-field" widget-area-style="miniDescriptionField">
            <lookup size="12" target-parameter="lookupScreenLocation=component://partyext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N" target-form-name="lookUpPartyRoleViewForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-order-by field-name="partyName"/>
                </entity-options>
            </lookup>
        </field>
        <field name="productId" widget-style="submit-field" widget-area-style="miniDescriptionField">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpProductForm" modal-lookup="true" key-field-name="productId" edit-field-name="internalName" description-field-name="internalName">
                <entity-options entity-name="Product" key-field-name="productId" description="${internalName}">
                    <select-field field-name="productId" display="hidden"/>
                    <select-field field-name="internalName" display="true"/>
                    <entity-order-by field-name="productId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="emplPositionTypeId" widget-area-style="miniDescriptionField" position="2">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="EmplPositionTypeSearchForm" modal-lookup="true" key-field-name="emplPositionTypeId" description-field-name="description">
                <entity-options entity-name="EmplPositionType" key-field-name="emplPositionTypeId" description="${description}">
                    <select-field field-name="emplPositionTypeId" display="false"/>
                    <select-field field-name="description" display="true"/>
                    <entity-order-by field-name="emplPositionTypeId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="otherWorkEffortId" widget-area-style="miniDescriptionField">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" key-field-name="workEffortId" description-field-name="workEffortName">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="false"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="weOtherGoalEnumId" widget-area-style="miniDescriptionField" required-field="true" position="2" use-when="${bsh: ! &quot;Y&quot;.equals(parameters.get(&quot;detectOrgUnitIdFlag&quot;)) &amp;&amp; ! &quot;Y&quot;.equals(context.get(&quot;detectOrgUnitIdFlag&quot;))}">
            <drop-down current="selected" no-current-selected-key="WEMOMG_NONE">
                <entity-options entity-name="Enumeration" description="${bsh: return uiLabelMap.get(&quot;Enumeration.description.&quot; + context.get(&quot;enumId&quot;))}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_MEASURE_OMG"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weOtherGoalEnumId" widget-area-style="miniDescriptionField" required-field="true" position="2" use-when="${bsh: &quot;Y&quot;.equals(parameters.get(&quot;detectOrgUnitIdFlag&quot;)) || &quot;Y&quot;.equals(context.get(&quot;detectOrgUnitIdFlag&quot;))}">
            <drop-down current="selected" no-current-selected-key="WEMOMG_ORG">
                <entity-options entity-name="Enumeration" description="${bsh: return uiLabelMap.get(&quot;Enumeration.description.&quot; + context.get(&quot;enumId&quot;))}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_MEASURE_OMG"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <!--  -->
        <field name="group_Specific_sep" title=" ">
            <display description="" also-hidden="false"/>
        </field>
        <field name="group_SpecificData" title="${uiLabelMap.WorkeffortMeasureSpecificData}" title-area-style="label field-group-title" title-style="field-group-title" widget-area-style="field-group-title">
            <display description="" also-hidden="false"/>
        </field>
        <field name="kpiScoreWeight" widget-style="numericInSingle" required-field="true">
            <text default-value="0" size="14" maxlength="18"/>
        </field>
        <field name="kpiOtherWeight" widget-style="pippo numericInSingle" required-field="true" position="2">
            <text default-value="0" size="14" maxlength="18"/>
        </field>        
        <!-- Aggiunto: bug 2395 -->
        <field name="weWithoutPerf" widget-style="weWithoutPerf" required-field="true">
            <drop-down current="selected" no-current-selected-key="WEWITHPERF_PERF_0">
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_WITHOUT_PERF"/>
                </entity-options>
            </drop-down>
        </field>
        <!-- end 2395 -->
        <field name="weScoreConvEnumId" widget-style="weScoreConvEnumId" required-field="true" position="2">
            <drop-down current="selected" no-current-selected-key="WECONVER_NOCONVERSIO">
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_SCORE_CONVERSION"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weScoreRangeEnumId" widget-style="weScoreRangeEnumId" required-field="true">
            <drop-down current="selected" no-current-selected-key="WESCORE_ISVALUE">
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_SCORE_RULE"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weAlertRuleEnumId" widget-style="weAlertRuleEnumId" required-field="true" position="2">
            <drop-down current="selected" no-current-selected-key="WEALERT_TARGETUP">
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_ALERT_RULE"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="uomRangeId">
            <drop-down type="drop-list" maxlength="255" size="46" local-autocompleter="false" drop-list-key-field="uomRangeId" drop-list-display-field="description">
                <entity-options entity-name="UomRange" key-field-name="uomRangeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="uomRangeId" />
                    <entity-order-by field-name="uomRangeId"/>
                </entity-options>
            </drop-down>
        </field>
        <sort-order>
        	<sort-field name="group_Distinctive_sep"/>
        	<sort-field name="group_DistinctiveData"/>
        	<sort-field name="workEffortId"/>
        	<sort-field name="weMeasureTypeEnumId"/>
        	<sort-field name="glAccountId"/>
        	<sort-field name="glAccountDescription"/>
        	<sort-field name="glAccountDescriptionLang"/>
        	<sort-field name="uomDescr"/>
        	<sort-field name="uomDescrLang"/>
        	<sort-field name="fromDate"/>
        	<sort-field name="thruDate"/>
        	<sort-field name="periodTypeId"/>
        	<sort-field name="sequenceId"/>
        	<sort-field name="comments"/>
        	<sort-field name="workEffortMeasureId"/>
        	<sort-field name="group_DestinationData_sep"/>
        	<sort-field name="group_DestinationData"/>
        	<sort-field name="roleTypeId"/>
        	<sort-field name="partyId"/>
        	<sort-field name="productId"/>
        	<sort-field name="emplPositionTypeId"/>
        	<sort-field name="otherWorkEffortId"/>
        	<sort-field name="weOtherGoalEnumId"/>
        	<sort-field name="group_Specific_sep"/>
        	<sort-field name="group_SpecificData"/>
        	<sort-field name="kpiScoreWeight"/>
        	<sort-field name="kpiOtherWeight"/>
        	<sort-field name="weWithoutPerf"/>
        	<sort-field name="weScoreConvEnumId"/>
        	<sort-field name="weScoreRangeEnumId"/>
        	<sort-field name="weAlertRuleEnumId"/>
        	<sort-field name="uomRangeId"/>
        	<sort-field name="isPosted"/>
        </sort-order>
    </form>
    
    <form name="WorkEffortMeasureManagementForm" id="WEMMF001${accountTypeEnumId}_${parameters.contentIdInd}_WorkEffortMeasure" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/workEffortTypeCntParamsEvaluator.groovy"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkPersonFilterAndEvalEnumAndAdminUser.groovy"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/setGlAccountIdTitleValue.groovy"/>
        </actions>
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <if-compare field="isPosted" operator="not-equals" value="Y"/>
                    <if-compare field="crudEnumId" operator="not-equals" value="NONE"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="entityName">
            <hidden value="WorkEffortMeasure"/>
        </field>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortMeasure"/>
        </field>
        <field name="_AUTOMATIC_PK_">
            <hidden value="Y"/>
        </field>
        <field name="isReadOnly">
            <hidden/>
        </field>
        <field name="accountTypeEnumId">
            <hidden/>
        </field>
        <field name="detectOrgUnitIdFlag">
           <hidden/>
        </field>
        <field name="uomRangeId" widget-style="uomRangeId">
            <hidden/>
        </field>
        <field name="inputEnumId" widget-style="inputEnumId">
            <hidden/>
        </field>
        <field name="detailEnumId" widget-style="detailEnumId">
            <hidden/>
        </field>
        <field name="workEffortMeasureId">
        	<hidden/>
        </field>
        <!--  -->
        <field name="group_Distinctive_sep" title=" ">
            <display description="" also-hidden="false"/>
        </field>
        <field name="group_DistinctiveData" title="${uiLabelMap.WorkeffortDistinctiveData}" title-area-style="label field-group-title" title-style="field-group-title" widget-area-style="field-group-title">
            <display description="" also-hidden="false"/>
        </field>        
        <field name="weMeasureTypeEnumId" widget-style="weMeasureTypeEnumId" position="2" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isEmpty(context.get(&quot;accountTypeEnumId&quot;))}">
            <drop-down current="selected">
                <entity-options entity-name="Enumeration" description="${bsh: return uiLabelMap.get(&quot;Enumeration.description.&quot; + context.get(&quot;enumId&quot;))}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_MEASURE_TYPE"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weMeasureTypeEnumId" widget-style="weMeasureTypeEnumId" position="2" required-field="true" use-when="${bsh: &quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))}">
            <drop-down current="selected" no-current-selected-key="WEMT_FINANCIAL">
                <entity-options entity-name="Enumeration" description="${bsh: return uiLabelMap.get(&quot;Enumeration.description.&quot; + context.get(&quot;enumId&quot;))}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_MEASURE_TYPE"/>
                    <entity-constraint name="enumId" operator="in" value="WEMT_FINANCIAL,WEMT_ECONOMIC,WEMT_MEANS,WEMT_HUMAN"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weMeasureTypeEnumId" widget-style="weMeasureTypeEnumId" position="2" required-field="true" use-when="${bsh: &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))}">
            <drop-down current="selected" no-current-selected-key="WEMT_OUTPUT">
                <entity-options entity-name="Enumeration" description="${bsh: return uiLabelMap.get(&quot;Enumeration.description.&quot; + context.get(&quot;enumId&quot;))}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_MEASURE_TYPE"/>
                    <entity-constraint name="enumId" operator="in" value="WEMT_OUTPUT,WEMT_ALERT,WEMT_OUTCOME,WEMT_PERF,WEMT_QUALITY,WEMT_SCORE"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <!-- bug 4901 -->
        <field use-when="&quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))" name="glAccountId" widget-area-style="miniDescriptionField" title="${glAccountIdTitleValue}" required-field="true" encode-output="false">
            <drop-down read-only="!&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))"
            type="drop-list" maxlength="255" size="46" local-autocompleter="false" drop-list-key-field="glAccountId" drop-list-display-field="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;accountNameLang&quot; : &quot;accountName&quot;}">
                <entity-options entity-name="GlAccountAndMeasureView" key-field-name="glAccountId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? accountNameLang : accountName}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;accountNameLang&quot; : &quot;accountName&quot;}" display="true"/>
                    <select-field field-name="accountCode" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;descriptionLang&quot; : &quot;description&quot;}" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;glAccountTypeDescrLang&quot; : &quot;glAccountTypeDescr&quot;}" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;respCenterNameLang&quot; : &quot;respCenterName&quot;}" display="hidden"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden"/>
                    <select-field field-name="uomRangeId" display="hidden"/>
                    <select-field field-name="uomRangeDescription" display="hidden"/>
                    <select-field field-name="weWithoutPerf" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;uomDescrLang&quot; : &quot;uomDescr&quot;}" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;mpUomDescrLang&quot; : &quot;mpUomDescr&quot;}" display="true"/>
                    <select-field field-name="inputEnumId" display="hidden"/>
                    <select-field field-name="detailEnumId" display="hidden"/>
                    <select-field field-name="periodTypeId" display="hidden"/>
                    <select-field field-name="periodTypeDescription" display="hidden"/>
                    <select-field field-name="indProductId" display="hidden"/> 
                    <select-field field-name="indInternalName" display="hidden"/> 
                    <select-field field-name="indProductMainCode" display="hidden"/>                   
                    <entity-constraint name="${glAccountConditionField}" env-name="wt.workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="currentStatusId" value="GLACC_ACTIVE"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;accountNameLang&quot; : &quot;accountName&quot;}"/>
                </entity-options>
            </drop-down>
        </field>        
        <field name="glAccountId" use-when="${bsh: &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
            <hidden/>
        </field>
        <field name="glAccountDescription" title="${glAccountIdTitleValue}" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
            <text size="72" read-only="true"/>
        </field>
        <field name="glAccountDescriptionLang" title="${glAccountIdTitleValue}" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
            <text size="72" read-only="true"/>
        </field>
        <field use-when="!&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))" name="glAccountId" widget-area-style="miniDescriptionField" title="${glAccountIdTitleValue}" required-field="true" encode-output="false">
            <lookup size="39" target="lookupGlAccountWithWorkEffortPurposeTypeIndLook" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N,${glAccountConditionField}=${wt.workEffortTypeId}" target-form-name="GlAccountWithWorkEffortPurposeTypeIndLookLookupScreen" modal-lookup="true" edit-field-name="accountCode" key-field-name="glAccountId" description-field-name="accountName" read-only="!&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))">
                <entity-options entity-name="GlAccountWithWorkEffortPurposeType" key-field-name="glAccountId" description="${accountName}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="accountName" display="true"/>
                    <select-field field-name="accountCode" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden-disabled"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeDescription" display="hidden-disabled"/>
                    <select-field field-name="weWithoutPerf" display="hidden-disabled"/>
                    <select-field field-name="uomDescr" display="hidden-disabled"/>
                    <select-field field-name="inputEnumId" display="hidden-disabled"/>
                    <select-field field-name="detailEnumId" display="hidden-disabled"/>
                    <select-field field-name="periodTypeId" display="hidden-disabled"/>
                    <select-field field-name="periodTypeDescription" display="hidden-disabled"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="wt.workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="currentStatusId" value="GLACC_ACTIVE"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="accountName"/>
                </entity-options>
            </lookup>
        </field>       
        <field use-when="&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))" name="glAccountId" widget-area-style="miniDescriptionField" title="${glAccountIdTitleValue}" required-field="true" encode-output="false">
            <lookup size="39" target="lookupGlAccountWithWorkEffortPurposeTypeIndLook" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N,${glAccountConditionField}=${wt.workEffortTypeId}" target-form-name="GlAccountWithWorkEffortPurposeTypeIndLookLookupScreen" modal-lookup="true" edit-field-name="accountCode" key-field-name="glAccountId" description-field-name="accountNameLang" read-only="!&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))">
                <entity-options entity-name="GlAccountWithWorkEffortPurposeType" key-field-name="glAccountId" description="${accountNameLang}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="accountNameLang" display="true"/>
                    <select-field field-name="accountCode" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden-disabled"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeDescription" display="hidden-disabled"/>
                    <select-field field-name="weWithoutPerf" display="hidden-disabled"/>
                    <select-field field-name="uomDescr" display="hidden-disabled"/>
                    <select-field field-name="inputEnumId" display="hidden-disabled"/>
                    <select-field field-name="detailEnumId" display="hidden-disabled"/>
                    <select-field field-name="periodTypeId" display="hidden-disabled"/>
                    <select-field field-name="periodTypeDescription" display="hidden-disabled"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="wt.workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="currentStatusId" value="GLACC_ACTIVE"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="accountNameLang"/>
                </entity-options>
            </lookup>
        </field>        
		<field name="uomDescr" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; (UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))) &amp;&amp; &quot;ACCINP_UO&quot;.equals(context.get(&quot;inputEnumId&quot;)) &amp;&amp; &quot;ACCDET_NULL&quot;.equals(context.get(&quot;detailEnumId&quot;))}" title="${uiLabelMap.Indicator_uomDescr}">
            <textarea read-only="true" cols="70"/>
        </field>
        <field name="uomDescr" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; (UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))) &amp;&amp;! (&quot;ACCINP_UO&quot;.equals(context.get(&quot;inputEnumId&quot;)) &amp;&amp; &quot;ACCDET_NULL&quot;.equals(context.get(&quot;detailEnumId&quot;)))}" title="${uiLabelMap.Indicator_uomDescr}">
            <textarea read-only="${bsh: !isInsertMode &amp;&amp; isUomDescrReadOnly}" cols="70"/>
        </field>  
        <field name="uomDescr" title="${uomDescrTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; &quot;ACCINP_UO&quot;.equals(context.get(&quot;inputEnumId&quot;)) &amp;&amp; &quot;ACCDET_NULL&quot;.equals(context.get(&quot;detailEnumId&quot;))}">
            <textarea read-only="true" cols="70"/>
        </field>
        <field name="uomDescr" title="${uomDescrTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;)) &amp;&amp;! (&quot;ACCINP_UO&quot;.equals(context.get(&quot;inputEnumId&quot;)) &amp;&amp; &quot;ACCDET_NULL&quot;.equals(context.get(&quot;detailEnumId&quot;)))}">
            <textarea read-only="${bsh: !isInsertMode &amp;&amp; isUomDescrReadOnly}" cols="70"/>
        </field>
        <field name="uomDescrLang" title="${uomDescrLangTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; &quot;ACCINP_UO&quot;.equals(context.get(&quot;inputEnumId&quot;)) &amp;&amp; &quot;ACCDET_NULL&quot;.equals(context.get(&quot;detailEnumId&quot;))}">
            <textarea read-only="true" cols="70"/>
        </field>
        <field name="uomDescrLang" title="${uomDescrLangTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;)) &amp;&amp;! (&quot;ACCINP_UO&quot;.equals(context.get(&quot;inputEnumId&quot;)) &amp;&amp; &quot;ACCDET_NULL&quot;.equals(context.get(&quot;detailEnumId&quot;)))}">
            <textarea read-only="${bsh: !isInsertMode &amp;&amp; isUomDescrReadOnly}" cols="70"/>
        </field>           
        <field name="fromDate" required-field="true">
            <date-time type="date" default-value="${we.estimatedStartDate}"/>
        </field>
        <field name="thruDate" required-field="true">
            <date-time type="date" default-value="${we.estimatedCompletionDate}"/>
        </field>
        <field name="periodTypeId" required-field="true">
            <drop-down type="drop-list" maxlength="255" size="46" local-autocompleter="false" drop-list-key-field="periodTypeId" drop-list-display-field="description">
                <entity-options entity-name="PeriodType" key-field-name="periodTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="periodTypeId"/>
                    <entity-order-by field-name="periodTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="sequenceId" widget-style="submit-field numericInList" position="2" >
            <text maxlength="60" size="20" default-value="1"/>
        </field>
        <field name="comments">
            <textarea rows="5" cols="47"/>
        </field>
        <!--  -->
        <field name="weOtherGoalEnumId" widget-area-style="miniDescriptionField" required-field="true" position="2" use-when="${bsh: ! &quot;Y&quot;.equals(parameters.get(&quot;detectOrgUnitIdFlag&quot;)) &amp;&amp; ! &quot;Y&quot;.equals(context.get(&quot;detectOrgUnitIdFlag&quot;))}">
            <drop-down current="selected" no-current-selected-key="WEMOMG_NONE">
                <entity-options entity-name="Enumeration" description="${bsh: return uiLabelMap.get(&quot;Enumeration.description.&quot; + context.get(&quot;enumId&quot;))}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_MEASURE_OMG"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weOtherGoalEnumId" use-when="${bsh: &quot;Y&quot;.equals(parameters.get(&quot;detectOrgUnitIdFlag&quot;)) || &quot;Y&quot;.equals(context.get(&quot;detectOrgUnitIdFlag&quot;))}">
            <hidden value="WEMOMG_ORG"/>
        </field>
        <field name="weOtherGoalEnumId" use-when="${bsh: ! &quot;Y&quot;.equals(parameters.get(&quot;detectOrgUnitIdFlag&quot;)) &amp;&amp; ! &quot;Y&quot;.equals(context.get(&quot;detectOrgUnitIdFlag&quot;))}">
            <hidden value="WEMOMG_NONE"/>
        </field>
        <!--  -->
        <field name="kpiScoreWeight" widget-style="submit-field">
            <hidden/>
        </field>
        <!-- Aggiunto: bug 2395 -->
        <field name="weWithoutPerf" widget-style="weWithoutPerf">
            <hidden value="WEWITHPERF_PERF_0"/>
        </field>
        <!-- end 2395 -->
        <field name="weScoreConvEnumId" widget-style="weScoreConvEnumId">
            <hidden value="WECONVER_NOCONVERSIO"/>
        </field>
        <field name="weScoreRangeEnumId" widget-style="weScoreRangeEnumId">
            <hidden value="WESCORE_ISVALUE"/>
        </field>
        <field name="weAlertRuleEnumId" widget-style="weAlertRuleEnumId">
            <hidden value="WEALERT_TARGETUP"/>
        </field>
        <field name="isPosted">
            <drop-down read-only="${bsh: import org.ofbiz.base.util.UtilValidate; return !&quot;Y&quot;.equals(parameters.get(&quot;weIsTemplate&quot;)) || isInsertMode}" allow-empty="true" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
    </form>



    <!--
    	WorkEffortMeasure da folder Obiettivi 
     -->
    <form name="WorkEffortManagementParentForm" id="WEMPF001_WorkEffortManagementParentForm" extends="BaseManagementParentForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="workEffortId" title="${uiLabelMap.WorkEffortMeasure_target}">
            <display description="${workEffortName}"/>
        </field>
    </form>
    
    <form name="WEMFromPanelisObiettivoManagementMultiForm" extends="WEMFromPanelManagementMultiForm">
    	<actions>
    		<script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getWemFromPanelIsObiettivoColsTitle.groovy"/>
    	</actions>   
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="hasCompetence">
            <hidden value="${glAccount.hasCompetence}"/>
        </field>
        <field name="uomDescr" title="${uiLabelMap.FormFieldTitle_uomDescr}" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <text show-tooltip="true" tooltip="${uomDescr}" read-only="${bsh: !isInsertMode &amp;&amp; isUomDescrReadOnly}" size="20" maxlength="255"/>
        </field>
        <field name="uomDescr" title="${wemObiettivoUomDescrTitle}" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <text show-tooltip="true" tooltip="${uomDescr}" read-only="${bsh: !isInsertMode &amp;&amp; isUomDescrReadOnly}" size="20" maxlength="255"/>
        </field>        
        <field name="uomDescrLang" title="${wemObiettivoUomDescrLangTitle}" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <text show-tooltip="true" tooltip="${uomDescrLang}" read-only="${bsh: !isInsertMode &amp;&amp; isUomDescrReadOnly}" size="20" maxlength="255"/>
        </field>
        <field use-when="&quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))" name="glAccountId" title="${bsh: context.get(&quot;WEFLD_IND_title&quot;)}" required-field="true" encode-output="false" widget-area-style="columnWidthClass70 workEffortMeasure_glAccountId">
            <drop-down read-only="!&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))" 
            type="drop-list" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="glAccountId" drop-list-display-field="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;accountNameLang&quot; : &quot;accountName&quot;}">
                <entity-options entity-name="GlAccountAndMeasureView" key-field-name="glAccountId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? accountNameLang : accountName}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;accountNameLang&quot; : &quot;accountName&quot;}" display="true"/>
                    <select-field field-name="accountCode" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;descriptionLang&quot; : &quot;description&quot;}" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;glAccountTypeDescrLang&quot; : &quot;glAccountTypeDescr&quot;}" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;respCenterNameLang&quot; : &quot;respCenterName&quot;}" display="hidden"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden-disabled"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeDescription" display="hidden-disabled"/>
                    <select-field field-name="weWithoutPerf" display="hidden-disabled"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;uomDescrLang&quot; : &quot;uomDescr&quot;}" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;mpUomDescrLang&quot; : &quot;mpUomDescr&quot;}" display="true"/>
                    <select-field field-name="inputEnumId" display="hidden-disabled"/>
                    <select-field field-name="detailEnumId" display="hidden-disabled"/>
                    <select-field field-name="indProductId" display="hidden-disabled"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="wt.workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="currentStatusId" value="GLACC_ACTIVE"/>
                    <entity-constraint name="contentIdInd" value="${contentIdInd}"/>
                    <entity-constraint name="wePurposeTypeIdInd" value="${workEffortPurposeTypeIdInd}"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;accountNameLang&quot; : &quot;accountName&quot;}"/>
                </entity-options>
            </drop-down>
        </field>        
        <field name="glAccountId" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
            <display floating-tooltip="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;prodUomDescr&quot;)) ? context.get(&quot;prodUomDescr&quot;) : glAccount.get(&quot;accountName&quot;) + (UtilValidate.isNotEmpty(glAccount.get(&quot;description&quot;)) ? &quot; - &quot; + glAccount.get(&quot;description&quot;) : &quot;&quot;)}" description="${glAccount.accountCode} - ${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;prodUomDescr&quot;)) ? context.get(&quot;prodUomDescr&quot;) : glAccount.get(&quot;accountName&quot;)}"/>
        </field>
        <field name="glAccountId" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
            <display floating-tooltip="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;prodUomDescrLang&quot;)) ? context.get(&quot;prodUomDescrLang&quot;) : glAccount.get(&quot;accountNameLang&quot;) + (UtilValidate.isNotEmpty(glAccount.get(&quot;descriptionLang&quot;)) ? &quot; - &quot; + glAccount.get(&quot;descriptionLang&quot;) : &quot;&quot;)}" description="${glAccount.accountCode} - ${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;prodUomDescrLang&quot;)) ? context.get(&quot;prodUomDescrLang&quot;) : glAccount.get(&quot;accountNameLang&quot;)}"/>
        </field>
        <field use-when="!&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))" name="glAccountId" title="${bsh: context.get(&quot;WEFLD_MFIN_title&quot;)}" required-field="true" encode-output="false" widget-area-style="columnWidthClass70 workEffortMeasure_glAccountId">
            <lookup size="50" show-tooltip="true" tooltip="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;prodUomDescr&quot;)) ? context.get(&quot;prodUomDescr&quot;) : glAccount.get(&quot;accountName&quot;) + (UtilValidate.isNotEmpty(glAccount.get(&quot;description&quot;)) ? &quot; - &quot; + glAccount.get(&quot;description&quot;) : &quot;&quot;)}" target="lookupGlAccountWithWorkEffortPurposeTypeIndLook" description-field-size="50"  target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N,enableMultiRowInsert=Y,multiRowInsertFields=glAccountId,${glAccountConditionField}=${wt.workEffortTypeId}" target-form-name="GlAccountWithWorkEffortPurposeTypeIndLookLookupScreen" modal-lookup="true" edit-field-name="accountCode" key-field-name="glAccountId" description-field-name="accountName" read-only="!&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))">
                <entity-options entity-name="GlAccountWithWorkEffortPurposeType" key-field-name="glAccountId" description="${accountName}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="accountName" display="true"/>
                    <select-field field-name="accountCode" display="hidden-disabled"/>
                    <select-field field-name="glAccountTypeDescription" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden-disabled"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeDescription" display="hidden-disabled"/>
                    <select-field field-name="weWithoutPerf" display="hidden-disabled"/>
                    <select-field field-name="uomDescr" display="hidden-disabled"/>
                    <select-field field-name="inputEnumId" display="hidden-disabled"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="wt.workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="currentStatusId" value="GLACC_ACTIVE"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="accountName"/>
                </entity-options>
            </lookup>
        </field>
        <field use-when="&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))" name="glAccountId" title="${bsh: context.get(&quot;WEFLD_MFIN_title&quot;)}" required-field="true" encode-output="false" widget-area-style="columnWidthClass70 workEffortMeasure_glAccountId">
            <lookup size="50" show-tooltip="true" tooltip="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;prodUomDescrLang&quot;)) ? context.get(&quot;prodUomDescrLang&quot;) : glAccount.get(&quot;accountNameLang&quot;) + (UtilValidate.isNotEmpty(glAccount.get(&quot;descriptionLang&quot;)) ? &quot; - &quot; + glAccount.get(&quot;descriptionLang&quot;) : &quot;&quot;)}" target="lookupGlAccountWithWorkEffortPurposeTypeIndLook" description-field-size="50"  target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N,enableMultiRowInsert=Y,multiRowInsertFields=glAccountId,${glAccountConditionField}=${wt.workEffortTypeId}" target-form-name="GlAccountWithWorkEffortPurposeTypeIndLookLookupScreen" modal-lookup="true" edit-field-name="accountCode" key-field-name="glAccountId" description-field-name="accountNameLang" read-only="!&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))">
                <entity-options entity-name="GlAccountWithWorkEffortPurposeType" key-field-name="glAccountId" description="${accountNameLang}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="accountNameLang" display="true"/>
                    <select-field field-name="accountCode" display="hidden-disabled"/>
                    <select-field field-name="glAccountTypeDescription" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden-disabled"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeDescription" display="hidden-disabled"/>
                    <select-field field-name="weWithoutPerf" display="hidden-disabled"/>
                    <select-field field-name="uomDescr" display="hidden-disabled"/>
                    <select-field field-name="inputEnumId" display="hidden-disabled"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="wt.workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="currentStatusId" value="GLACC_ACTIVE"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="accountNameLang"/>
                </entity-options>
            </lookup>
        </field>
        <field name="kpiScoreWeight" widget-area-style="WEMFromPanelManagementMultiForm_kpiScoreWeight" widget-style="numericInList" required-field="true">
            <text default-value="0" size="3" maxlength="15" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))"/>
        </field>
        <field name="kpiOtherWeight" use-when="&quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))" widget-area-style="WEMFromPanelManagementMultiForm_kpiOtherWeight" widget-style="pluto numericInList" required-field="true">
            <text default-value="0" size="3" maxlength="15" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))"/>
        </field>         
    </form>

    <form name="WEMFromPanelManagementMultiForm" paginate-size="10" id="WEMFPMMF${accountTypeEnumId}_${contentIdInd}_WorkEffortMeasure" style="basic-form cachable noTableResizeHeight" extends="BaseManagementDblClickMultiForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkPersonFilterAndEvalEnumAndAdminUser.groovy"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/setGlAccountIdTitleValue.groovy"/>       
        </actions>
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" value="true" field="isReadOnly"/>
                    <if-compare operator="not-equals" field="crudEnumId" value="NONE"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
       
        <row-actions>
        	<entity-one entity-name="GlAccount" value-field="glAccount" />
        	
        	<set field="weScoreConvEnumId" value="${groovy: isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(glAccount) ? glAccount.get(&quot;weScoreConvEnumId&quot;) : context.get(&quot;weScoreConvEnumId&quot;) }"/> 
            <set field="weScoreRangeEnumId" value="${groovy: isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(glAccount) ? glAccount.get(&quot;weScoreRangeEnumId&quot;) : context.get(&quot;weScoreRangeEnumId&quot;) }"/> 
            <set field="weAlertRuleEnumId" value="${groovy: isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(glAccount) ? glAccount.get(&quot;weAlertRuleEnumId&quot;) : context.get(&quot;weAlertRuleEnumId&quot;) }"/> 
            <set field="weMeasureTypeEnumId" value="${groovy: isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(glAccount) ? glAccount.get(&quot;weMeasureTypeEnumId&quot;) : context.get(&quot;weMeasureTypeEnumId&quot;) }"/> 
            <set field="weWithoutPerf" value="${groovy: isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(glAccount) ? glAccount.get(&quot;weWithoutPerf&quot;) : context.get(&quot;weWithoutPerf&quot;) }"/> 
        	<set field="uomRangeId" value="${groovy: isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(glAccount) ? glAccount.get(&quot;uomRangeId&quot;) : context.get(&quot;uomRangeId&quot;) }"/> 
        	<set field="kpiScoreWeight" value="${groovy: isInsertMode ? (org.ofbiz.base.util.UtilValidate.isNotEmpty(weMeasureTypeEnumId) &amp;&amp; &quot;WEMT_PERF&quot;.equals(weMeasureTypeEnumId) ? 100 : 0 ) : context.get(&quot;kpiScoreWeight&quot;)}"/> 
 			<set field="kpiOtherWeight" value="${groovy: isInsertMode ? (org.ofbiz.base.util.UtilValidate.isNotEmpty(weMeasureTypeEnumId) &amp;&amp; &quot;WEMT_PERF&quot;.equals(weMeasureTypeEnumId) ? 100 : 0 ) : context.get(&quot;kpiOtherWeight&quot;)}"/>

            <set field="inputEnumId" value="${groovy: org.ofbiz.base.util.UtilValidate.isNotEmpty(glAccount) ? glAccount.get(&quot;inputEnumId&quot;) : &quot;&quot;}"/> 
            <set field="detailEnumId" value="${groovy: org.ofbiz.base.util.UtilValidate.isNotEmpty(glAccount) ? glAccount.get(&quot;detailEnumId&quot;) : &quot;&quot;}"/>
            <set field="calcCustomMethodId" value="${groovy: org.ofbiz.base.util.UtilValidate.isNotEmpty(glAccount) ? glAccount.get(&quot;calcCustomMethodId&quot;) : &quot;&quot;}"/>  

            <!-- se siamo in insertmode e glAccount modello su prodotto ACCINP_PRD, productId = INDProductId
            	else productId = prodotto del workeffort, che in questo caso si trova nel field productId -->
            <set field="productId" value="${groovy: &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) ? (isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(glAccount) &amp;&amp; &quot;ACCINP_PRD&quot;.equals(inputEnumId) &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(parameters.get(&quot;INDProductId&quot;)) ? parameters.get(&quot;INDProductId&quot;) : context.get(&quot;productId&quot;) ) : &quot;&quot; }"/>

<!--        caso 3884 punto 2: togliere la valorizzazione automatica -->        	
        	<!--<set field="uomId" value="${glAccount.defaultUomId}"/>-->        	
        	<!-- caso 3286 punto 5: serve il tipo per la visualizzazione del contextlink -->
            <entity-one entity-name="Uom" value-field="uom" >
                <field-map field-name="uomId" value="${glAccount.defaultUomId}"/>
            </entity-one>
            <entity-one entity-name="GlAccountType" value-field="glAccountType" >
                <field-map field-name="glAccountTypeId" value="${glAccount.glAccountTypeId}"/>
            </entity-one>
            <set field="glAccountTypeDescription" value="${glAccountType.description}"/>
            
            <!-- bug 4144 punto 5 -->
             <entity-one value-field="we" entity-name="WorkEffort" use-cache="false"/>
             <entity-one value-field="wt" entity-name="WorkEffortType" use-cache="false">
                 <field-map field-name="workEffortTypeId" from-field="we.workEffortTypeId"/>
             </entity-one>
             
             <!-- 4901 punto 2 -->
             <entity-condition entity-name="WorkEffortMeasureProduct" list="workEffortMeasureProductList">
                <condition-list>
                    <condition-expr field-name="glAccountId" from-field="glAccount.glAccountId"/>
                    <condition-expr field-name="productId" from-field="productId"/>
                </condition-list>
             </entity-condition>
             <set field="workEffortMeasureProduct" from-field="workEffortMeasureProductList[0]" type="Object"/>
             <set field="prodUomDescr" value="${workEffortMeasureProduct.uomDescr}"/>
             <set field="prodUomDescrLang" value="${workEffortMeasureProduct.uomDescrLang}"/>
             
             <set field="fromDate" from-field="fromDate" default-value="${we.estimatedStartDate}"/>  
             <set field="thruDate" from-field="thruDate" default-value="${we.estimatedCompletionDate}"/>
        </row-actions>
        <field name="reloadRequestType">
            <hidden/>
        </field>
        <field name="onlyWithBudget">
            <hidden/>
        </field>
        <field name="accountFilter">
            <hidden/>
        </field>
        <field name="searchDate">
            <hidden value="${parameters.searchDate}"/>
        </field>
        <field name="contentIdInd">
            <hidden/>
        </field>
        <field name="contentIdSecondary">
            <hidden/>
        </field>
        <field name="uomTypeId">
            <hidden value="${uom.uomTypeId}"/>
        </field>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortMeasure"/>
        </field>
        <field name="entityName">
            <hidden value="WorkEffortMeasure"/>
        </field>
        <field name="_AUTOMATIC_PK_" use-when="isInsertMode">
            <hidden value="Y"/>
        </field>
        <field name="workEffortMeasureId">
            <hidden/>
        </field>
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="accountTypeEnumId">
            <hidden/>
        </field>
        <field name="weScoreRangeEnumId" widget-style="weScoreRangeEnumId">
            <hidden/>
        </field>
        <field name="weScoreConvEnumId" widget-style="weScoreConvEnumId">
            <hidden/>
        </field>
        <field name="weAlertRuleEnumId" widget-style="weAlertRuleEnumId">
            <hidden/>
        </field>
        <field name="weMeasureTypeEnumId" widget-style="weMeasureTypeEnumId">
            <hidden/>
        </field>
        <field name="isPosted">
            <hidden/>
        </field>
        <field name="isReadOnly">
            <hidden/>
        </field>
        <field name="weWithoutPerf" widget-style="weWithoutPerf">
            <hidden/>
        </field>
        <!--  -->
        <field name="glAccountTypeDescription" widget-style="glAccountTypeDescription" title="${glAccountIdTitleValue}">
            <hidden/>
        </field>
        <field name="attention" title="" widget-style="fa fa-calculator attentionIcon" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;calcCustomMethodId&quot;))}" widget-area-style="narrowCell" >
            <image type="icon" tooltip="${uiLabelMap.WorkEffortMeasure_GLFISCTYPE_ACTUAL}"></image>
        </field>      
        <field name="attention" title=" " use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isEmpty(context.get(&quot;calcCustomMethodId&quot;))}">
            <display/>
        </field>
        <!-- noConditionFind e lookup valorizzare entrambi per avviare la ricerca e collassare la form di ricerca -->
 		<field use-when="&quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))" name="glAccountId" title="${glAccountIdTitleValue}" required-field="true" encode-output="false" widget-area-style="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;glAccountIdTitleAreaClass&quot;)) ? context.get(&quot;glAccountIdTitleAreaClass&quot;) + &quot; workEffortMeasure_glAccountId&quot; :  &quot;workEffortMeasure_glAccountId&quot;}">
            <drop-down read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))" 
            type="drop-list" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="glAccountId" drop-list-display-field="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;accountNameLang&quot; : &quot;accountName&quot;}">
                <entity-options entity-name="GlAccountAndMeasureView" key-field-name="glAccountId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? accountNameLang : accountName}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;accountNameLang&quot; : &quot;accountName&quot;}" display="true"/>
                    <select-field field-name="accountCode" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;descriptionLang&quot; : &quot;description&quot;}" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;glAccountTypeDescrLang&quot; : &quot;glAccountTypeDescr&quot;}" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;respCenterNameLang&quot; : &quot;respCenterName&quot;}" display="hidden"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden"/>
                    <select-field field-name="uomRangeId" display="hidden"/>
                    <select-field field-name="uomRangeDescription" display="hidden"/>
                    <select-field field-name="weWithoutPerf" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;uomDescrLang&quot; : &quot;uomDescr&quot;}" display="hidden"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;mpUomDescrLang&quot; : &quot;mpUomDescr&quot;}" display="true"/>
                    <select-field field-name="inputEnumId" display="hidden-disabled"/>
                    <select-field field-name="detailEnumId" display="hidden-disabled"/>
                    <select-field field-name="indProductId" display="hidden-disabled"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="wt.workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="currentStatusId" value="GLACC_ACTIVE"/>
                    <entity-constraint name="contentIdInd" value="${contentIdInd}"/>
                    <entity-constraint name="wePurposeTypeIdInd" value="${workEffortPurposeTypeIdInd}"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;accountNameLang&quot; : &quot;accountName&quot;}"/>
                </entity-options>
            </drop-down>
        </field> 
        <field name="glAccountId" title="${glAccountIdTitleValue}" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; (&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)))}" widget-area-style="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;glAccountIdTitleAreaClass&quot;)) ? context.get(&quot;glAccountIdTitleAreaClass&quot;) :  &quot;&quot;}">
            <display floating-tooltip="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;prodUomDescr&quot;)) ? context.get(&quot;prodUomDescr&quot;) : glAccount.get(&quot;accountName&quot;) + (UtilValidate.isNotEmpty(glAccount.get(&quot;description&quot;)) ? &quot; - &quot; + glAccount.get(&quot;description&quot;) : &quot;&quot;)}" description="${glAccount.accountCode} - ${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;prodUomDescr&quot;)) ? context.get(&quot;prodUomDescr&quot;) : glAccount.get(&quot;accountName&quot;)}"/>
        </field>
		<field name="glAccountId" title="${glAccountIdTitleValue}" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; (&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)))}" widget-area-style="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;glAccountIdTitleAreaClass&quot;)) ? context.get(&quot;glAccountIdTitleAreaClass&quot;) :  &quot;&quot;}">
            <display floating-tooltip="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;prodUomDescrLang&quot;)) ? context.get(&quot;prodUomDescrLang&quot;) : glAccount.get(&quot;accountNameLang&quot;) + (UtilValidate.isNotEmpty(glAccount.get(&quot;descriptionLang&quot;)) ? &quot; - &quot; + glAccount.get(&quot;descriptionLang&quot;) : &quot;&quot;)}" description="${glAccount.accountCode} - ${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;prodUomDescrLang&quot;)) ? context.get(&quot;prodUomDescrLang&quot;) : glAccount.get(&quot;accountNameLang&quot;)}"/>
        </field>
        <field use-when="!&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))" name="glAccountId" title="${glAccountIdTitleValue}" required-field="true" encode-output="false" widget-area-style="workEffortMeasure_glAccountId">
            <lookup show-tooltip="true" target="lookupGlAccountWithWorkEffortPurposeTypeIndLook" tooltip="${accountName}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;comments&quot;)) ? &quot; - &quot; + context.get(&quot;comments&quot;) : &quot;&quot;}" size="50" description-field-size="100" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=${noConditionFind},lookup=${noConditionFind},fromManagement=Y,saveView=N,enableMultiRowInsert=Y,multiRowInsertFields=glAccountId,${glAccountConditionField}=${wt.workEffortTypeId}" target-form-name="GlAccountWithWorkEffortPurposeTypeIndLookLookupScreen" modal-lookup="true" edit-field-name="accountCode" key-field-name="glAccountId" description-field-name="accountName" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))">
                <entity-options entity-name="GlAccountWithWorkEffortPurposeType" key-field-name="glAccountId" description="${accountName}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="accountName" display="true"/>
                    <select-field field-name="accountCode" display="hidden-disabled"/>
                    <select-field field-name="glAccountTypeDescription" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden-disabled"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeDescription" display="hidden-disabled"/>
                    <select-field field-name="weWithoutPerf" display="hidden-disabled"/>
                    <select-field field-name="uomDescr" display="hidden-disabled"/>
                    <select-field field-name="inputEnumId" display="hidden-disabled"/>
                    <select-field field-name="detailEnumId" display="hidden-disabled"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="wt.workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="currentStatusId" value="GLACC_ACTIVE"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="accountName"/>
                </entity-options>
            </lookup>
        </field>                
        <field use-when="&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; &quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))" name="glAccountId" title="${glAccountIdTitleValue}" required-field="true" encode-output="false" widget-area-style="workEffortMeasure_glAccountId">
            <lookup show-tooltip="true" target="lookupGlAccountWithWorkEffortPurposeTypeIndLook" tooltip="${accountNameLang}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;comments&quot;)) ? &quot; - &quot; + context.get(&quot;comments&quot;) : &quot;&quot;}" size="50" description-field-size="100" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=${noConditionFind},lookup=${noConditionFind},fromManagement=Y,saveView=N,enableMultiRowInsert=Y,multiRowInsertFields=glAccountId,${glAccountConditionField}=${wt.workEffortTypeId}" target-form-name="GlAccountWithWorkEffortPurposeTypeIndLookLookupScreen" modal-lookup="true" edit-field-name="accountCode" key-field-name="glAccountId" description-field-name="accountNameLang" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))">
                <entity-options entity-name="GlAccountWithWorkEffortPurposeType" key-field-name="glAccountId" description="${accountNameLang}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="accountNameLang" display="true"/>
                    <select-field field-name="accountCode" display="hidden-disabled"/>
                    <select-field field-name="glAccountTypeDescription" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden-disabled"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeDescription" display="hidden-disabled"/>
                    <select-field field-name="weWithoutPerf" display="hidden-disabled"/>
                    <select-field field-name="uomDescr" display="hidden-disabled"/>
                    <select-field field-name="inputEnumId" display="hidden-disabled"/>
                    <select-field field-name="detailEnumId" display="hidden-disabled"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="wt.workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="currentStatusId" value="GLACC_ACTIVE"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="accountNameLang"/>
                </entity-options>
            </lookup>
        </field>        
        
        
        <!-- BUG 4901 -->
        <field name="productId"  use-when="&quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))" >
            <hidden/>
        </field>
        <field name="productId" widget-style="indProductId" use-when="&quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))" >
            <hidden/>
        </field>
        <field name="uomRangeId" widget-style="uomRangeId">
            <hidden/>
        </field>
        <field name="inputEnumId" widget-style="inputEnumId">
            <hidden/>
        </field>
        <field name="detailEnumId" widget-style="detailEnumId">
            <hidden/>
        </field>
        <field name="fromDate" required-field="true" title="${uiLabelMap.WorkEffortMeasureFolder_fromDate}">
            <hidden/>
        </field>
        <field name="thruDate" required-field="true" title="${uiLabelMap.WorkEffortMeasureFolder_thruDate}">
            <hidden/>
        </field>
        
        <field name="uomDescr" use-when="&quot;Y&quot;.equals(context.get(&quot;showUomDescr&quot;)) &amp;&amp; (&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || (&quot;ACCINP_UO&quot;.equals(context.get(&quot;inputEnumId&quot;)) &amp;&amp; &quot;ACCDET_NULL&quot;.equals(context.get(&quot;detailEnumId&quot;))))" title="${uiLabelMap.Indicator_uomDescr}" widget-area-style="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;uomDescrTitleAreaClass&quot;)) ? context.get(&quot;uomDescrTitleAreaClass&quot;) :  &quot;&quot;}">
            <text show-tooltip="true" tooltip="${uomDescr}" size="20" maxlength="255" read-only="true"/>
        </field>
        <field name="uomDescr" use-when="&quot;Y&quot;.equals(context.get(&quot;showUomDescr&quot;)) &amp;&amp; ! (&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || (&quot;ACCINP_UO&quot;.equals(context.get(&quot;inputEnumId&quot;)) &amp;&amp; &quot;ACCDET_NULL&quot;.equals(context.get(&quot;detailEnumId&quot;))))" title="${uiLabelMap.Indicator_uomDescr}" widget-area-style="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;uomDescrTitleAreaClass&quot;)) ? context.get(&quot;uomDescrTitleAreaClass&quot;) :  &quot;&quot;}">
            <text show-tooltip="true" tooltip="${uomDescr}" size="20" maxlength="255" read-only="${bsh: !isInsertMode &amp;&amp; isUomDescrReadOnly}"/>
        </field>
        <field name="uomDescr" use-when="&quot;Y&quot;.equals(context.get(&quot;showUomDescrMultiTypeLang&quot;)) &amp;&amp; (&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || (&quot;ACCINP_UO&quot;.equals(context.get(&quot;inputEnumId&quot;)) &amp;&amp; &quot;ACCDET_NULL&quot;.equals(context.get(&quot;detailEnumId&quot;))))" title="${wemUomDescrTitle}" widget-area-style="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;uomDescrTitleAreaClass&quot;)) ? context.get(&quot;uomDescrTitleAreaClass&quot;) :  &quot;&quot;}">
            <text show-tooltip="true" tooltip="${uomDescr}" size="20" maxlength="255" read-only="true"/>
        </field>
        <field name="uomDescr" use-when="&quot;Y&quot;.equals(context.get(&quot;showUomDescrMultiTypeLang&quot;)) &amp;&amp; ! (&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || (&quot;ACCINP_UO&quot;.equals(context.get(&quot;inputEnumId&quot;)) &amp;&amp; &quot;ACCDET_NULL&quot;.equals(context.get(&quot;detailEnumId&quot;))))" title="${wemUomDescrTitle}" widget-area-style="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;uomDescrTitleAreaClass&quot;)) ? context.get(&quot;uomDescrTitleAreaClass&quot;) :  &quot;&quot;}">
            <text show-tooltip="true" tooltip="${uomDescr}" size="20" maxlength="255" read-only="${bsh: !isInsertMode &amp;&amp; isUomDescrReadOnly}"/>
        </field>
        <field name="uomDescrLang" use-when="&quot;Y&quot;.equals(context.get(&quot;showUomDescrMultiTypeLang&quot;)) &amp;&amp; (&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || (&quot;ACCINP_UO&quot;.equals(context.get(&quot;inputEnumId&quot;)) &amp;&amp; &quot;ACCDET_NULL&quot;.equals(context.get(&quot;detailEnumId&quot;))))" title="${wemUomDescrLangTitle}" widget-area-style="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;uomDescrTitleAreaClass&quot;)) ? context.get(&quot;uomDescrTitleAreaClass&quot;) :  &quot;&quot;}">
            <text show-tooltip="true" tooltip="${uomDescrLang}" size="20" maxlength="255" read-only="true"/>
        </field>
        <field name="uomDescrLang" use-when="&quot;Y&quot;.equals(context.get(&quot;showUomDescrMultiTypeLang&quot;)) &amp;&amp; ! (&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || (&quot;ACCINP_UO&quot;.equals(context.get(&quot;inputEnumId&quot;)) &amp;&amp; &quot;ACCDET_NULL&quot;.equals(context.get(&quot;detailEnumId&quot;))))" title="${wemUomDescrLangTitle}" widget-area-style="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;uomDescrTitleAreaClass&quot;)) ? context.get(&quot;uomDescrTitleAreaClass&quot;) :  &quot;&quot;}">
            <text show-tooltip="true" tooltip="${uomDescrLang}" size="20" maxlength="255" read-only="${bsh: !isInsertMode &amp;&amp; isUomDescrReadOnly}"/>
        </field>        		
        <field name="sequenceId" title="${uiLabelMap.Seq}" widget-style="submit-field numericInList" use-when="${bsh: &quot;INDICATOR&quot;.equals(accountTypeEnumId) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showSequence&quot;))}">
            <text maxlength="18" size="3" default-value="1" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))"/>
        </field> 
        <field name="sequenceId" use-when="${bsh: &quot;INDICATOR&quot;.equals(accountTypeEnumId) &amp;&amp; ! &quot;Y&quot;.equals(context.get(&quot;showSequence&quot;))}">
        	<hidden value="1"/>
        </field>
        <field name="kpiScoreWeight" use-when="&quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) || &quot;Y&quot;.equals(context.get(&quot;showKpiWeight&quot;))" widget-area-style="WEMFromPanelManagementMultiForm_kpiScoreWeight" widget-style="numericInList" required-field="true">
            <text default-value="0" size="3" maxlength="15" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))"/>
        </field>
        <field name="kpiOtherWeight" use-when="&quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showKpiOtherWeight&quot;))" widget-area-style="WEMFromPanelManagementMultiForm_kpiOtherWeight" widget-style="pape numericInList" required-field="true">
            <text default-value="0" size="3" maxlength="15" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))"/>
        </field>      
        
    </form>



    <!--
    	Rating Scale folder
     -->
    <form name="WorkEffortMeasureManagementParentForm" id="WEMPF001_WorkEffortMeasureManagementParentForm" extends="BaseManagementParentForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <entity-one entity-name="WorkEffort" value-field="workEffort"/>
            <entity-one entity-name="GlAccount" value-field="glAccount"/>
            <entity-one entity-name="WorkEffortMeasure" value-field="workEffortMeasure"/>
            
			<!-- Bug 4144, punto 1: Campo Unita di misura, come sulla form di dettaglio -->
            <set field="uomId" value="${uomId}" default-value="${glAccount.defaultUomId}"/>
            
            <entity-one entity-name="Uom" value-field="uom"/>
            
            <!-- bug 4144 punto 13 -->
            <entity-one  value-field="obiettivo" entity-name="WorkEffortTypeContent">
                <field-map field-name="workEffortTypeId" from-field="workEffort.workEffortTypeId"/>
                <field-map field-name="contentId" value="WEFLD_MAIN"/>
            </entity-one>
            
            <entity-one  value-field="valoriInd" entity-name="WorkEffortTypeContent">
                <field-map field-name="workEffortTypeId" from-field="workEffort.workEffortTypeId"/>
                <field-map field-name="contentId" value="WEFLD_IND"/>
            </entity-one>
            
            <entity-one  value-field="valoriRes" entity-name="WorkEffortTypeContent">
                <field-map field-name="workEffortTypeId" from-field="workEffort.workEffortTypeId"/>
                <field-map field-name="contentId" value="WEFLD_MFIN"/>
            </entity-one>
            
            <set field="titleRes" value="${bsh: org.ofbiz.base.util.UtilValidate.isNotEmpty(valoriRes) &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(valoriRes.get(&quot;etch&quot;)) ? valoriRes.get(&quot;etch&quot;) :  uiLabelMap.get(&quot;WEFLD_MFIN&quot;) }"/>
            <set field="titleInd" value="${bsh: org.ofbiz.base.util.UtilValidate.isNotEmpty(valoriInd) &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(valoriInd.get(&quot;etch&quot;)) ? valoriInd.get(&quot;etch&quot;) :  uiLabelMap.get(&quot;WEFLD_IND&quot;) }"/>
			
            <!-- 4901 punto 2 -->
             <entity-condition entity-name="WorkEffortMeasureProduct" list="workEffortMeasureProductList">
                <condition-list>
                    <condition-expr field-name="glAccountId" from-field="glAccount.glAccountId"/>
                    <condition-expr field-name="productId" from-field="workEffortMeasure.productId"/>
                </condition-list>
             </entity-condition>
             <set field="workEffortMeasureProduct" from-field="workEffortMeasureProductList[0]" type="Object"/>
             <set field="prodUomDescr" value="${workEffortMeasureProduct.uomDescr}"/>
        </actions>
        <field name="workEffortId" title="${bsh: org.ofbiz.base.util.UtilValidate.isNotEmpty(obiettivo) &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(obiettivo.get(&quot;etch&quot;)) ? obiettivo.get(&quot;etch&quot;) : uiLabelMap.get(&quot;WorkEffort&quot;)}" use-when="workEffort!=null">
            <display description="${workEffort.workEffortName}"/>
        </field>
        <field name="workEffortId" title="${bsh: org.ofbiz.base.util.UtilValidate.isNotEmpty(obiettivo) &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(obiettivo.get(&quot;etch&quot;)) ? obiettivo.get(&quot;etch&quot;) : uiLabelMap.get(&quot;WorkEffort&quot;)}" use-when="workEffort==null">
            <display description="${workEffortName}"/>
        </field>
        <field name="glAccountId" title="${bsh: &quot;RESOURCE&quot;.equals(glAccount.get(&quot;accountTypeEnumId&quot;)) ? titleRes : titleInd}" >
            <display tooltip="${workEffortMeasure.comments}" description="${glAccount.accountCode} - ${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(workEffortMeasure.get(&quot;uomDescr&quot;)) ? workEffortMeasure.get(&quot;uomDescr&quot;) : UtilValidate.isNotEmpty(context.get(&quot;prodUomDescr&quot;)) ? context.get(&quot;prodUomDescr&quot;) : glAccount.get(&quot;accountName&quot;)}"/>
        </field>
         
        <!-- Bug 4144, punto 1: Campo Unita di misura, come sulla form di dettaglio -->
        <field name="uomDescr" title="${uiLabelMap.FormFieldTitle_defaultUomId}">
 			<display description="${uom.description}"/>
        </field>
    </form>

    <form name="WorkEffortMeasRatScManagementMultiForm" id="WEMRSMMF001_WorkEfforetMeasureRatingScale" extends="BaseManagementMultiForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <entity-one entity-name="WorkEffortMeasure" value-field="workEffortMeasure"/>
            <set field="glAccountId" value="${glAccountId}" default-value="${workEffortMeasure.glAccountId}"/>
            <entity-one entity-name="GlAccount" value-field="glAccount"/>
            <set field="uomId" value="${uomId}" default-value="${glAccount.defaultUomId}"/>
            
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getWorkEffortMeasRatScColsTitle.groovy"/>
        </actions>
        <read-only>
            <not>
                 <if-has-permission permission="WORKEFFORTMGR" action="_ADMIN"/>
            </not>
        </read-only>
        <field name="workEffortMeasureId">
            <hidden/>
        </field>
        <field name="uomId">
            <hidden/>
        </field>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortMeasRatSc"/>
        </field>
        <!--  -->
        <field name="uomRatingValue" required-field="true" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <drop-down type="drop-list" current="selected" read-only="!&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))">
                <entity-options  entity-name="WorkEffortMeasRatScAvailView" key-field-name="uomRatingValue" description="${description}">
                    <entity-constraint name="workEffortMeasureId" operator="equals" env-name="workEffortMeasureId"/>
                    <entity-constraint name="uomId" operator="equals" env-name="uomId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="uomRatingValue" required-field="true" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <drop-down type="drop-list" current="selected" read-only="!&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))" size="12">
                <entity-options  entity-name="WorkEffortMeasRatScAvailView" key-field-name="uomRatingValue" description="${description}">
                    <entity-constraint name="workEffortMeasureId" operator="equals" env-name="workEffortMeasureId"/>
                    <entity-constraint name="uomId" operator="equals" env-name="uomId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="uomCode" required-field="true"  use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <text size="25" maxlength="255"/>
        </field>     
        <field name="uomDescr" required-field="true" title="${uiLabelMap.UomRatingScale_uomDescr}" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="100" rows="6"/>
        </field>       
        <field name="uomCode" required-field="true" title="${uomCodeTitle}"  use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <text size="25" maxlength="255"/>
        </field>
		<field name="uomCodeLang" required-field="true" title="${uomCodeLangTitle}" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <text size="25" maxlength="255"/>
        </field>
        <field name="uomDescr" required-field="true" title="${uomDescrTitle}" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="30" rows="6"/>
        </field>
        <field name="uomDescrLang" required-field="true" title="${uomDescrLangTitle}" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="30" rows="6"/>
        </field>
        <sort-order>
        	<sort-field name="uomRatingValue"/>
        	<sort-field name="uomCode"/>
        	<sort-field name="uomCodeLang"/>
        	<sort-field name="uomDescr"/>
        	<sort-field name="uomDescrLang"/>
        </sort-order>
    </form>



    <!-- Gestione Valori Obiettivi -->

    <!--
    	WorkEffortTransactionView da folder Obiettivi e da Dashboard Schede individuali
   		Utilizzata anche nel folder valori obiettivi di Misure Indicatori e Misure Risorse
   	-->
    <form name="WorkEffortTransactionViewParentManagementForm" id="WETVMPF001_WorkEffortTransactionView" extends="BaseManagementParentForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="workEffortId" title="${uiLabelMap.WorkEffort}">
            <display-entity entity-name="WorkEffort" description="${workEffortName}"/>
        </field>
        <field name="glAccountId" title="${uiLabelMap.FormFieldTitle_glAccountId}">
            <display-entity entity-name="GlAccount" description="${accountName}"/>
        </field>
    </form>
    <form name="WorkEffortTransactionViewIsObiettivoManagementMultiForm" extends="WorkEffortTransactionViewManagementMultiForm">
        <read-only>
            <or>
                <if-compare operator="equals" field="crudEnumId" value="NONE"/>
                <not>
                    <and>
                        <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                        <or>
                            <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                            <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                            <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                            <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                        </or>
                    </and>
                </not>
            </or>
        </read-only>
        <row-actions>
        	<set field="periodTypeId" from-field="periodTypeId" default-value="${parameters.weMeasurePeriodTypeId}"/>
            <set field="customTimePeriodId" from-field="customTimePeriodId" default-value="${parameters.customTimePeriodId}"/>
			<entity-condition entity-name="GlFiscalType" list="glFiscalTypeIdList">
        		<condition-list combine="or">
        			<condition-expr field-name="isFinancialUsed" value="Y"/>
        			<condition-expr field-name="isAccountUsed" value="Y"/>
        		</condition-list>
        	</entity-condition>
        	
        	<!-- 4901 punto 2 -->
        	<entity-one entity-name="WorkEffortMeasure" value-field="workEffortMeasure">
                <field-map field-name="workEffortMeasureId" from-field="weTransMeasureId"/>
            </entity-one>
        	<entity-one entity-name="GlAccount" value-field="glAccount">
                <field-map field-name="glAccountId" from-field="workEffortMeasure.glAccountId"/>
            </entity-one>
              <entity-condition entity-name="WorkEffortMeasureProduct" list="workEffortMeasureProductList">
                <condition-list>
                    <condition-expr field-name="glAccountId" from-field="glAccount.glAccountId"/>
                    <condition-expr field-name="productId" from-field="transProductId"/>
                </condition-list>
             </entity-condition>
             <set field="workEffortMeasureProduct" from-field="workEffortMeasureProductList[0]" type="Object"/>
             <set field="prodUomDescr" value="${workEffortMeasureProduct.uomDescr}"/>
             <set field="valModId" value="${bsh: &quot;ACCINP_PRD&quot;.equals(context.get(&quot;inputEnumId&quot;)) ? context.get(&quot;wmValModId&quot;) : context.get(&quot;glValModId&quot;) }"/>
             <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getGlAccountTypeGlFiscalTypeViewList.groovy"/>
        </row-actions>
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="weTransDate">
            <hidden/>
        </field>
        <field name="customTimePeriodId" required-field="true" title="${uiLabelMap.FormFieldTitle_customTimePeriodThruDate}">
            <drop-down type="drop-list" show-tooltip="true" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="customTimePeriodCode" read-only="${bsh: &quot;Y&quot;.equals(context.get(&quot;weTransPeriodIsClosed&quot;))}">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${periodName}">
                    <select-field field-name="customTimePeriodCode" display="true"/>
                    <select-field field-name="periodName" display="hidden-disabled"/>
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <entity-constraint name="periodTypeId" env-name="periodTypeId" lookup-for-field-name="weMeasurePeriodTypeId"/>
                    <entity-constraint name="organizationPartyId" env-name="organizationId"/>
                    <entity-order-by field-name="periodNum"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransValue" required-field="false" use-when="${bsh: &quot;RATING_SCALE&quot;.equals(parameters.get(&quot;weMeasureUomType&quot;)) || &quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;))}">
            <drop-down maxlength="255" read-only="${bsh: &quot;Y&quot;.equals(context.get(&quot;weTransPeriodIsClosed&quot;))}">
                <entity-options entity-name="WorkEffortMeasRatSc" key-field-name="uomRatingValue" description="${uomCode}">
                    <select-field field-name="uomCode" display="true"/>
                    <select-field field-name="workEffortMeasureId"/>
                    <select-field field-name="uomRatingValue"/>
                    <select-field field-name="uomDescr"/>
                    <entity-constraint name="workEffortMeasureId" operator="equals" env-name="weTransMeasureId"/>
                    <entity-order-by field-name="uomRatingValue"/>
                </entity-options>
            </drop-down>
        </field>
    </form>

    <form name="WorkEffortTransactionViewManagementMultiForm" id="WETVMM001${accountTypeEnumId}_WorkEffortTransactionView" extends="WorkEffortTransactionViewManagementMultiForm" extends-resource="component://accountingext/widget/forms/GlAccountForms.xml">
        <read-only>
            <or>
                <if-compare operator="equals" field="isRowReadOnlyWorkEffortMeasure" value="true"/>
                <if-compare operator="equals" field="crudEnumId" value="NONE"/>
                <if-compare operator="equals" value="ALL_NOT_MOD" field="valModId"/>
                <and>
                	<if-compare operator="equals" value="ACTUAL_NOT_MOD" field="valModId"/>
                	<if-compare operator="equals" value="ACTUAL" field="weTransTypeValueId"/>
                </and>
                <and>
                	<if-compare operator="equals" value="BUDGET_NOT_MOD" field="valModId"/>
                	<if-compare operator="equals" value="BUDGET" field="weTransTypeValueId"/>
                </and>
                <not>
                    <and>
                        <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                        <or>
                            <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                            <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                            <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                            <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                        </or>
                    </and>
                </not>
            </or>
        </read-only>
        <row-actions>
        	<entity-one entity-name="WorkEffortMeasure" value-field="workEffortMeasure">
        		<field-map field-name="workEffortMeasureId" from-field="weTransMeasureId"/>
        	</entity-one>
        	<entity-one entity-name="GlAccount" value-field="glAccount">
        		<field-map field-name="glAccountId" from-field="workEffortMeasure.glAccountId"/>
        	</entity-one>
        	<entity-one entity-name="Uom" value-field="uom">
        		<field-map field-name="uomId" from-field="glAccount.defaultUomId"/>
        	</entity-one>
        	<set field="weTransCurrencyUomId" value="${weTransCurrencyUomId}" default-value="${uom.uomId}"/>
        	
        	<!-- 4901 punto 2 -->
              <entity-condition entity-name="WorkEffortMeasureProduct" list="workEffortMeasureProductList">
                <condition-list>
                    <condition-expr field-name="glAccountId" from-field="glAccount.glAccountId"/>
                    <condition-expr field-name="productId" from-field="transProductId"/>
                </condition-list>
             </entity-condition>
             <set field="workEffortMeasureProduct" from-field="workEffortMeasureProductList[0]" type="Object"/>
             <set field="prodUomDescr" value="${workEffortMeasureProduct.uomDescr}"/>
             <set field="valModId" value="${bsh: &quot;ACCINP_PRD&quot;.equals(context.get(&quot;inputEnumId&quot;)) ? context.get(&quot;wmValModId&quot;) : context.get(&quot;glValModId&quot;) }"/>
             <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getGlAccountTypeGlFiscalTypeViewList.groovy"/>
             
             <!-- controllo per ogni riga se deve essere disabilitata in base a delle condizioni -->
             <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/isRowReadOnlyWorkEffortMeasure.groovy"/> 
             
        </row-actions>
        <field name="valModId">
            <hidden/>
        </field>
        <field name="isRowReadOnlyWorkEffortMeasure">
            <hidden/>
        </field>            
        <field name="isPosted">
            <hidden/>
        </field>
        <field name="weIsTemplate">
            <hidden/>
        </field>
        <field name="weTransWeId">
            <hidden/>
        </field>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortTransactionView"/>
        </field>
        <field name="weTransAccountId" widget-style="weMeasureAccountId">
            <hidden/>
        </field>
        <field name="weTransWeId" title="${uiLabelMap.WorkEffortMeasure_target}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; &quot;ACCINP_OBJ&quot;.equals(context.get(&quot;inputEnumId&quot;))}">
            <lookup size="50" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" edit-field-name="sourceReferenceId" key-field-name="workEffortId" description-field-name="workEffortName">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="weTransMeasureId" required-field="true" title="${uiLabelMap.FormFieldTitle_indicatorGlAccountId}" use-when="${bsh: &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))}">
            <drop-down tooltip="${weMeasureAccountCode} - ${weMeasureAccountDesc}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weMeasureUomDescr&quot;)) ? &quot; - &quot; + context.get(&quot;weMeasureUomDescr&quot;) : &quot;&quot;}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weMeasureDesc&quot;)) ? &quot; - &quot; + context.get(&quot;weMeasureDesc&quot;) : &quot;&quot;}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;prodUomDescr&quot;)) ? &quot; - &quot; + context.get(&quot;prodUomDescr&quot;) : &quot;&quot;}" type="drop-list" size="60" maxlength="255" local-autocompleter="false" drop-list-key-field="weMeasureId" drop-list-display-field="weMeasureAccountDesc" show-tooltip="true">
                <entity-options entity-name="WorkEffortMeasureViewWithWorkEffortPurposeType" key-field-name="weMeasureId" description="${weMeasureAccountDesc}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weMeasureUomDescr&quot;)) ? &quot; - &quot; + context.get(&quot;weMeasureUomDescr&quot;) : &quot;&quot;}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;prodUomDescr&quot;)) ? &quot; - &quot; + context.get(&quot;prodUomDescr&quot;) : &quot;&quot;}">
                    <select-field field-name="weMeasureId" display="false"/>
                    <select-field field-name="weMeasureAccountDesc" display="true"/>
                    <select-field field-name="weMeasureUomDescr" display="true"/>
                    <select-field field-name="weMeasureAccountId" display="hidden-disabled"/>
                    <select-field field-name="weMeasureAccountCode" display="hidden-disabled"/>
                    <select-field field-name="weMeasureProductDesc" display="hidden-disabled"/>
                    <select-field field-name="weMeasureProductId" display="hidden-disabled"/>
                    <select-field field-name="weMeasureUomType" display="hidden-disabled"/>
                    <select-field field-name="weMeasureUomDecimalScale" display="hidden-disabled"/>
                    <select-field field-name="weMeasureAccountCode" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeValueId" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeValueDesc" display="hidden-disabled"/>
                    <select-field field-name="weMeasureDefaultUomId" display="hidden-disabled"/>
                    <select-field field-name="weMeasurePeriodTypeId" display="hidden-disabled"/>
                    <select-field field-name="weMeasureDesc" display="true"/>
                    <entity-constraint name="weMeasureWeId" env-name="weTransWeId"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="we.workEffortTypeId"/>
                    <entity-order-by field-name="weMeasureId"/>
                </entity-options>
            </drop-down>
        </field>  
        <field name="weTransMeasureId" required-field="true" title="${uiLabelMap.FormFieldTitle_resourceGlAccountId}" use-when="${bsh: !&quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))}">
            <drop-down tooltip="{weMeasureAccountCode} - ${weMeasureAccountDesc}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weMeasureUomDescr&quot;)) ? &quot; - &quot; + context.get(&quot;weMeasureUomDescr&quot;) : &quot;&quot;}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weMeasureDesc&quot;)) ? &quot; - &quot; + context.get(&quot;weMeasureDesc&quot;) : &quot;&quot;}" type="drop-list" size="60" maxlength="255" local-autocompleter="false" drop-list-key-field="weMeasureId" drop-list-display-field="weMeasureAccountDesc" show-tooltip="true">
                <entity-options entity-name="WorkEffortMeasureViewWithWorkEffortPurposeType" key-field-name="weMeasureId" description="${weMeasureAccountDesc}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weMeasureUomDescr&quot;)) ? &quot; - &quot; + context.get(&quot;weMeasureUomDescr&quot;) : &quot;&quot;}">
                    <select-field field-name="weMeasureId" display="false"/>
                    <select-field field-name="weMeasureAccountDesc" display="true"/>
                    <select-field field-name="weMeasureUomDescr" display="true"/>
                    <select-field field-name="weMeasureAccountId" display="hidden-disabled"/>
                    <select-field field-name="weMeasureAccountCode" display="hidden-disabled"/>
                    <select-field field-name="weMeasureProductDesc" display="hidden-disabled"/>
                    <select-field field-name="weMeasureProductId" display="hidden-disabled"/>
                    <select-field field-name="weMeasureUomType" display="hidden-disabled"/>
                    <select-field field-name="weMeasureUomDecimalScale" display="hidden-disabled"/>
                    <select-field field-name="weMeasureAccountCode" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeValueId" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeValueDesc" display="hidden-disabled"/>
                    <select-field field-name="weMeasureDefaultUomId" display="hidden-disabled"/>
                    <select-field field-name="weMeasurePeriodTypeId" display="hidden-disabled"/>
                    <select-field field-name="weMeasureDesc" display="true"/>
                    <entity-constraint name="weMeasureWeId" env-name="weTransWeId"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="we.workEffortTypeId"/>
                    <entity-order-by field-name="weMeasureId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransMeasureId" title="${uiLabelMap.FormFieldTitle_indicatorGlAccountId}" use-when="${bsh: &quot;SCOREKPI&quot;.equals(context.get(&quot;weAcctgTransAccountId&quot;))}">
            <drop-down type="drop-list" read-only="true" size="50" maxlength="255" local-autocompleter="false" drop-list-key-field="workEffortMeasureId" drop-list-display-field="trAccountName" tooltip="${mAccountCode} - ${mAccountName} - ${trAccountName}">
                <entity-options entity-name="WorkEffortMeasureScoreKpi" key-field-name="workEffortMeasureId" description="${mAccountName} - ${trAccountName}">
                    <select-field field-name="mAccountName" display="true"/>
                    <select-field field-name="trAccountName" display="true"/>
                    <select-field field-name="workEffortMeasureId"/>
                    <entity-order-by field-name="mAccountName"/>
                </entity-options>
            </drop-down>
        </field>  
        <!--  -->       
        <field name="weTransTypeValueId" use-when="${bsh: !&quot;W&quot;.equals(context.get(&quot;insertMode&quot;))  &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))  &amp;&amp; &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) }" title="${uiLabelMap.FormFieldTitle_weTransTypeValueId}" required-field="true" >
            <drop-down type="drop-list" maxlength="255" local-autocompleter="false" drop-list-key-field="glFiscalTypeId" drop-list-display-field="description">
                <entity-options entity-name="GlAccountTypeGlFiscalTypeView" key-field-name="glFiscalTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="glFiscalTypeId"/>
                    <entity-constraint name="glAccountTypeId" env-name="glAccount.glAccountTypeId"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>            
        </field>        
        <field name="weTransTypeValueId" use-when="${bsh: !&quot;W&quot;.equals(context.get(&quot;insertMode&quot;))  &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))  &amp;&amp; !&quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))}" title="${uiLabelMap.FormFieldTitle_weTransTypeValueId}" required-field="true" >
            <drop-down type="drop-list" maxlength="255" local-autocompleter="false" drop-list-key-field="glFiscalTypeId" drop-list-display-field="description">
                <entity-options entity-name="GlFiscalType" key-field-name="glFiscalTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="glFiscalTypeId"/>
                    <entity-constraint name="isFinancialUsed" value="Y"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        
        <field name="weTransTypeValueId" use-when="${bsh: (&quot;W&quot;.equals(context.get(&quot;insertMode&quot;))  || &quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))) }" title="${uiLabelMap.FormFieldTitle_weTransTypeValueId}" required-field="true" >
            <drop-down type="drop-list" maxlength="255" local-autocompleter="true" drop-list-key-field="glFiscalTypeId" drop-list-display-field="description" >
                <list-options description="${description}" key-name="glFiscalTypeId" list-name="parameters.glAccountTypeGlFiscalTypeView"/>
            </drop-down>
        </field>
        
        <field name="weTransDate">
            <hidden/>
        </field>
        <field name="customTimePeriodId" required-field="true" title="${uiLabelMap.FormFieldTitle_customTimePeriodThruDate}" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;weTransPeriodIsClosed&quot;)) || &quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))}">
            <drop-down type="drop-list" show-tooltip="true" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="customTimePeriodCode"  read-only="${bsh: &quot;Y&quot;.equals(context.get(&quot;weTransPeriodIsClosed&quot;))}">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${periodName}">
                    <select-field field-name="customTimePeriodCode" display="true"/>
                    <select-field field-name="periodName" display="hidden-disabled"/>
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <entity-constraint name="organizationPartyId" env-name="organizationId"/>
                    <entity-constraint name="periodTypeId" env-name="periodTypeId" lookup-for-field-name="weMeasureAccountPeriodTypeId"/>
                    <entity-order-by field-name="fromDate"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="customTimePeriodId" required-field="true" title="${uiLabelMap.FormFieldTitle_customTimePeriodThruDate}"  use-when="${bsh: !(&quot;Y&quot;.equals(context.get(&quot;weTransPeriodIsClosed&quot;)) || &quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)))}">
            <drop-down type="drop-list" show-tooltip="true" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="customTimePeriodCode" read-only="${bsh: &quot;Y&quot;.equals(context.get(&quot;weTransPeriodIsClosed&quot;))}">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${periodName}">
                    <select-field field-name="customTimePeriodCode" display="true"/>
                    <select-field field-name="periodName" display="hidden-disabled"/>
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <entity-constraint name="isClosed" value="N"/>
                    <entity-constraint name="organizationPartyId" env-name="organizationId"/>
                    <entity-constraint name="periodTypeId" env-name="periodTypeId" lookup-for-field-name="weMeasureAccountPeriodTypeId"/>
                    <entity-order-by field-name="fromDate"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransValue" widget-area-style="workEffortTransactionView_weTransValue" widget-style="numericInList input_mask mask_field_weMeasureUomDecimalScale" use-when="${bsh: !&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)) &amp;&amp; &quot;DATE_MEASURE&quot;.equals(context.get(&quot;weTransUomType&quot;))}" required-field="true">
            <text decimal-digits="${weTransDecimalScale}" size="12" maxlength="20" validity-field-type="double"/>  
        </field>
        <field name="weTransValue" required-field="false" use-when="${bsh: &quot;RATING_SCALE&quot;.equals(parameters.get(&quot;weMeasureUomType&quot;)) || &quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;))}">
            <drop-down maxlength="255" read-only="${bsh: &quot;Y&quot;.equals(context.get(&quot;weTransPeriodIsClosed&quot;))}">
                <entity-options entity-name="WorkEffortMeasRatSc" key-field-name="uomRatingValue" description="${uomCode}">
                    <select-field field-name="uomCode" display="true"/>
                    <select-field field-name="workEffortMeasureId"/>
                    <select-field field-name="uomRatingValue"/>
                    <select-field field-name="uomDescr"/>
                    <entity-constraint name="workEffortMeasureId" operator="equals" env-name="weTransMeasureId"/>
                    <entity-order-by field-name="uomRatingValue"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransValue" use-when="${bsh: &quot;DATE_MEASURE&quot;.equals(context.get(&quot;weTransUomType&quot;))}" required-field="true">
            <date-time type="date"/>
        </field>
        <field name="defaultUomDescr" title="${uiLabelMap.FormFieldTitle_weTransValueDesc}">
            <ignored/>
        </field>
        <field name="weTransProductId">
            <hidden/>
        </field>
        <field name="weMeasureDefaultUomId" widget-style="weMeasureDefaultUomId">
            <hidden/>
        </field>
        <field name="weMeasureTypeValueId" widget-style="weMeasureTypeValueId">
            <hidden/>
        </field>
        <field name="weTransDecimalScale" widget-style="weMeasureUomDecimalScale">
            <hidden/>
        </field>
        <field name="weTransCurrencyUomId" title="${uiLabelMap.FormFieldTitle_defaultUomId}" required-field="true">
            <drop-down type="drop-list" size="10" local-autocompleter="false" drop-list-key-field="uomId" drop-list-display-field="description" read-only="true">
                <entity-options entity-name="Uom" key-field-name="uomId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="uomId"/>
                    <entity-order-by field-name="uomId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="roleTypeId">
            <ignored/>
        </field>
        <field name="partyId">
            <ignored/>
        </field>
        <sort-order>
            <sort-field name="weTransMeasureId"/>
            <sort-field name="weTransTypeValueDesc"/>
            <sort-field name="customTimePeriodId"/>            
            <sort-field name="weTransValue"/>
        </sort-order>
    </form>
    
    
    <!-- 
    	Bug 4144
   	 -->
    <!--
     	Folder gestione valori obiettivo da contextLink
    -->
    <form name="WorkEffortViewManagementParentForm" id="WETVMPF001_WorkEffortViewManagementParentForm" extends="BaseManagementParentForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="workEffortId" title="${uiLabelMap.WorkEffort}">
            <display-entity entity-name="WorkEffort" description="${workEffortName}"/>
        </field>
        <field name="glAccountId" title="${uiLabelMap.FormFieldTitle_glAccountId}">
            <display-entity entity-name="GlAccount" description="${accountName}"/>
        </field>
    </form>
    
    <form name="WorkEffortTransactionViewContextLinkManagementMultiForm" id="WETVCLMMF001_WorkEffortTransactionView" extends="WorkEffortTransactionViewManagementMultiForm">
        <actions>
            <set field="contentId" from-field="parameters.contentId" default-value="${parameters.contentIdSecondary}"/>
			<script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
            
            <set field="isReadOnly" from-field="parameters.isReadOnly"/>
        </actions>
        <read-only>
            <or>
                <if-compare operator="equals" field="isRowReadOnlyWorkEffortMeasure" value="true"/>
                <if-compare operator="equals" field="crudEnumId" value="NONE"/>
                <if-compare operator="equals" field="isReadOnly" value="Y"/>
                <if-compare operator="equals" field="isReadOnly" value="true"/>
                
                <if-compare operator="equals" value="ALL_NOT_MOD" field="valModId"/>
                <and>
                	<if-compare operator="equals" value="ACTUAL_NOT_MOD" field="valModId"/>
                	<if-compare operator="equals" value="ACTUAL" field="weTransTypeValueId"/>
                </and>
                <and>
                	<if-compare operator="equals" value="BUDGET_NOT_MOD" field="valModId"/>
                	<if-compare operator="equals" value="BUDGET" field="weTransTypeValueId"/>
                </and>
                
                <not>
                   <or>
                       <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                       <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                       <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                       <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                   </or>
            </not>
            </or>
            
        </read-only>
        <row-actions>
        	<set field="valModId" value="${bsh: &quot;ACCINP_PRD&quot;.equals(context.get(&quot;inputEnumId&quot;)) ? context.get(&quot;wmValModId&quot;) : context.get(&quot;glValModId&quot;) }"/>
        	
        	<!-- controllo per ogni riga se deve essere disabilitata in base a delle condizioni -->
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/isRowReadOnlyWorkEffortMeasure.groovy"/> 
        </row-actions>
        <field name="inputEnumId">
            <hidden/>
        </field>
        <field name="contextManagement">
            <hidden value="Y"/>
        </field>
        <field name="isReadOnly">
            <hidden/>
        </field>
        <field name="parentEntityName">
            <!-- La setto manualmente nello screen WorkEffortTransactionViewContextLinkDetailContextManagementScreen, se la inserisco qui mi viene duplicato il parametro -->
            <ignored/>
        </field>
        <field name="weTransMeasureId">
            <hidden/>
        </field>
        <field name="weTransId">
            <hidden/>
        </field>
        <field name="weTransEntryId">
            <hidden/>
        </field>
        <field name="weTransProductId">
            <hidden />
        </field>      
        <field name="weTransUomType">
            <hidden/>
        </field>          
        <field name="weTransCurrencyUomId">
            <hidden/>
        </field>
        <field name="isObiettivo">
            <hidden value="${parameters.isObiettivo}"/>
        </field>
        <field name="isPosted">
            <hidden/>
        </field>
        
        <!--   -->
        <field name="weTransTypeValueId" use-when="${bsh: &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; (!&quot;W&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) || &quot;ALL_MOD&quot;.equals(parameters.get(&quot;valModId&quot;))) }" title="${uiLabelMap.FormFieldTitle_weTransTypeValueId}" required-field="true" >
            <drop-down type="drop-list" maxlength="255" local-autocompleter="true" drop-list-key-field="glFiscalTypeId" drop-list-display-field="description">
                <entity-options entity-name="GlAccountTypeGlFiscalTypeView" key-field-name="glFiscalTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="glFiscalTypeId"/>
                    <entity-constraint name="glAccountTypeId" env-name="glAccountTypeId"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>        
                
        <!--  valModId = ALL_NOT_MOD-->
        <field name="weTransTypeValueId" use-when="${bsh: (&quot;W&quot;.equals(context.get(&quot;insertMode&quot;))  || &quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)))  &amp;&amp; &quot;ALL_NOT_MOD&quot;.equals(parameters.get(&quot;valModId&quot;)) &amp;&amp; &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))}" title="${uiLabelMap.FormFieldTitle_weTransTypeValueId}" required-field="true" >
            <display />
        </field>        
        <!--  valModId = ACTUAL_NOT_MOD  -->
        <field name="weTransTypeValueId" use-when="${bsh:  (&quot;W&quot;.equals(context.get(&quot;insertMode&quot;))  || &quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)))  &amp;&amp; &quot;ACTUAL_NOT_MOD&quot;.equals(parameters.get(&quot;valModId&quot;)) &amp;&amp; &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))}" title="${uiLabelMap.FormFieldTitle_weTransTypeValueId}" required-field="true" >
            <drop-down type="drop-list" maxlength="255" local-autocompleter="true" drop-list-key-field="glFiscalTypeId" drop-list-display-field="description">
                <entity-options entity-name="GlAccountTypeGlFiscalTypeView" key-field-name="glFiscalTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="glFiscalTypeId"/>
                    <entity-constraint name="glAccountTypeId" env-name="glAccountTypeId"/>
                    <entity-constraint name="glFiscalTypeId" operator="not-equals" value="ACTUAL"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <!--  valModId = BUDGET_NOT_MOD-->
        <field name="weTransTypeValueId" use-when="${bsh:  (&quot;W&quot;.equals(context.get(&quot;insertMode&quot;))  || &quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)))  &amp;&amp; &quot;BUDGET_NOT_MOD&quot;.equals(parameters.get(&quot;valModId&quot;)) &amp;&amp; &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))}" title="${uiLabelMap.FormFieldTitle_weTransTypeValueId}" required-field="true" >
            <drop-down type="drop-list" maxlength="255" local-autocompleter="true" drop-list-key-field="glFiscalTypeId" drop-list-display-field="description">
                <entity-options entity-name="GlAccountTypeGlFiscalTypeView" key-field-name="glFiscalTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="glFiscalTypeId"/>
                    <entity-constraint name="glAccountTypeId" env-name="glAccountTypeId"/>
                    <entity-constraint name="glFiscalTypeId" operator="not-equals" value="BUDGET"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>       
        
        
        
        <field name="weTransTypeValueId" use-when="${bsh: !&quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))}" title="4${uiLabelMap.FormFieldTitle_weTransTypeValueId}" required-field="true" >
            <drop-down type="drop-list" maxlength="255" local-autocompleter="true" drop-list-key-field="glFiscalTypeId" drop-list-display-field="description">
                <list-options description="${description}" key-name="glFiscalTypeId" list-name="glFiscalTypeIdList"/>
            </drop-down>
        </field>
        <field name="weTransDate">
            <hidden/>
        </field>
        <field name="customTimePeriodId" required-field="true" title="${uiLabelMap.FormFieldTitle_customTimePeriodThruDate}">
            <drop-down type="drop-list" show-tooltip="true" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="customTimePeriodCode" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))}">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${periodName}">
                    <select-field field-name="customTimePeriodCode" display="true"/>
                    <select-field field-name="periodName" display="hidden-disabled"/>
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <entity-constraint name="periodTypeId" env-name="periodTypeId"/>
                    <entity-constraint name="organizationPartyId" env-name="organizationId"/>
                    <entity-order-by field-name="periodNum"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransValue" widget-area-style="workEffortTransactionView_weTransValue" widget-style="numericInList input_mask mask_field_weMeasureUomDecimalScale" use-when="${bsh: !&quot;RATING_SCALE&quot;.equals(parameters.get(&quot;uomTypeId&quot;)) &amp;&amp; !&quot;DATE_MEASURE&quot;.equals(parameters.get(&quot;uomTypeId&quot;))}" required-field="true">
            <text decimal-digits="${weTransDecimalScale}" size="12" maxlength="20" validity-field-type="double" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))}"/>  
        </field>
        <field name="weTransValue" required-field="false" use-when="${bsh: &quot;RATING_SCALE&quot;.equals(parameters.get(&quot;uomTypeId&quot;)) || &quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;))}">
            <drop-down maxlength="255"  read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))}">
                <entity-options entity-name="WorkEffortMeasRatSc" key-field-name="uomRatingValue" description="${uomCode}">
                    <select-field field-name="uomCode" display="true"/>
                    <select-field field-name="workEffortMeasureId"/>
                    <select-field field-name="uomRatingValue"/>
                    <select-field field-name="uomDescr"/>
                    <entity-constraint name="workEffortMeasureId" operator="equals" env-name="weTransMeasureId"/>
                    <entity-order-by field-name="uomRatingValue"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransValue" use-when="${bsh: &quot;DATE_MEASURE&quot;.equals(context.get(&quot;weTransUomType&quot;)) || &quot;DATE_MEASURE&quot;.equals(parameters.get(&quot;uomTypeId&quot;))}" required-field="true">
            <date-time type="date" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))}"/>
        </field>
                
        <field name="weTransComment" title="${uiLabelMap.FormFieldTitle_weTransReferences}">
            <text size="20" maxlength="255" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))}"/>
        </field>
        
        <field name="weTransComments" title="${uiLabelMap.FormFieldTitle_weTransComments}">
            <textarea cols="20" rows="2" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))}"/>
        </field>
        <field name="hasCompetence">
        	<hidden/>
        </field>
        <field name="fromDateCompetence" use-when="${bsh: &quot;Y&quot;.equals(glAccount.get(&quot;hasCompetence&quot;))}">
            <date-time type="date" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))}"/>
        </field>
        <field name="fromDateCompetence" use-when="${bsh: !&quot;Y&quot;.equals(glAccount.get(&quot;hasCompetence&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;hasCompetence&quot;))}">
            <hidden/>
        </field>
        <field name="toDateCompetence" use-when="${bsh: &quot;Y&quot;.equals(glAccount.get(&quot;hasCompetence&quot;))}">
            <date-time type="date" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))}"/>
        </field>
        <field name="toDateCompetence" use-when="${bsh: !&quot;Y&quot;.equals(glAccount.get(&quot;hasCompetence&quot;))}">
            <hidden/>
        </field>
        <sort-order>
            <sort-field name="weTransTypeValueId"/>
            <sort-field name="customTimePeriodId"/>
            <sort-field name="weTransValue"/>
            <sort-field name="weTransComment"/>
            <sort-field name="weTransComments"/>
            <sort-field name="fromDateCompetence"/>
            <sort-field name="toDateCompetence"/>
        </sort-order>
    </form>
    
    <!-- Form di dettaglio valore Context -->
    <form name="WorkEffortTransactionViewDetailManagementForm" extends="WorkEffortTransactionViewManagementForm">
        <actions>
            <set field="contentId" from-field="parameters.contentId" default-value="${parameters.contentIdSecondary}"/>
			<script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
            
            <set field="isReadOnly" from-field="parameters.isReadOnly"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getGlAccountTypeGlFiscalTypeViewList.groovy"/>
            <!-- controllo per ogni riga se deve essere disabilitata in base a delle condizioni -->
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/isRowReadOnlyWorkEffortMeasure.groovy"/>        	 
        </actions>
        <read-only>
            <or>
                <if-compare operator="equals" field="weTransPeriodIsClosed" value="Y"/> 
                <if-compare operator="equals" value="NONE" field="crudEnumId"/>
                <if-compare operator="equals" field="isRowReadOnlyWorkEffortMeasure" value="true"/>
                <if-compare operator="equals" value="ALL_NOT_MOD" field="valModId"/>
                <and>
                	<if-compare operator="equals" value="ACTUAL_NOT_MOD" field="valModId"/>
                	<if-compare operator="equals" value="ACTUAL" field="weTransTypeValueId"/>
                </and>
                <and>
                	<if-compare operator="equals" value="BUDGET_NOT_MOD" field="valModId"/>
                	<if-compare operator="equals" value="BUDGET" field="weTransTypeValueId"/>
                </and>
                <not>
                    <and>
                        <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                        <or>
                            <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                            <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                            <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                            <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                        </or>
                    </and>
                </not>
            </or>
        </read-only>
        
        <field name="weTransMeasureId">
            <hidden/>
        </field>
        <field name="weTransUomType">
            <hidden />
        </field>
        <field name="isObiettivo">
            <hidden/>
        </field>
       <field name="weTransValue" widget-area-style="workEffortTransactionView_weTransValue" widget-style="numericInList input_mask mask_field_weMeasureUomDecimalScale" use-when="${bsh: return !&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)) &amp;&amp; !&quot;DATE_MEASURE&quot;.equals(context.get(&quot;weTransUomType&quot;))}" required-field="true">
            <text decimal-digits="${weTransDecimalScale}" size="12" maxlength="20" validity-field-type="double" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? &quot;Y&quot;.equals(isPosted) ? true : false : false }"/>  
        </field>        
        <field name="weTransValue" required-field="true" use-when="${bsh: return &quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;))}">
            <drop-down maxlength="255" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? (&quot;Y&quot;.equals(isPosted) || &quot;Y&quot;.equals(context.get(&quot;weTransPeriodIsClosed&quot;)))? true : false : false }">
                <entity-options entity-name="WorkEffortMeasRatSc" key-field-name="uomRatingValue" description="${uomCode}">
                    <select-field field-name="uomCode" display="true"/>
                    <select-field field-name="workEffortMeasureId"/>
                    <select-field field-name="uomRatingValue"/>
                    <select-field field-name="uomDescr"/>
                    <entity-constraint name="workEffortMeasureId" operator="equals" env-name="weTransMeasureId"/>
                    <entity-order-by field-name="uomRatingValue"/>
                </entity-options>
            </drop-down>
        </field>  
        <field name="weTransValue" use-when="${bsh: &quot;DATE_MEASURE&quot;.equals(context.get(&quot;weTransUomType&quot;))}" required-field="true">
            <date-time type="date" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? (&quot;Y&quot;.equals(isPosted) || &quot;Y&quot;.equals(context.get(&quot;weTransPeriodIsClosed&quot;)))? true : false : false }"/>
        </field>
              
        <field name="group_WorkEffortTransactionViewMeasurementData">
            <ignored/>
        </field>
        <field name="weTransWeId">
            <ignored/>
        </field>
        <field name="hasCompetence">
        	<hidden/>
        </field>
        
        <!--  -->
        <field name="weTransTypeValueId" use-when="${bsh: !&quot;W&quot;.equals(parameters.get(&quot;insertMode&quot;)) &amp;&amp; !&quot;Y&quot;.equals(parameters.get(&quot;insertMode&quot;))  &amp;&amp; &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) }" title="${uiLabelMap.FormFieldTitle_weTransTypeValueId}" required-field="true" >
            <drop-down type="drop-list"  read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? &quot;Y&quot;.equals(isPosted) ? true : false : false }" maxlength="255" local-autocompleter="false" drop-list-key-field="glFiscalTypeId" drop-list-display-field="description">
                <entity-options entity-name="GlAccountTypeGlFiscalTypeView" key-field-name="glFiscalTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="glFiscalTypeId"/>
                    <entity-constraint name="glAccountTypeId" env-name="glAccountTypeId"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransTypeValueId" use-when="${bsh: !&quot;W&quot;.equals(parameters.get(&quot;insertMode&quot;)) &amp;&amp; !&quot;Y&quot;.equals(parameters.get(&quot;insertMode&quot;))  &amp;&amp; !&quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))}" title="${uiLabelMap.FormFieldTitle_weTransTypeValueId}" required-field="true" >
            <drop-down type="drop-list"  read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? &quot;Y&quot;.equals(isPosted) ? true : false : false }" maxlength="255" local-autocompleter="false" drop-list-key-field="glFiscalTypeId" drop-list-display-field="description">
                <entity-options entity-name="GlFiscalType" key-field-name="glFiscalTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="glFiscalTypeId"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransTypeValueId" use-when="${bsh: &quot;W&quot;.equals(parameters.get(&quot;insertMode&quot;)) || &quot;Y&quot;.equals(parameters.get(&quot;insertMode&quot;)) }" title="${uiLabelMap.FormFieldTitle_weTransTypeValueId}" required-field="true" >
            <drop-down type="drop-list" maxlength="255" local-autocompleter="true" drop-list-key-field="glFiscalTypeId" drop-list-display-field="description" >
                <list-options description="${description}" key-name="glFiscalTypeId" list-name="parameters.glAccountTypeGlFiscalTypeView"/>
            </drop-down>
        </field>
        
        
        <field name="weTransComment" title="${uiLabelMap.FormFieldTitle_weTransReferences}">
            <text size="50" maxlength="255"  read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? &quot;Y&quot;.equals(isPosted) ? true : false : false }"/>
        </field>
        <field name="weTransComments" title="${uiLabelMap.FormFieldTitle_weTransComments}">
            <textarea cols="47"  read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? &quot;Y&quot;.equals(isPosted) ? true : false : false }"/>
        </field>
        <field name="weTransCurrencyUomId" required-field="false" title="${uiLabelMap.FormFieldTitle_defaultUomId}" position="2">
            <drop-down type="drop-list" maxlength="255"  size="50" local-autocompleter="false" drop-list-key-field="uomId" drop-list-display-field="description" read-only="true">
                <entity-options entity-name="Uom" key-field-name="uomId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="uomId"/>
                    <entity-order-by field-name="uomId"/>
                </entity-options>
            </drop-down>
        </field> 
        <field name="weTransDate">
            <hidden/>
        </field>
        <field name="customTimePeriodId" required-field="true" title="${uiLabelMap.FormFieldTitle_customTimePeriodThruDate}">
            <drop-down type="drop-list" show-tooltip="true" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="customTimePeriodCode" read-only="${bsh: &quot;Y&quot;.equals(context.get(&quot;weTransPeriodIsClosed&quot;)) || &quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))}">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${periodName}">
                    <select-field field-name="customTimePeriodCode" display="true"/>
                    <select-field field-name="periodName" display="hidden-disabled"/>
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <entity-constraint name="periodTypeId" env-name="periodTypeId"/>
                    <entity-constraint name="organizationPartyId" env-name="organizationId"/>
                    <entity-order-by field-name="periodNum"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="fromDateCompetence" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;hasCompetence&quot;))}">
            <date-time type="date" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? &quot;Y&quot;.equals(isPosted) ? true : false : false }"/>
        </field>
        <field name="fromDateCompetence" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;hasCompetence&quot;))}">
            <hidden/>
        </field>
        <field name="toDateCompetence" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;hasCompetence&quot;))}" position="2">
            <date-time type="date" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? &quot;Y&quot;.equals(isPosted) ? true : false : false }"/>
        </field>
        <field name="toDateCompetence" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;hasCompetence&quot;))}">
            <hidden/>
        </field>
         <field name="isPosted">
            <drop-down read-only="${bsh: import org.ofbiz.base.util.UtilValidate; return !&quot;Y&quot;.equals(parameters.get(&quot;weIsTemplate&quot;)) || isInsertMode}" allow-empty="true" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
        <sort-order>
           <sort-field name="weTransMeasureId"/>
           <sort-field name="weTransProductId"/>
           <sort-field name="entryRoleTypeId"/>
           <sort-field name="entryPartyId"/>
            <sort-field name="customTimePeriodId"/>
            <sort-field name="origAmount"/>
            <sort-field name="perfAmountCalc"/>
            <sort-field name="weTransValue"/>
            <sort-field name="amountLocked"/>
            <sort-field name="weTransCurrencyUomId"/>
            <sort-field name="weTransComment"/>
            <sort-field name="weTransComments"/>
            <sort-field name="weTransTypeValueId"/>
            <sort-field name="fromDateCompetence"/>
            <sort-field name="toDateCompetence"/>
            <sort-field name="isPosted"/>
        </sort-order>
    </form>
    
    
    <!-- 
    end 4144
     -->

    <form name="WorkEffortTransactionViewPortletManagementListForm" id="WETVPML001_WorkEffortTransactionView" extends="BasePortletListForm" extends-resource="component://base/widget/PortletForms.xml">
        <read-only>
            <not>
                <or>
                    <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                    <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                    <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                    <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                </or>
            </not>
        </read-only>
        <field name="entityName">
            <hidden value="WorkEffortTransactionView"/>
        </field>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortTransactionView"/>
        </field>
        <field name="weTransWeId">
            <hidden/>
        </field>
        <field name="weTransMeasureId">
            <hidden/>
        </field>
        <field name="weTransId">
            <hidden/>
        </field>
        <field name="weTransEntryId">
            <hidden/>
        </field>
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="weTransAccountId" title="${uiLabelMap.FormFieldTitle_glAccountId}">
            <display description="${weTransAccountDesc}"/>
        </field>
        <field name="weTransTypeValueId">
            <display description="${weTransTypeValueDesc}"/>
        </field>
        <field name="weTransDate">
            <hidden/>
        </field>
        <field name="customTimePeriodId" required-field="true" title="${uiLabelMap.FormFieldTitle_customTimePeriodThruDate}">
            <drop-down type="drop-list" show-tooltip="true" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="customTimePeriodCode" read-only="true">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${periodName}">
                    <select-field field-name="customTimePeriodCode" display="true"/>
                    <select-field field-name="periodName" display="hidden-disabled"/>
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <entity-constraint name="organizationPartyId" env-name="organizationId"/>
                    <entity-constraint name="periodTypeId" env-name="periodTypeId"/>
                    <entity-order-by field-name="periodNum"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="value" use-when="&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;))" title="${uiLabelMap.FormFieldTitle_weTransValue}">
            <display description="${weTransValueCode}"/>
        </field>
        <field name="value" use-when="!(&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)))" title="${uiLabelMap.FormFieldTitle_weTransValue}">
            <display description="${weTransValue}"/>
        </field>
        <field name="desc" use-when="&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;))" title="${uiLabelMap.FormFieldTitle_weTransValueDesc}">
            <display description="${weTransValueDesc}"/>
        </field>
        <field name="desc" use-when="!(&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)))" title="${uiLabelMap.FormFieldTitle_weTransValueDesc}">
            <display description="${weTransUomDesc}"/>
        </field>
    </form>
    
    <form name="WorkEffortTransactionViewPortletContextManagementForm" extends="PortletContextManagementForm" extends-resource="component://base/widget/PortletForms.xml">
        <actions>
            <set field="entityName" value="WorkEffortTransactionView"/>
            <set field="managementFormLocation" value="component://workeffortext/widget/forms/WorkEffortMeasureForms.xml"/>
            <set field="managementFormType" value=""/>
            <set field="addSelectParams" value="rootInqyTree=${parameters.rootInqyTree}"/>
            <set field="portletSelectAreaTarget" value="workEffortTransactionViewManagementContainerOnly"/>
        </actions>
    </form>

    <form name="WorkEffortTransactionViewIsObiettivoManagementForm" extends="WorkEffortTransactionViewManagementForm">
        <read-only>
            <or>
                <if-compare operator="equals" field="weTransPeriodIsClosed" value="Y"/>
                <not>
                    <and>
                        <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                        <or>
                            <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                            <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                            <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                            <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                        </or>
                    </and>
                </not>
            </or>
        </read-only>
        
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="hasCompetence">
            <hidden/>
        </field>
        <field name="fromDateCompetence" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;hasCompetence&quot;))}">
            <date-time type="date"/>
        </field>
        <field name="fromDateCompetence" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;hasCompetence&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;hasCompetence&quot;))}">
            <hidden/>
        </field>
        <field name="toDateCompetence" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;hasCompetence&quot;))}" position="2">
            <date-time type="date"/>
        </field>
        <field name="toDateCompetence" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;hasCompetence&quot;))}">
            <hidden/>
        </field>
        <field name="isPosted">
            <drop-down read-only="${isInsertMode}" allow-empty="true" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
        <sort-order>
            <sort-field name="weTransMeasureId"/>
            <sort-field name="weTransProductId"/>
            <sort-field name="entryRoleTypeId"/>
            <sort-field name="entryPartyId"/>
            <sort-field name="customTimePeriodId"/>
            <sort-field name="origAmount"/>
            <sort-field name="perfAmountCalc"/>
            <sort-field name="weTransValue"/>
            <sort-field name="amountLocked"/>
            <sort-field name="weTransCurrencyUomId"/>
            <sort-field name="weTransComment"/>
            <sort-field name="weTransComments"/>
            <sort-field name="weTransTypeValueId"/>
            <sort-field name="fromDateCompetence"/>
            <sort-field name="toDateCompetence"/>
            <sort-field name="isPosted"/>
        </sort-order>
    </form>
    
    <form name="WorkEffortTransactionViewManagementForm" id="WETVMF001${accountTypeEnumId}_WorkEffortTransactionViewManagementForm" extends="WorkEffortTransactionViewManagementForm" extends-resource="component://accountingext/widget/forms/GlAccountForms.xml">
        <actions>
             <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/actionWorkEffortTransactionView.groovy"/>
        	 <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getGlAccountTypeGlFiscalTypeViewList.groovy"/>
        	 <!-- controllo per ogni riga se deve essere disabilitata in base a delle condizioni -->
             <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/isRowReadOnlyWorkEffortMeasure.groovy"/> 
        	 
        </actions>
        <read-only>
            <or>
                <if-compare operator="equals" field="weTransPeriodIsClosed" value="Y"/>
                <if-compare operator="equals" field="isRowReadOnlyWorkEffortMeasure" value="true"/>
                <if-compare operator="equals" value="NONE" field="crudEnumId"/>
                <if-compare operator="equals" value="ALL_NOT_MOD" field="valModId"/>
                <and>
                	<if-compare operator="equals" value="ACTUAL_NOT_MOD" field="valModId"/>
                	<if-compare operator="equals" value="ACTUAL" field="weTransTypeValueId"/>
                </and>
                <and>
                	<if-compare operator="equals" value="BUDGET_NOT_MOD" field="valModId"/>
                	<if-compare operator="equals" value="BUDGET" field="weTransTypeValueId"/>
                </and>
                <not>
                    <and>
                        <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                        <or>
                            <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                            <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                            <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                            <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                        </or>
                    </and>
                </not>
            </or>
        </read-only>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortTransactionView"/>
        </field>
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="weMeasureUomType">
            <hidden/>
        </field>
        <field name="weTransWeId" required-field="true">
            <hidden/>
        </field>
        <field name="weTransMeasureTypeDesc">
            <hidden/>
        </field>
        <field name="rootInqyTree">
            <hidden/>
        </field>
        <field name="weTransMeasureId" required-field="true" title="${uiLabelMap.FormFieldTitle_indicatorGlAccountId}" use-when="${bsh: &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))}">
            <drop-down size="50" type="drop-list" maxlength="255" local-autocompleter="false" drop-list-key-field="weMeasureId" drop-list-display-field="weMeasureAccountDesc" show-tooltip="true">
                <entity-options entity-name="WorkEffortMeasureViewWithWorkEffortPurposeType" key-field-name="weMeasureId" description="${weMeasureAccountDesc}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weMeasureUomDescr&quot;)) ? &quot; - &quot; + context.get(&quot;weMeasureUomDescr&quot;) : &quot;&quot;}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;prodUomDescr&quot;)) ? &quot; - &quot; + context.get(&quot;prodUomDescr&quot;) : &quot;&quot;}">
                    <select-field field-name="weMeasureId" display="false"/>
                    <select-field field-name="weMeasureAccountDesc" display="true"/>
                    <select-field field-name="weMeasureUomDescr" display="true"/>
                    <select-field field-name="weMeasureAccountId" display="hidden-disabled"/>
                    <select-field field-name="weMeasureProductDesc" display="hidden-disabled"/>
                    <select-field field-name="weMeasureUomType" display="hidden-disabled"/>
                    <select-field field-name="weMeasureUomDecimalScale" display="hidden-disabled"/>
                    <select-field field-name="weMeasureAccountCode" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeValueId" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeValueDesc" display="hidden-disabled"/>
                    <select-field field-name="weMeasureDefaultUomId" display="hidden-disabled"/>
                    <select-field field-name="weMeasureDefaultUomDesc" display="hidden-disabled"/>
                    <select-field field-name="weMeasurePeriodTypeId" display="hidden-disabled"/>
                    <entity-constraint name="weMeasureWeId" env-name="weTransWeId"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="we.workEffortTypeId"/>
                    <entity-order-by field-name="weMeasureId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransMeasureId" required-field="true" title="${uiLabelMap.FormFieldTitle_resourceGlAccountId}" use-when="${bsh: !&quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))}">
            <drop-down size="50" type="drop-list" maxlength="255" local-autocompleter="false" drop-list-key-field="weMeasureId" drop-list-display-field="weMeasureAccountDesc" show-tooltip="true">
                <entity-options entity-name="WorkEffortMeasureViewWithWorkEffortPurposeType" key-field-name="weMeasureId" description="${weMeasureAccountDesc}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weMeasureUomDescr&quot;)) ? &quot; - &quot; + context.get(&quot;weMeasureUomDescr&quot;) : &quot;&quot;}">
                    <select-field field-name="weMeasureId" display="false"/>
                    <select-field field-name="weMeasureAccountDesc" display="true"/>
                    <select-field field-name="weMeasureUomDescr" display="true"/>
                    <select-field field-name="weMeasureAccountId" display="hidden-disabled"/>
                    <select-field field-name="weMeasureProductDesc" display="hidden-disabled"/>
                    <select-field field-name="weMeasureUomType" display="hidden-disabled"/>
                    <select-field field-name="weMeasureUomDecimalScale" display="hidden-disabled"/>
                    <select-field field-name="weMeasureAccountCode" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeValueId" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeValueDesc" display="hidden-disabled"/>
                    <select-field field-name="weMeasureDefaultUomId" display="hidden-disabled"/>
                    <select-field field-name="weMeasureDefaultUomDesc" display="hidden-disabled"/>
                    <select-field field-name="weMeasurePeriodTypeId" display="hidden-disabled"/>
                    <entity-constraint name="weMeasureWeId" env-name="weTransWeId"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="we.workEffortTypeId"/>
                    <entity-order-by field-name="weMeasureId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransMeasureId" title="${uiLabelMap.FormFieldTitle_indicatorGlAccountId}" use-when="${bsh: &quot;SCOREKPI&quot;.equals(context.get(&quot;weAcctgTransAccountId&quot;))}">
            <drop-down type="drop-list" read-only="true" size="50" maxlength="255" local-autocompleter="false" drop-list-key-field="workEffortMeasureId" drop-list-display-field="trAccountName" tooltip="${mAccountCode} - ${mAccountName} - ${trAccountName}">
                <entity-options entity-name="WorkEffortMeasureScoreKpi" key-field-name="workEffortMeasureId" description="${mAccountName} - ${trAccountName}">
                    <select-field field-name="mAccountName" display="true"/>
                    <select-field field-name="trAccountName" display="true"/>
                    <select-field field-name="workEffortMeasureId"/>
                    <entity-order-by field-name="mAccountName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransDate">
            <hidden/>
        </field>
        <field name="customTimePeriodId" required-field="true" title="${uiLabelMap.FormFieldTitle_customTimePeriodThruDate}">
            <drop-down type="drop-list" show-tooltip="true" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="customTimePeriodCode">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${periodName}">
                    <select-field field-name="customTimePeriodCode" display="true"/>
                    <select-field field-name="periodName" display="hidden-disabled"/>
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <entity-constraint name="periodTypeId" env-name="periodTypeId" lookup-for-field-name="weMeasurePeriodTypeId"/>
                    <entity-constraint name="organizationPartyId" env-name="organizationId"/>
                    <entity-order-by field-name="periodNum"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransEmplPosTypeId">
            <hidden/>
        </field>
        <field name="weTransRoleDesc">
            <hidden/>
        </field>
        <field name="weTransPartyId">
            <hidden/>
        </field>
        <field name="weTransOtherWorkEffortId">
            <hidden/>
        </field>
        <field name="weTransOtherMeasGoalDesc">
            <hidden/>
        </field>
        <field name="origAmount" use-when="${bsh: &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; (&quot;RATING_SCALE&quot;.equals(parameters.get(&quot;weMeasureUomType&quot;)) || &quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)))}">
            <drop-down maxlength="255" read-only="true">
                <entity-options entity-name="WorkEffortMeasRatSc" key-field-name="uomRatingValue" description="${uomCode}">
                    <select-field field-name="uomCode" display="true"/>
                    <select-field field-name="workEffortMeasureId"/>
                    <select-field field-name="uomRatingValue"/>
                    <select-field field-name="uomDescr"/>
                    <entity-constraint name="workEffortMeasureId" operator="equals" env-name="weTransMeasureId"/>
                    <entity-order-by field-name="uomRatingValue"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="perfAmountCalc" use-when="${bsh: &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; (&quot;RATING_SCALE&quot;.equals(parameters.get(&quot;weMeasureUomType&quot;)) || &quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)))}">
            <drop-down maxlength="255" read-only="true">
                <entity-options entity-name="WorkEffortMeasRatSc" key-field-name="uomRatingValue" description="${uomCode}">
                    <select-field field-name="uomCode" display="true"/>
                    <select-field field-name="workEffortMeasureId"/>
                    <select-field field-name="uomRatingValue"/>
                    <select-field field-name="uomDescr"/>
                    <entity-constraint name="workEffortMeasureId" operator="equals" env-name="weTransMeasureId"/>
                    <entity-order-by field-name="uomRatingValue"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransValue" required-field="true" use-when="${bsh: &quot;RATING_SCALE&quot;.equals(parameters.get(&quot;weMeasureUomType&quot;)) || &quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;))}">
            <drop-down maxlength="255">
                <entity-options entity-name="WorkEffortMeasRatSc" key-field-name="uomRatingValue" description="${uomCode}">
                    <select-field field-name="uomCode" display="true"/>
                    <select-field field-name="workEffortMeasureId"/>
                    <select-field field-name="uomRatingValue"/>
                    <select-field field-name="uomDescr"/>
                    <entity-constraint name="workEffortMeasureId" operator="equals" env-name="weTransMeasureId"/>
                    <entity-order-by field-name="uomRatingValue"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransValue" widget-style="numericInSingle input_mask mask_field_weMeasureUomDecimalScale" use-when="${bsh: !&quot;RATING_SCALE&quot;.equals(parameters.get(&quot;weMeasureUomType&quot;)) &amp;&amp; !&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)) &amp;&amp; !&quot;DATE_MEASURE&quot;.equals(parameters.get(&quot;weMeasureUomType&quot;)) &amp;&amp; !&quot;DATE_MEASURE&quot;.equals(context.get(&quot;weTransUomType&quot;))}" required-field="true">
            <text decimal-digits="${weTransDecimalScale}" validity-field-type="double"/>
        </field>        
        <field name="weTransValue" use-when="${bsh: &quot;DATE_MEASURE&quot;.equals(parameters.get(&quot;weMeasureUomType&quot;)) || &quot;DATE_MEASURE&quot;.equals(context.get(&quot;weTransUomType&quot;))}" required-field="true">
            <date-time type="date"/>
        </field>
        
        <field name="origAmount" widget-style="numericInSingle" use-when="${bsh: &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; (!&quot;RATING_SCALE&quot;.equals(parameters.get(&quot;weMeasureUomType&quot;)) &amp;&amp; !&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)))}">
            <text read-only="true"/>
        </field>
        <field name="perfAmountCalc" widget-style="numericInSingle" use-when="${bsh: &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) &amp;&amp; (!&quot;RATING_SCALE&quot;.equals(parameters.get(&quot;weMeasureUomType&quot;)) &amp;&amp; !&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)))}">
            <text read-only="true"/>
        </field>
        
        <field name="weMeasureDefaultUomId" widget-style="weMeasureDefaultUomId">
            <hidden/>
        </field>
        <field name="weTransDecimalScale" widget-style="weMeasureUomDecimalScale">
            <hidden/>
        </field>
        <field name="weMeasureTypeValueId" widget-style="weMeasureTypeValueId">
            <hidden/>
        </field>
        <field name="weTransTypeValueId" use-when="${bsh: !&quot;W&quot;.equals(parameters.get(&quot;insertMode&quot;)) &amp;&amp; !&quot;Y&quot;.equals(parameters.get(&quot;insertMode&quot;)) &amp;&amp; &quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))}" position="2" title="${uiLabelMap.FormFieldTitle_weTransTypeValueId}" required-field="true" >
            <drop-down type="drop-list" maxlength="255" local-autocompleter="false" drop-list-key-field="glFiscalTypeId" drop-list-display-field="description">
                <entity-options entity-name="GlAccountTypeGlFiscalTypeView" key-field-name="glFiscalTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="glFiscalTypeId"/>
                    <entity-constraint name="glAccountTypeId" env-name="glAccountTypeId"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransTypeValueId" use-when="${bsh: !&quot;W&quot;.equals(parameters.get(&quot;insertMode&quot;)) &amp;&amp; !&quot;Y&quot;.equals(parameters.get(&quot;insertMode&quot;)) &amp;&amp; !&quot;INDICATOR&quot;.equals(context.get(&quot;accountTypeEnumId&quot;))}" position="2" title="${uiLabelMap.FormFieldTitle_weTransTypeValueId}" required-field="true" >
            <drop-down type="drop-list" maxlength="255" local-autocompleter="true" drop-list-key-field="glFiscalTypeId" drop-list-display-field="description">
                <list-options key-name="glFiscalTypeId" list-name="glFiscalTypeIdList" description="${description}"/>
            </drop-down>
        </field>        
        <field name="weTransTypeValueId" use-when="${bsh: &quot;W&quot;.equals(parameters.get(&quot;insertMode&quot;)) || &quot;Y&quot;.equals(parameters.get(&quot;insertMode&quot;)) }" title="${uiLabelMap.FormFieldTitle_weTransTypeValueId}" required-field="true" >
            <drop-down type="drop-list" maxlength="255" local-autocompleter="true" drop-list-key-field="glFiscalTypeId" drop-list-display-field="description" >
                <list-options description="${description}" key-name="glFiscalTypeId" list-name="parameters.glAccountTypeGlFiscalTypeView"/>
            </drop-down>
        </field>
        
        <field name="weTransComment" title="${uiLabelMap.FormFieldTitle_weTransReferences}">
            <text size="50" maxlength="255"/>
        </field>
        <field name="weTransComments" title="${uiLabelMap.FormFieldTitle_weTransComments}">
            <textarea cols="47"/>
        </field>
        <field name="weTransCurrencyUomId" required-field="false" title="${uiLabelMap.FormFieldTitle_defaultUomId}" position="2">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="uomId" drop-list-display-field="description" read-only="true">
                <entity-options entity-name="Uom" key-field-name="uomId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="uomId"/>
                    <entity-order-by field-name="uomId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="roleTypeId">
            <ignored/>
        </field>
        <field name="partyId">
            <ignored/>
        </field>
        <field name="fromDateCompetence" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;hasCompetence&quot;))}">
            <date-time type="date" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? &quot;Y&quot;.equals(isPosted) ? true : false : false }"/>
        </field>
        <field name="fromDateCompetence" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;hasCompetence&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;hasCompetence&quot;))}">
            <hidden/>
        </field>
        <field name="toDateCompetence" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;hasCompetence&quot;))}" position="2">
            <date-time type="date" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? &quot;Y&quot;.equals(isPosted) ? true : false : false }"/>
        </field>
        <field name="toDateCompetence" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;hasCompetence&quot;))}">
            <hidden/>
        </field>
        <field name="group_WorkEffortTransactionViewMeasurementData">
            <ignored/>
        </field>
        <field name="group_WorkEffortTransactionViewDestinationData_sep">
            <ignored/>
        </field>
        <field name="group_WorkEffortTransactionViewDestinationData">
            <ignored/>
        </field>
        <field name="group_WorkEffortTransactionViewValueData_sep">
            <ignored/>
        </field>
        <field name="group_WorkEffortTransactionViewValueData">
            <ignored/>
        </field>
        <field name="isPosted">
            <drop-down read-only="${bsh: import org.ofbiz.base.util.UtilValidate; return !&quot;Y&quot;.equals(context.get(&quot;weIsTemplate&quot;)) || isInsertMode}" allow-empty="true" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
        <sort-order>
            <sort-field name="weTransMeasureId"/>
            <sort-field name="weTransProductId"/>
            <sort-field name="entryRoleTypeId"/>
            <sort-field name="entryPartyId"/>
            <sort-field name="customTimePeriodId"/>
            <sort-field name="origAmount"/>
            <sort-field name="perfAmountCalc"/>
            <sort-field name="weTransValue"/>
            <sort-field name="amountLocked"/>
            <sort-field name="weTransCurrencyUomId"/>
            <sort-field name="weTransComment"/>
            <sort-field name="weTransComments"/>
            <sort-field name="weTransTypeValueId"/>
        	<sort-field name="fromDateCompetence"/>
            <sort-field name="toDateCompetence"/>
            <sort-field name="isPosted"/>
        </sort-order>
    </form>

    <form name="WorkEffortTransDashViewMIS.3PortletManagementListForm" id="WETDV3PML001_WorkEffortTransDashView" extends="BasePortletListForm" extends-resource="component://base/widget/PortletForms.xml">
        <field name="wtDashMeasureId">
            <hidden/>
        </field>
        <field name="wtDashPeriodDate">
            <hidden/>
        </field>
        <field name="wtDashWeId">
            <hidden/>
        </field>
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="wtDashMeasureType">
            <hidden/>
        </field>
        <field name="wtDashAccountDescr">
            <display/>
        </field>
        <field name="wtDashKpiScoreWeight">
            <display/>
        </field>
        <field name="wtDashPeriodDate">
            <display type="date"/>
        </field>
        <field name="wtDashPartyDescr">
            <display/>
        </field>
        <field name="wtDashValue1" use-when="${bsh: !&quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;)) &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;wtDashValue1Label&quot;))}" title="${context.wtDashValue1Label}">
            <display/>
        </field>
        <field name="wtDashValue2" use-when="${bsh: !&quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;)) &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;wtDashValue2Label&quot;))}" title="${context.wtDashValue2Label}">
            <display/>
        </field>
        <field name="wtDashValue3" use-when="${bsh: !&quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;)) &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;wtDashValue3Label&quot;))}" title="${context.wtDashValue3Label}">
            <display/>
        </field>
        <field name="wtDashValue4" use-when="${bsh: !&quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;)) &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;wtDashValue4Label&quot;))}" title="${context.wtDashValue4Label}">
            <display/>
        </field>
        <field name="wtDashUomDescr" use-when="${bsh: !&quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;))}">
            <display/>
        </field>
        <field name="wtDashValue1Code" use-when="${bsh: &quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;))}">
            <display floating-tooltip="${wtDashValue1Descr}"/>
        </field>
        <field name="wtDashValue2Code" use-when="${bsh: &quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;))}">
            <display floating-tooltip="${wtDashValue2Descr}"/>
        </field>
        <field name="wtDashValue3Code" use-when="${bsh: &quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;))}">
            <display floating-tooltip="${wtDashValue3Descr}"/>
        </field>
        <field name="wtDashValue4Code" use-when="${bsh: &quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;))}">
            <display floating-tooltip="${wtDashValue4Descr}"/>
        </field>
        <field name="wtDashProductDescr">
            <display/>
        </field>
        <field name="wtDashEmplPositionTypeDescr">
            <display/>
        </field>
    </form>

    <form name="WorkEffortTransDashViewMIS3.1PortletManagementListForm" id="WETDV3.1PML001_WorkEffortTransDashView" extends="WorkEffortTransDashViewMIS.3PortletManagementListForm">
        <field name="wtDashAccountDescr" title="${uiLabelMap.FormFieldTitle_wtDashAccountDescr3_1}">
            <display/>
        </field>
        <field name="wtDashKpiScoreWeight">
            <ignored/>
        </field>
        <field name="wtDashPartyDescr">
            <ignored/>
        </field>
        <field name="wtDashProductDescr">
            <ignored/>
        </field>
        <field name="wtDashEmplPositionTypeDescr">
            <ignored/>
        </field>
        <sort-order>
            <sort-field name="wtDashAccountDescr"/>
            <sort-field name="wtDashPeriodDate"/>
            <sort-field name="wtDashValue1"/>
            <sort-field name="wtDashValue2"/>
            <sort-field name="wtDashValue3"/>
            <sort-field name="wtDashValue4"/>
            <sort-field name="wtDashUomDescr"/>
        </sort-order>
    </form>

    <form name="WorkEffortTransDashViewMIS3.2PortletManagementListForm" id="WETDV3.2PML001_WorkEffortTransDashView" extends="WorkEffortTransDashViewMIS.3PortletManagementListForm">
        <field name="wtDashAccountDescr" title="${uiLabelMap.FormFieldTitle_wtDashAccountDescr3_2}">
            <display/>
        </field>
        <field name="wtDashPartyDescr">
            <ignored/>
        </field>
        <field name="wtDashProductDescr">
            <ignored/>
        </field>
        <field name="wtDashEmplPositionTypeDescr">
            <ignored/>
        </field>
        <sort-order>
            <sort-field name="wtDashAccountDescr"/>
            <sort-field name="wtDashKpiScoreWeight"/>
            <sort-field name="wtDashPeriodDate"/>
            <sort-field name="wtDashValue1"/>
            <sort-field name="wtDashValue2"/>
            <sort-field name="wtDashValue3"/>
            <sort-field name="wtDashValue4"/>
            <sort-field name="wtDashUomDescr"/>
        </sort-order>
    </form>

    <form name="WorkEffortTransDashViewMIS3.8PortletManagementListForm" id="WETDV3.8PML001_WorkEffortTransDashView" extends="WorkEffortTransDashViewMIS.3PortletManagementListForm">
        <field name="wtDashAccountDescr" title="${uiLabelMap.FormFieldTitle_wtDashAccountDescr3_8}">
            <display/>
        </field>
        <field name="wtDashKpiScoreWeight">
            <ignored/>
        </field>
        <field name="wtDashProductDescr">
            <ignored/>
        </field>
        <field name="wtDashEmplPositionTypeDescr">
            <ignored/>
        </field>
        <sort-order>
            <sort-field name="wtDashAccountDescr"/>
            <sort-field name="wtDashPartyDescr"/>
            <sort-field name="wtDashPeriodDate"/>
            <sort-field name="wtDashValue1"/>
            <sort-field name="wtDashValue2"/>
            <sort-field name="wtDashValue3"/>
            <sort-field name="wtDashValue4"/>
            <sort-field name="wtDashUomDescr"/>
        </sort-order>
    </form>

    <form name="WorkEffortTransDashViewMIS.3ContextManagementForm" extends="PortletContextManagementForm" extends-resource="component://base/widget/PortletForms.xml">
        <actions>
            <set field="managementScreenName" value="WorkEffortTransDashViewManagementScreen"/>
            <set field="managementScreenLocation" value="component://workeffortext/widget/screens/WorkeffortExtScreens.xml"/>
        </actions>
        <field name="selectedElementButton" id-name="arrayListSelectedElementButton" widget-style="buttontext search-selected-element-button" title=" " position="4">
            <hyperlink link-type="anchor" description="${uiLabelMap.BaseSelectedElement}" target="management?childManagement=Y&amp;saveView=current&amp;fromPortlet=Y&amp;managementFormType=${managementFormType}&amp;managementFormName=${managementFormName}&amp;managementFormLocation=${managementFormLocation}&amp;managementFormScreenLocation=${managementFormScreenLocation}&amp;managementScreenName=${managementScreenName}&amp;managementScreenLocation=${managementScreenLocation}&amp;parentEntityName=${parentEntityName}" also-hidden="false"/>
            <on-field-event-update-area area-target="managementContainerOnly" event-type="click" area-id="common-container"/>
        </field>
    </form>

    <form name="WorkEffortTransDashViewManagementListForm" id="WETDVML001_WorkEffortTransDashView" extends="BaseManagementDblClickListForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="wtDashMeasureId">
            <hidden/>
        </field>
        <field name="wtDashPeriodDate">
            <hidden/>
        </field>
        <field name="wtDashWeId">
            <hidden/>
        </field>
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="wtDashMeasureType">
            <hidden/>
        </field>
        <field name="isPosted">
            <hidden/>
        </field>
        <field name="wtDashAccountDescr">
            <display/>
        </field>
        <field name="wtDashKpiScoreWeight">
            <display/>
        </field>
        <field name="wtDashPeriodDate">
            <display type="date"/>
        </field>
        <field name="wtDashPartyDescr">
            <display/>
        </field>
        <field name="wtDashValue1" use-when="${bsh: !&quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;)) &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;wtDashValue1Label&quot;))}" title="${context.wtDashValue1Label}">
            <display/>
        </field>
        <field name="wtDashValue2" use-when="${bsh: !&quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;)) &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;wtDashValue2Label&quot;))}" title="${context.wtDashValue2Label}">
            <display/>
        </field>
        <field name="wtDashValue3" use-when="${bsh: !&quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;)) &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;wtDashValue3Label&quot;))}" title="${context.wtDashValue3Label}">
            <display/>
        </field>
        <field name="wtDashValue4" use-when="${bsh: !&quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;)) &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;wtDashValue4Label&quot;))}" title="${context.wtDashValue4Label}">
            <display/>
        </field>
        <field name="wtDashUomDescr" use-when="${bsh: !&quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;))}">
            <display/>
        </field>
        <field name="wtDashValue1Code" use-when="${bsh: &quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;))}">
            <display floating-tooltip="${wtDashValue1Descr}"/>
        </field>
        <field name="wtDashValue2Code" use-when="${bsh: &quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;))}">
            <display floating-tooltip="${wtDashValue2Descr}"/>
        </field>
        <field name="wtDashValue3Code" use-when="${bsh: &quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;))}">
            <display floating-tooltip="${wtDashValue3Descr}"/>
        </field>
        <field name="wtDashValue4Code" use-when="${bsh: &quot;RATING_SCALE&quot;.equals(context.get(&quot;wtDashMeasureType&quot;))}">
            <display floating-tooltip="${wtDashValue4Descr}"/>
        </field>
        <field name="wtDashProductDescr">
            <display/>
        </field>
        <field name="wtDashEmplPositionTypeDescr">
            <display/>
        </field>
        <sort-order>
            <sort-field name="wtDashAccountDescr"/>
            <sort-field name="wtDashKpiScoreWeight"/>
            <sort-field name="wtDashPartyDescr"/>
            <sort-field name="wtDashPeriodDate"/>
            <sort-field name="wtDashValue1"/>
            <sort-field name="wtDashValue2"/>
            <sort-field name="wtDashValue3"/>
            <sort-field name="wtDashValue4"/>
            <sort-field name="wtDashUomDescr"/>
        </sort-order>
    </form>
    
    <!--  utilizzata come dettaglio WETDVML001_WorkEffortTransDashView -->
    
    <form name="WorkEffortTransactionViewManagementListForm" id="WETVML001${glResourceTypeId}_WorkEffortTransactionView" extends="BaseManagementDblClickListForm" extends-resource="component://base/widget/BaseForms.xml">
        <read-only>
            <not>
                <or>
                    <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                    <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                    <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                    <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                </or>
            </not>
        </read-only>
        <field name="glAccountConditionField">
            <hidden/>
        </field>
        <field name="weTransWeId">
            <hidden/>
        </field>
        <field name="weTransMeasureId">
            <hidden/>
        </field>
        <field name="weTransId">
            <hidden/>
        </field>
        <field name="weTransEntryId">
            <hidden/>
        </field>
        <field name="weTransAccountId" use-when="!displayWeTransAccountIdField">
            <hidden/>
        </field>
        <field name="isPosted">
            <hidden/>
        </field>
        
        <!--<field name="weTransAccountId" title="${uiLabelMap.FormFieldTitle_glAccountId}" use-when="displayWeTransAccountIdField">
            <display description="${weTransAccountDesc}"/>
        </field>-->
        
        <field name="weTransAccountId" title="${uiLabelMap.FormFieldTitle_glAccountId}" use-when=" ${bsh: return ( context.get(&quot;displayWeTransAccountIdField&quot;) &amp;&amp; !&quot;RESOURCE&quot;.equals(context.get(&quot;glResourceTypeId&quot;)))}">
            <display description="${weTransAccountDesc}"/>
        </field>
        
        <field name="weTransAccountId" title="${uiLabelMap.FormFieldTitle_glAccountId}" use-when=" ${bsh: return ( context.get(&quot;displayWeTransAccountIdField&quot;) &amp;&amp; &quot;RESOURCE&quot;.equals(context.get(&quot;glResourceTypeId&quot;)))}">
            <display description="${weTransAccountCode} - ${weTransAccountDesc}"/>
        </field>
        
        <field name="weTransTypeValueId">
            <display description="${weTransTypeValueDesc}"/>
        </field>
        <field name="weTransDate">
            <display type="date"/>
        </field>
        <field name="value" use-when="&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;))" title="${uiLabelMap.FormFieldTitle_weTransValue}">
            <display description="${weTransValueCode}"/>
        </field>
        <field name="value" use-when="!(&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)))" title="${uiLabelMap.FormFieldTitle_weTransValue}">
            <display description="${weTransValue}"/>
        </field>
<!--         <field name="desc" use-when="&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;))" title="${uiLabelMap.FormFieldTitle_weTransValueDesc}"> -->
<!--             <display description="${weTransValueDesc}"/> -->
<!--         </field> -->
<!--         <field name="desc" use-when="!(&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)))" title="${uiLabelMap.FormFieldTitle_weTransValueDesc}"> -->
<!--             <display description="${weTransUomDesc}"/> -->
<!--         </field> -->

        <field name="desc" title="${uiLabelMap.FormFieldTitle_weTransValueDesc}">
            <display description="${weTransUomDesc}"/>
        </field>
        
<!--        <field name="weTransAccountCode" use-when="${bsh: &quot;RESOURCE&quot;.equals(context.get(&quot;glResourceTypeId&quot;))}">-->
<!--            <display/>-->
<!--        </field>-->
    </form>

    <form name="WorkEffortTransDashViewContextManagementListForm" extends="BaseContextExtendedManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <set field="contextManagementScreenName" value="WorkEffortTransDashViewDetailContextScreen"/>
            <set field="contextManagementScreenLocation" value="component://workeffortext/widget/screens/WorkeffortExtScreens.xml"/>

            <set field="childManagementFormListScreenName" value="WorkEffortTransDashViewManagementScreen"/>
            <set field="childManagementFormListScreenLocation" value="component://workeffortext/widget/screens/WorkeffortExtScreens.xml"/>
        </actions>
        <field name="selectedElementButton" widget-style="buttontext management-selected-element-button" title=" ">
            <hyperlink link-type="anchor" description="${uiLabelMap.BaseSelectedElement}"
                target="management?oldManagementFormType=${managementFormType}&amp;detail=Y&amp;entityName=${entityName}&amp;parentEntityName=${parentEntityName}&amp;insertMode=${insertMode}&amp;subFolder=${subFolder}&amp;relationTitle=${relationTitle}&amp;screenNameListIndex=${screenNameListIndex}&amp;folderIndex=${folderIndex}&amp;actionMenuName=ManagementMenuDetailBar&amp;actionMenuLocation=component://base/widget/BaseMenus.xml&amp;managementFormLocation=${managementFormLocation}&amp;childManagementFormListLocation=${childManagementFormListLocation}&amp;managementFormScreenName=${managementFormScreenName}&amp;childManagementFormListScreenName=${childManagementFormListScreenName}&amp;childManagementFormListScreenLocation=${childManagementFormListScreenLocation}&amp;managementFormScreenLocation=${managementFormScreenLocation}&amp;searchFormLocation=${searchFormLocation}&amp;searchFormResultLocation=${searchFormResultLocation}&amp;advancedSearchFormLocation=${advancedSearchFormLocation}&amp;contextManagementScreenName=${contextManagementScreenName}&amp;contextManagementScreenLocation=${contextManagementScreenLocation}&amp;contextManagementFormName=${contextManagementFormName}&amp;contextManagementFormLocation=${contextManagementFormLocation}&amp;childManagementDetailTitle=${childManagementDetailTitle}&amp;${bsh: import org.ofbiz.base.util.UtilValidate;import org.ofbiz.base.util.StringUtil; return UtilValidate.isNotEmpty(context.get(&quot;queryString&quot;)) ? &quot;&amp;queryString=&quot; + StringUtil.replaceString(context.get(&quot;queryString&quot;), &quot;&amp;amp;&quot;, &quot;|&quot;) : (UtilValidate.isNotEmpty(parameters.get(&quot;queryString&quot;)) ? &quot;&amp;queryString=&quot; + StringUtil.replaceString(parameters.get(&quot;queryString&quot;), &quot;&amp;amp;&quot;, &quot;|&quot;) : &quot;&quot;);}&amp;${bsh: &quot;Y&quot;.equals(context.get(&quot;subFolder&quot;)) ?  &quot;&quot; : &quot;saveView=current&quot; }&amp;${extraParams}"
                also-hidden="false"/>
            <on-field-event-update-area area-target="${selectAreaTarget}" event-type="click" area-id="${selectAreaId}"/>
        </field>
    </form>
    
    <form name="WorkEffortMeasureAndPurposeAccountIndSearchForm" extends="BaseSearchForm" extends-resource="component://base/widget/BaseForms.xml" append-field="false">
        <actions>
            <set field="orderBy" value="workEffortId"/>
        </actions>
        <field name="workEffortSnapshotId_fld0_op" use-when="${groovy: org.ofbiz.base.util.UtilValidate.isEmpty(parameters.get(&quot;snapshot&quot;)) || !&quot;Y&quot;.equals(parameters.get(&quot;snapshot&quot;))}">
        	<hidden value="empty"/>
        </field>
        <field name="workEffortId" title="${uiLabelMap.WorkEffortMeasure_target}">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" edit-field-name="sourceReferenceId" key-field-name="workEffortId" description-field-name="workEffortName">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="weMeasureTypeEnumId">
            <drop-down current="selected" allow-empty="true">
                <entity-options entity-name="Enumeration" description="${bsh: return uiLabelMap.get(&quot;Enumeration.description.&quot; + context.get(&quot;enumId&quot;))}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_MEASURE_TYPE"/>
                    <entity-constraint name="enumId" operator="in" value="WEMT_OUTPUT,WEMT_ALERT,WEMT_OUTCOME,WEMT_PERF,WEMT_QUALITY,WEMT_SCORE"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="glAccountId">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="GlAccountSearchLookupForm" modal-lookup="true" key-field-name="glAccountId" description-field-name="accountName">
                <entity-options entity-name="GlAccount" key-field-name="glAccountId" description="${accountName}">
                    <!-- select-field sono i campi sui quali viene eseguita la ricerca, se segnati con display=true vengono visualizzati della drop-list -->
                    <select-field field-name="glAccountId" display="false"/>
                    <select-field field-name="accountName" display="true"/>
                    <!-- campi di ordinamento -->
                    <entity-order-by field-name="glAccountId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="fromDate">
            <date-find type="date" single-option="true"/>
        </field>
    </form>


    <form name="WorkEffortMeasureAndPurposeAccountIndAdvancedSearchForm" extends="BaseAdvancedSearchForm" extends-resource="component://base/widget/BaseForms.xml">
    </form>

	<form name="WorkEffortMeasureAndPurposeAccountIndManagementMultiForm" id="WorkEffortMeasureMM0001_WorkEffortMeasureAndPurposeAccountInd" extends="BaseManagementDblClickMultiForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <set field="glAccountIdTitleValue" value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;layoutType&quot;)) &amp;&amp; UtilValidate.isNotEmpty(context.get(context.get(&quot;layoutType&quot;) + &quot;_title&quot;)) ? context.get(context.get(&quot;layoutType&quot;) + &quot;_title&quot;)  : uiLabelMap.get(&quot;FormFieldTitle_glAccountId&quot;)}" />
        </actions>
        <read-only>
            <not>
                <or>
                    <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                    <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                    <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                    <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                </or>
            </not>
        </read-only>
        <row-actions>
        	<entity-one value-field="we" entity-name="WorkEffort"/>
            <entity-one value-field="wt" entity-name="WorkEffortType">
                <field-map field-name="workEffortTypeId" from-field="we.workEffortTypeId"/>
            </entity-one>
            <set field="productId" value="${bsh: import org.ofbiz.base.util.UtilValidate; &quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))  &amp;&amp; !UtilValidate.isEmpty(context.get(&quot;we&quot;)) ? we.get(&quot;productId&quot;) : context.get(&quot;productId&quot;)}"/> 
        	<set field="accountTypeEnumId" value="INDICATOR"/>
    	</row-actions>
        <field name="entityName">
            <hidden value="WorkEffortMeasure"/>
        </field>
        <field name="_AUTOMATIC_PK_">
            <hidden value="Y"/>
        </field>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortMeasure"/>
        </field>
        <field name="backAreaId">
            <hidden value="common-container"/>
        </field>
        <field name="workEffortMeasureId">
            <hidden/>
        </field>
        <field name="workEffortTypeId" widget-style="workEffortTypeId">
            <hidden/>
        </field>
        <!--  -->
        <field name="workEffortId" title="${uiLabelMap.WorkEffortMeasure_target}" required-field="true">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" edit-field-name="sourceReferenceId" key-field-name="workEffortId" description-field-name="workEffortName">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="workEffortTypeId" display="hidden-disabled"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="weMeasureTypeEnumId" required-field="true" widget-style="weMeasureTypeEnumId">
            <drop-down current="selected" no-current-selected-key="WEMT_OUTPUT">
                <entity-options entity-name="Enumeration" description="${bsh: return uiLabelMap.get(&quot;Enumeration.description.&quot; + context.get(&quot;enumId&quot;))}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_MEASURE_TYPE"/>
                    <entity-constraint name="enumId" operator="in" value="WEMT_OUTPUT,WEMT_ALERT,WEMT_OUTCOME,WEMT_PERF,WEMT_QUALITY,WEMT_SCORE"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weScoreRangeEnumId" widget-style="weScoreRangeEnumId">
            <hidden/>
        </field>
        <field name="weScoreConvEnumId" widget-style="weScoreConvEnumId">
            <hidden/>
        </field>
        <field name="weAlertRuleEnumId" widget-style="weAlertRuleEnumId">
            <hidden/>
        </field>
        <field name="weMeasureTypeEnumId" widget-style="weMeasureTypeEnumId">
            <hidden/>
        </field>
        <field name="uomRangeId" widget-style="uomRangeId">
            <hidden/>
        </field>
        <field name="weWithoutPerf" widget-style="weWithoutPerf">
            <hidden/>
        </field>
        <field name="glAccountId" title="${glAccountIdTitleValue}" required-field="true" encode-output="false">
        	<lookup size="40" target="lookupGlAccountWithWorkEffortPurposeTypeIndLook" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N,${glAccountConditionField}=${wt.workEffortTypeId}" target-form-name="GlAccountWithWorkEffortPurposeTypeIndLookLookupScreen" modal-lookup="true" edit-field-name="accountCode" key-field-name="glAccountId" description-field-name="accountName">
                <entity-options entity-name="GlAccountWithWorkEffortPurposeType" key-field-name="glAccountId" description="${accountName}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="accountName" display="true"/>
                    <select-field field-name="accountCode" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden-disabled"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeDescription" display="hidden-disabled"/>
                    <select-field field-name="weWithoutPerf" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeIdInd" env-name="wt.workEffortTypeId" lookup-for-field-name="workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="accountName"/>
                </entity-options>
            </lookup>
        </field>
        <field name="fromDate" required-field="true">
            <date-time type="date" default-value="${parameters.modifiedDate}"/>
        </field>
        <field name="roleTypeId" title="${uiLabelMap.destinationType}">
            <drop-down type="drop-list" maxlength="255" size="49" local-autocompleter="false" drop-list-key-field="roleTypeId" drop-list-display-field="description">
                <entity-options entity-name="RoleType" key-field-name="roleTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="roleTypeId"/>
                    <entity-order-by field-name="roleTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyId">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="PartyRoleViewSearchForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <entity-constraint name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-order-by field-name="partyName"/>
                </entity-options>
            </lookup>
        </field>
        <field name="productId">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="ProductSearchForm" modal-lookup="true" key-field-name="productId" description-field-name="internalName">
                <entity-options entity-name="Product" key-field-name="productId" description="${internalName}">
                    <select-field field-name="productId" display="false"/>
                    <select-field field-name="internalName" display="true"/>
                    <entity-order-by field-name="productId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="emplPositionTypeId">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="EmplPositionTypeSearchForm" modal-lookup="true" key-field-name="emplPositionTypeId" description-field-name="description">
                <entity-options entity-name="EmplPositionType" key-field-name="emplPositionTypeId" description="${description}">
                    <select-field field-name="emplPositionTypeId" display="false"/>
                    <select-field field-name="description" display="true"/>
                    <entity-order-by field-name="emplPositionTypeId"/>
                </entity-options>
            </lookup>
        </field>
    </form>

	<form name="WorkEffortMeasureAndPurposeAccountIndManagementForm" id="WEMMF002_WorkEffortMeasureAndPurposeAccountInd" extends="WorkEffortMeasureManagementForm">
		<actions>
			<entity-one value-field="we" entity-name="WorkEffort"/>
	        <entity-one value-field="wt" entity-name="WorkEffortType">
	            <field-map field-name="workEffortTypeId" from-field="we.workEffortTypeId"/>
	        </entity-one>
            <set field="productId" value="${bsh: import org.ofbiz.base.util.UtilValidate; &quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))  &amp;&amp; UtilValidate.isNotEmpty(context.get(&quot;we&quot;)) ? we.get(&quot;productId&quot;) : context.get(&quot;productId&quot;)}"/>
        </actions>
		<field name="subFolderExtraParamFields">
            <hidden value="glAccountConditionField"/>
        </field>
        <field name="glAccountConditionField">
            <hidden/>
        </field>
		<field name="workEffortTypeId" widget-style="workEffortTypeId">
            <hidden/>
        </field>
        <field name="glAccountId" widget-area-style="miniDescriptionField" title="${bsh: &quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) ? uiLabelMap.get(&quot;WEFLD_MFIN&quot;) : uiLabelMap.get(&quot;WEFLD_IND&quot;)}" required-field="true" encode-output="false">
            <lookup size="12" target="lookupGlAccountWithWorkEffortPurposeTypeIndLook" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N,${glAccountConditionField}=${wt.workEffortTypeId}" target-form-name="GlAccountWithWorkEffortPurposeTypeIndLookLookupScreen" modal-lookup="true" edit-field-name="accountCode" key-field-name="glAccountId" description-field-name="accountName">
                <entity-options entity-name="GlAccountWithWorkEffortPurposeType" key-field-name="glAccountId" description="${accountName}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="accountName" display="true"/>
                    <select-field field-name="accountCode" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden-disabled"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeDescription" display="hidden-disabled"/>
                    <select-field field-name="weWithoutPerf" display="hidden-disabled"/>
                    <select-field field-name="uomDescr" display="hidden-disabled"/>
                    <select-field field-name="inputEnumId" display="hidden-disabled"/>
                    <select-field field-name="detailEnumId" display="hidden-disabled"/>
                    <select-field field-name="periodTypeId" display="hidden-disabled"/>
                    <select-field field-name="periodTypeDescription" display="hidden-disabled"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="wt.workEffortTypeId" lookup-for-field-name="workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="accountName"/>
                </entity-options>
            </lookup>
        </field>
    </form>
    
    <form name="WorkEffortMeasureAndPurposeAccountResSearchForm" extends="BaseSearchForm" extends-resource="component://base/widget/BaseForms.xml" append-field="false">
        <actions>
            <set field="orderBy" value="workEffortId"/>
        </actions>
        <field name="workEffortSnapshotId_fld0_op" use-when="${groovy: org.ofbiz.base.util.UtilValidate.isEmpty(parameters.get(&quot;snapshot&quot;)) || !&quot;Y&quot;.equals(parameters.get(&quot;snapshot&quot;))}">
        	<hidden value="empty"/>
        </field>
        <field name="workEffortId" title="${uiLabelMap.WorkEffortMeasure_target}">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" edit-field-name="sourceReferenceId" key-field-name="workEffortId" description-field-name="workEffortName">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="weMeasureTypeEnumId">
            <drop-down current="selected" allow-empty="true">
                <entity-options entity-name="Enumeration" description="${bsh: return uiLabelMap.get(&quot;Enumeration.description.&quot; + context.get(&quot;enumId&quot;))}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_MEASURE_TYPE"/>
                    <entity-constraint name="enumId" operator="in" value="WEMT_FINANCIAL,WEMT_ECONOMIC,WEMT_MEANS,WEMT_HUMAN"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="glAccountId">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="GlAccountSearchLookupForm" modal-lookup="true" key-field-name="glAccountId" description-field-name="accountName">
                <entity-options entity-name="GlAccount" key-field-name="glAccountId" description="${accountName}">
                    <!-- select-field sono i campi sui quali viene eseguita la ricerca, se segnati con display=true vengono visualizzati della drop-list -->
                    <select-field field-name="glAccountId" display="false"/>
                    <select-field field-name="accountName" display="true"/>
                    <!-- campi di ordinamento -->
                    <entity-order-by field-name="glAccountId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="fromDate">
            <date-find type="date" single-option="true"/>
        </field>
    </form>


    <form name="WorkEffortMeasureAndPurposeAccountResAdvancedSearchForm" extends="BaseAdvancedSearchForm" extends-resource="component://base/widget/BaseForms.xml">
    </form>

    <form name="WorkEffortMeasureAndPurposeAccountResManagementMultiForm" id="WorkEffortMeasureMM0002_WorkEffortMeasureAndPurposeAccountRes" extends="BaseManagementDblClickMultiForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
        </actions>
        <read-only>
            <not>
                <or>
                    <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                    <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                    <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                    <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                </or>
            </not>
        </read-only>
        <row-actions>
        	<entity-one value-field="we" entity-name="WorkEffort"/>
            <entity-one value-field="wt" entity-name="WorkEffortType">
                <field-map field-name="workEffortTypeId" from-field="we.workEffortTypeId"/>
            </entity-one>
            <set field="productId" value="${bsh: import org.ofbiz.base.util.UtilValidate; &quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))  &amp;&amp; !UtilValidate.isEmpty(context.get(&quot;we&quot;)) ? we.get(&quot;productId&quot;) : context.get(&quot;productId&quot;)}"/> 
        </row-actions>
        <field name="entityName">
            <hidden value="WorkEffortMeasure"/>
        </field>
        <field name="_AUTOMATIC_PK_">
            <hidden value="Y"/>
        </field>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortMeasure"/>
        </field>
        <field name="backAreaId">
            <hidden value="common-container"/>
        </field>
        <field name="workEffortMeasureId">
            <hidden/>
        </field>
        <field name="workEffortTypeId" widget-style="workEffortTypeId">
            <hidden/>
        </field>
        <!--  -->
        <field name="workEffortId" title="${uiLabelMap.WorkEffortMeasure_target}" required-field="true">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" edit-field-name="sourceReferenceId" key-field-name="workEffortId" description-field-name="workEffortName">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="workEffortTypeId" display="hidden-disabled"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="weMeasureTypeEnumId" required-field="true" widget-style="weMeasureTypeEnumId">
            <drop-down current="selected" no-current-selected-key="WEMT_FINANCIAL">
                <entity-options entity-name="Enumeration" description="${bsh: return uiLabelMap.get(&quot;Enumeration.description.&quot; + context.get(&quot;enumId&quot;))}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_MEASURE_TYPE"/>
                    <entity-constraint name="enumId" operator="in" value="WEMT_FINANCIAL,WEMT_ECONOMIC,WEMT_MEANS,WEMT_HUMAN"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weScoreRangeEnumId" widget-style="weScoreRangeEnumId">
            <hidden/>
        </field>
        <field name="weScoreConvEnumId" widget-style="weScoreConvEnumId">
            <hidden/>
        </field>
        <field name="weAlertRuleEnumId" widget-style="weAlertRuleEnumId">
            <hidden/>
        </field>
        <field name="weMeasureTypeEnumId" widget-style="weMeasureTypeEnumId">
            <hidden/>
        </field>
        <field name="uomRangeId" widget-style="uomRangeId">
            <hidden/>
        </field>
        <field name="weWithoutPerf" widget-style="weWithoutPerf">
            <hidden/>
        </field>
        <field name="glAccountId" title="${glAccountIdTitleValue}" required-field="true" encode-output="false">
        	<lookup target="lookupGlAccountWithWorkEffortPurposeTypeIndLook" size="40" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N,${glAccountConditionField}=${wt.workEffortTypeId}" target-form-name="GlAccountWithWorkEffortPurposeTypeIndLookLookupScreen" modal-lookup="true" edit-field-name="accountCode" key-field-name="glAccountId" description-field-name="accountName">
                <entity-options entity-name="GlAccountWithWorkEffortPurposeType" key-field-name="glAccountId" description="${accountName}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="accountName" display="true"/>
                    <select-field field-name="accountCode" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden-disabled"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeDescription" display="hidden-disabled"/>
                    <select-field field-name="weWithoutPerf" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeIdRes" env-name="wt.workEffortTypeId" lookup-for-field-name="workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="accountName"/>
                </entity-options>
            </lookup>
        </field>
        <field name="fromDate" required-field="true">
            <date-time type="date" default-value="${parameters.modifiedDate}"/>
        </field>
        <field name="roleTypeId" title="${uiLabelMap.destinationType}">
            <drop-down type="drop-list" maxlength="255" size="49" local-autocompleter="false" drop-list-key-field="roleTypeId" drop-list-display-field="description">
                <entity-options entity-name="RoleType" key-field-name="roleTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="roleTypeId"/>
                    <entity-order-by field-name="roleTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyId">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="PartyRoleViewSearchForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <entity-constraint name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-order-by field-name="partyName"/>
                </entity-options>
            </lookup>
        </field>
        <field name="productId">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="ProductSearchForm" modal-lookup="true" key-field-name="productId" description-field-name="internalName">
                <entity-options entity-name="Product" key-field-name="productId" description="${internalName}">
                    <select-field field-name="productId" display="false"/>
                    <select-field field-name="internalName" display="true"/>
                    <entity-order-by field-name="productId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="emplPositionTypeId">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="EmplPositionTypeSearchForm" modal-lookup="true" key-field-name="emplPositionTypeId" description-field-name="description">
                <entity-options entity-name="EmplPositionType" key-field-name="emplPositionTypeId" description="${description}">
                    <select-field field-name="emplPositionTypeId" display="false"/>
                    <select-field field-name="description" display="true"/>
                    <entity-order-by field-name="emplPositionTypeId"/>
                </entity-options>
            </lookup>
        </field>
    </form>

	<form name="WorkEffortMeasureAndPurposeAccountResManagementForm" id="WEMMF003_WorkEffortMeasureAndPurposeAccountRes" extends="WorkEffortMeasureManagementForm">
		<actions>
			<entity-one value-field="we" entity-name="WorkEffort"/>
	        <entity-one value-field="wt" entity-name="WorkEffortType">
	            <field-map field-name="workEffortTypeId" from-field="we.workEffortTypeId"/>
	        </entity-one>
            <set field="productId" value="${bsh: import org.ofbiz.base.util.UtilValidate; &quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))  &amp;&amp; UtilValidate.isNotEmpty(context.get(&quot;we&quot;)) ? we.get(&quot;productId&quot;) : context.get(&quot;productId&quot;)}"/> 
        </actions>
		<field name="subFolderExtraParamFields">
            <hidden value="glAccountConditionField"/>
        </field>
        <field name="glAccountConditionField">
            <hidden/>
        </field>
        <field name="workEffortTypeId" widget-style="workEffortTypeId">
            <hidden/>
        </field>
        <field name="glAccountId" widget-area-style="miniDescriptionField" title="${bsh: &quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)) ? uiLabelMap.get(&quot;WEFLD_MFIN&quot;) : uiLabelMap.get(&quot;WEFLD_IND&quot;)}" required-field="true" encode-output="false">
            <lookup size="12" target="lookupGlAccountWithWorkEffortPurposeTypeIndLook" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N,${glAccountConditionField}=${wt.workEffortTypeId}" target-form-name="GlAccountWithWorkEffortPurposeTypeIndLookLookupScreen" modal-lookup="true" edit-field-name="accountCode" key-field-name="glAccountId" description-field-name="accountName">
                <entity-options entity-name="GlAccountWithWorkEffortPurposeType" key-field-name="glAccountId" description="${accountName}">
                    <select-field field-name="glAccountId" display="hidden"/>
                    <select-field field-name="accountName" display="true"/>
                    <select-field field-name="accountCode" display="hidden-disabled"/>
                    <select-field field-name="weMeasureTypeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreRangeEnumId" display="hidden-disabled"/>
                    <select-field field-name="weScoreConvEnumId" display="hidden-disabled"/>
                    <select-field field-name="weAlertRuleEnumId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeId" display="hidden-disabled"/>
                    <select-field field-name="uomRangeDescription" display="hidden-disabled"/>
                    <select-field field-name="weWithoutPerf" display="hidden-disabled"/>
                    <select-field field-name="uomDescr" display="hidden-disabled"/>
                    <select-field field-name="inputEnumId" display="hidden-disabled"/>
                    <select-field field-name="detailEnumId" display="hidden-disabled"/>
                    <select-field field-name="periodTypeId" display="hidden-disabled"/>
                    <select-field field-name="periodTypeDescription" display="hidden-disabled"/>
                    <entity-constraint name="${glAccountConditionField}" env-name="wt.workEffortTypeId" lookup-for-field-name="workEffortTypeId"/>
                    <entity-constraint name="purposeTypeEnumId" value="${purposeTypeEnumId}"/>
                    <entity-constraint name="organizationPartyId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="accountCode"/>
                    <entity-order-by field-name="accountName"/>
                </entity-options>
            </lookup>
        </field>
    </form>
    
    <form name="WorkEffortTransactionIndicatorViewManagementListForm" id="WETIVML001${accountTypeEnumId}_WorkEffortTransactionIndicatorView" extends="BaseManagementDblClickListForm" extends-resource="component://base/widget/BaseForms.xml">
        <read-only>
            <not>
                <or>
                    <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                    <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                    <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                    <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                </or>
            </not>
        </read-only>
        <field name="glAccountConditionField">
            <hidden/>
        </field>
        <field name="weTransWeId">
            <hidden/>
        </field>
        <field name="weTransMeasureId">
            <hidden/>
        </field>
        <field name="weTransId">
            <hidden/>
        </field>
        <field name="weTransEntryId">
            <hidden/>
        </field>
        <field name="weTransAccountId" use-when="!displayWeTransAccountIdField">
            <hidden/>
        </field>
        <field name="isPosted">
            <hidden/>
        </field>
         <field name="weTransAccountId" title="${uiLabelMap.FormFieldTitle_glAccountId}" use-when=" ${bsh: return ( context.get(&quot;displayWeTransAccountIdField&quot;) &amp;&amp; !&quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)))}">
            <display description="${weTransAccountDesc}"/>
        </field>
        
        <field name="weTransAccountId" title="${uiLabelMap.FormFieldTitle_glAccountId}" use-when=" ${bsh: return ( context.get(&quot;displayWeTransAccountIdField&quot;) &amp;&amp; &quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)))}">
            <display description="${weTransAccountCode} - ${weTransAccountDesc}"/>
        </field>
        
        <field name="weTransTypeValueId">
            <display description="${weTransTypeValueDesc}"/>
        </field>
<!--         <field name="weTransDate"> -->
<!--             <display type="date"/> -->
<!--         </field> -->
        <field name="weTransDate">
            <hidden/>
        </field>
        <field name="customTimePeriodId" required-field="true" title="${uiLabelMap.FormFieldTitle_customTimePeriodThruDate}">
            <drop-down type="drop-list" show-tooltip="true" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="customTimePeriodCode" read-only="true">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${periodName}">
                    <select-field field-name="customTimePeriodCode" display="true"/>
                    <select-field field-name="periodName" display="hidden-disabled"/>
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <entity-constraint name="periodTypeId" env-name="periodTypeId"/>
                    <entity-constraint name="organizationPartyId" env-name="organizationId"/>
                    <entity-order-by field-name="periodNum"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="value" use-when="&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;))" title="${uiLabelMap.FormFieldTitle_weTransValue}">
            <display description="${weTransValueCode}"/>
        </field>
        <field name="value" use-when="!(&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)))" title="${uiLabelMap.FormFieldTitle_weTransValue}">
            <display description="${weTransValue}"/>
        </field>
        <field name="desc" title="${uiLabelMap.FormFieldTitle_weTransValueDesc}">
            <display description="${weTransUomDesc}"/>
        </field>

    </form>
    
    <form name="WorkEffortTransactionSimplifiedViewManagementListForm" id="WETIVML001${accountTypeEnumId}_WorkEffortTransactionSimplifiedView" extends="BaseManagementDblClickListForm" extends-resource="component://base/widget/BaseForms.xml">
        <read-only>
            <not>
                <or>
                    <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                    <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                    <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                    <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                </or>
            </not>
        </read-only>
        <field name="glAccountConditionField">
            <hidden/>
        </field>
        <field name="weTransWeId">
            <hidden/>
        </field>
        <field name="weTransMeasureId">
            <hidden/>
        </field>
        <field name="weTransId">
            <hidden/>
        </field>
        <field name="weTransEntryId">
            <hidden/>
        </field>
        <field name="weTransAccountId" use-when="!displayWeTransAccountIdField">
            <hidden/>
        </field>
        <field name="isPosted">
            <hidden/>
        </field>
         <field name="weTransAccountId" title="${uiLabelMap.FormFieldTitle_glAccountId}" use-when=" ${bsh: return ( context.get(&quot;displayWeTransAccountIdField&quot;) &amp;&amp; !&quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)))}">
            <display description="${weTransAccountDesc}"/>
        </field>
        
        <field name="weTransAccountId" title="${uiLabelMap.FormFieldTitle_glAccountId}" use-when=" ${bsh: return ( context.get(&quot;displayWeTransAccountIdField&quot;) &amp;&amp; &quot;RESOURCE&quot;.equals(context.get(&quot;accountTypeEnumId&quot;)))}">
            <display description="${weTransAccountCode} - ${weTransAccountDesc}"/>
        </field>
        
        <field name="weTransTypeValueId">
            <display description="${weTransTypeValueDesc}"/>
        </field>
<!--         <field name="weTransDate"> -->
<!--             <display type="date"/> -->
<!--         </field> -->
        <field name="weTransDate">
            <hidden/>
        </field>
        <field name="customTimePeriodId" required-field="true" title="${uiLabelMap.FormFieldTitle_customTimePeriodThruDate}">
            <drop-down type="drop-list" show-tooltip="true" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="customTimePeriodCode" read-only="true">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${periodName}">
                    <select-field field-name="customTimePeriodCode" display="true"/>
                    <select-field field-name="periodName" display="hidden-disabled"/>
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <entity-constraint name="periodTypeId" env-name="periodTypeId"/>
                    <entity-constraint name="organizationPartyId" env-name="organizationId"/>
                    <entity-order-by field-name="periodNum"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="value" use-when="&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;))" title="${uiLabelMap.FormFieldTitle_weTransValue}">
            <display description="${weTransValueCode}"/>
        </field>
        <field name="value" use-when="!(&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)))" title="${uiLabelMap.FormFieldTitle_weTransValue}">
            <display description="${weTransValue}"/>
        </field>
        <field name="desc" title="${uiLabelMap.FormFieldTitle_weTransValueDesc}">
            <display description="${weTransUomDesc}"/>
        </field>
    </form>
    
    <form name="WorkEffortTransactionIndicatorViewManagementForm" id="WETVMF001${accountTypeEnumId}_WorkEffortTransactionViewManagementForm" extends="WorkEffortTransactionViewManagementForm">
    	<field name="fromDateCompetence">
            <ignored/>
        </field>
        <field name="toDateCompetence">
            <ignored/>
        </field>
       </form>

    <form name="WorkEffortTransactionSimplifiedViewManagementForm" id="WETVMF001${accountTypeEnumId}_WorkEffortTransactionViewManagementForm" extends="WorkEffortTransactionViewManagementForm">
    	<field name="fromDateCompetence">
            <ignored/>
        </field>
        <field name="toDateCompetence">
            <ignored/>
        </field>
    </form>
    
    <form name="WorkEffortTransactionViewPortletManagementForm" id="WETPMF001${parameters.reloadRequestType}_${parameters.contentIdInd}_WorkEffortTransactionView" extends="WorkEffortTransactionViewManagementForm" default-table-style="ignore-context-link single-editable">
       <actions>
       		<set field="contentIdSecondary" from-field="parameters.contentIdSecondary"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/actionWorkEffortTransactionView.groovy"/> 
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkWorkEffortTransactionViewPortletReadOnly.groovy"/>                       
			<set field="weTransTypeValueId" from-field="parameters.weTransTypeValueId"/>
        </actions>
        <read-only>
            <if-compare operator="equals" value="Y" field="isPortletFormDisabled"/>
        </read-only>   	
        <field name="origAmount">
            <ignored/>
        </field>
        <field name="perfAmountCalc">
            <ignored/>
        </field>
        <field name="amountLocked">
            <ignored/>
        </field>
        <field name="isPosted">
            <ignored/>
        </field>
        <field name="defaultOrganizationPartyId">
            <hidden/>
        </field>
        <field name="voucherRef">
            <hidden/>
        </field>
        <field name="isPortletFormDisabled">
        	<hidden/>
        </field>
        <field name="entryRoleTypeId">
            <hidden/>
        </field>
        <field name="entryPartyId">
            <hidden/>
        </field>
        <field name="roleTypeId">
            <hidden/>
        </field>
        <field name="partyId">
            <hidden/>
        </field>
        <field name="accountFilter">
            <hidden/>
        </field>
        <field name="newInstanceMenu" widget-style="newInstanceMenu">
            <hidden value="N"/>
        </field>
        <field name="ignoreToolbar" widget-style="ignoreToolbar">
            <hidden value="Y"/>
        </field>
        <field name="weTransMeasureId">
            <hidden/>
        </field>
        <field name="groupStatusId">
            <hidden/>
        </field>
        <field name="weTransProductId">
            <hidden/>
        </field>
        <field name="elabScoreIndic" use-when="!&quot;N&quot;.equals(context.get(&quot;elabScoreIndic&quot;))">
            <hidden/>
        </field>
        <field name="crudServiceEpilog" use-when="!&quot;N&quot;.equals(context.get(&quot;elabScoreIndic&quot;))">
            <hidden value="crudServiceEpilog_elaboreteScoreIndic"/>
        </field>
        <field name="openNewTransaction" use-when="!&quot;N&quot;.equals(context.get(&quot;elabScoreIndic&quot;))">
            <hidden value="N"/>
        </field>
        <field name="workEffortTypeId" use-when="!&quot;N&quot;.equals(context.get(&quot;elabScoreIndic&quot;))">
            <hidden/>
        </field>     
        <field name="searchDate" use-when="!&quot;N&quot;.equals(context.get(&quot;elabScoreIndic&quot;))">
            <hidden value="${parameters.searchDateCalculate}"/>
        </field>                        
        <field name="customTimePeriodId" required-field="true" title="${uiLabelMap.FormFieldTitle_customTimePeriodThruDate}">
            <drop-down type="drop-list" size="25" show-tooltip="true" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="customTimePeriodCode" read-only="true">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${periodName}">
                    <select-field field-name="customTimePeriodCode" display="true"/>
                    <select-field field-name="periodName" display="hidden-disabled"/>
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <entity-constraint name="periodTypeId" env-name="periodTypeId" lookup-for-field-name="weMeasurePeriodTypeId"/>
                    <entity-constraint name="organizationPartyId" env-name="organizationId"/>
                    <entity-order-by field-name="periodNum"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransTypeValueId">
            <hidden/>
        </field>
        <field name="weTransCurrencyUomId">
            <hidden/>
        </field>
        <field name="weTransComment" position="2" title="${uiLabelMap.FormFieldTitle_weTransReferences}" widget-style="resized" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return (UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;hideReference&quot;))}">
            <text size="50" maxlength="255"/>
        </field>        
        <field name="weTransComment" title="${weTransCommentTitle}" title-area-style="label base-align-right" position="2" widget-style="resized" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;hideReference&quot;))}">
            <text size="50" maxlength="255"/>
        </field>        
        <field name="weTransCommentLangDummy" position="1" widget-area-style="invisible-label" widget-style="invisible-label" title="&#32;" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;hideReference&quot;))}">
            <container/>
        </field>
        <field name="weTransCommentLang" title="${weTransCommentLangTitle}" title-area-style="label base-align-right" position="2" widget-style="resized" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;hideReference&quot;))}">
            <text size="50" maxlength="255"/>
        </field> 
        <field name="weTransComment" use-when="&quot;Y&quot;.equals(context.get(&quot;hideReference&quot;))">
            <ignored/>
        </field>      
        <field name="origAmount" widget-style="numericInSingle" use-when="${bsh: &quot;SCORE&quot;.equals(context.get(&quot;weTransAccountId&quot;))}">
            <text read-only="true"/>
        </field>
        <field name="amountLocked" position="2" widget-style="resized" use-when="&quot;SCORE&quot;.equals(context.get(&quot;weTransAccountId&quot;))">
            <drop-down no-current-selected-key="N" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
        <field name="weTransComments" position="2" widget-style="resized" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="78" rows="10"/>
        </field>
        <field name="weTransComments" title="${weTransCommentsTitle}" title-area-style="label base-align-right" position="2" widget-style="resized" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="78" rows="5"/>
        </field>        
        <field name="weTransCommentsLangDummy" position="1" widget-area-style="invisible-label" widget-style="invisible-label" title="&#32;" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <container/>
        </field>
        <field name="weTransCommentsLang" title="${weTransCommentsLangTitle}" title-area-style="label base-align-right" position="2" widget-style="resized" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="78" rows="5"/>
        </field>       
        <field name="checkAmount1" title="${uiLabelMap.WorkEffortTransactionViewCheckAmount1}" use-when="${bsh: &quot;ACTUAL&quot;.equals(context.get(&quot;weTransTypeValueId&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;valuesDetails&quot;))}">
            <drop-down no-current-selected-key="N" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>        
        </field>
        <field name="checkAmount2" title="${uiLabelMap.WorkEffortTransactionViewCheckAmount2}" position="2" use-when="${bsh: &quot;ACTUAL&quot;.equals(context.get(&quot;weTransTypeValueId&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;valuesDetails&quot;))}">
            <drop-down no-current-selected-key="N" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>        
        </field>
        <field name="checkAmount3" title="${uiLabelMap.WorkEffortTransactionViewCheckAmount3}" use-when="${bsh: &quot;ACTUAL&quot;.equals(context.get(&quot;weTransTypeValueId&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;valuesDetails&quot;))}">
            <drop-down no-current-selected-key="N" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>        
        </field>
        <field name="textValue1" title="${uiLabelMap.WorkEffortTransactionViewTextValue1}" use-when="${bsh: &quot;ACTUAL&quot;.equals(context.get(&quot;weTransTypeValueId&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;valuesDetails&quot;)) &amp;&amp; &quot;Y&quot;.equals(parameters.get(&quot;fromValoriIndicatori&quot;))}">
        	<textarea cols="85" rows="8"/>
        </field>         
        <field name="textValue1" title="${uiLabelMap.WorkEffortTransactionViewTextValue1}" use-when="${bsh: &quot;ACTUAL&quot;.equals(context.get(&quot;weTransTypeValueId&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;valuesDetails&quot;)) &amp;&amp; !&quot;Y&quot;.equals(parameters.get(&quot;fromValoriIndicatori&quot;))}">
        	<textarea cols="128" rows="8"/>
        </field>             
        <field name="group_KpiScoreData_sep" use-when="&quot;Y&quot; == hasScoreKPI" title=" " >
            <display description="" also-hidden="false"/>
        </field>
        <field name="group_KpiScoreData" use-when="&quot;Y&quot; == hasScoreKPI" title="${uiLabelMap.KpiScore}" title-area-style="label field-group-title" title-style="field-group-title" widget-area-style="field-group-title">
            <display description="" also-hidden="false"/>
        </field>
        <field name="weTransIdKpiScore" use-when="&quot;Y&quot; == hasScoreKPI">
            <hidden/>
        </field>
        <field name="weTransEntryIdKpiScore" use-when="&quot;Y&quot; == hasScoreKPI">
            <hidden/>
        </field>
        <field name="weTransMeasureIdKpiScore" use-when="&quot;Y&quot; == hasScoreKPI">
            <hidden/>
        </field>        
        <field name="weTransValue" widget-style="submit-field" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; (&quot;RATING_SCALE&quot;.equals(parameters.get(&quot;weMeasureUomType&quot;)) || &quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)))}">
            <drop-down maxlength="255">
                <entity-options entity-name="WorkEffortMeasRatSc" key-field-name="uomRatingValue" description="${uomCode}">
                    <select-field field-name="uomCode" display="true"/>
                    <select-field field-name="workEffortMeasureId"/>
                    <select-field field-name="uomRatingValue"/>
                    <select-field field-name="uomDescr"/>
                    <entity-constraint name="workEffortMeasureId" operator="equals" env-name="weTransMeasureId"/>
                    <entity-order-by field-name="uomRatingValue"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransValue" widget-style="submit-field" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; (&quot;RATING_SCALE&quot;.equals(parameters.get(&quot;weMeasureUomType&quot;)) || &quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)))}">
            <drop-down maxlength="255">
                <entity-options entity-name="WorkEffortMeasRatSc" key-field-name="uomRatingValue" description="${uomCodeLang}">
                    <select-field field-name="uomCodeLang" display="true"/>
                    <select-field field-name="workEffortMeasureId"/>
                    <select-field field-name="uomRatingValue"/>
                    <select-field field-name="uomDescr"/>
                    <entity-constraint name="workEffortMeasureId" operator="equals" env-name="weTransMeasureId"/>
                    <entity-order-by field-name="uomRatingValue"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weTransValue" widget-style="numericInSingle input_mask mask_field_weMeasureUomDecimalScale submit-field" use-when="${bsh: !&quot;RATING_SCALE&quot;.equals(parameters.get(&quot;weMeasureUomType&quot;)) &amp;&amp; !&quot;RATING_SCALE&quot;.equals(context.get(&quot;weTransUomType&quot;)) &amp;&amp; !&quot;DATE_MEASURE&quot;.equals(parameters.get(&quot;weMeasureUomType&quot;)) &amp;&amp; !&quot;DATE_MEASURE&quot;.equals(context.get(&quot;weTransUomType&quot;))}">
            <text decimal-digits="${weTransDecimalScale}" validity-field-type="double"/> 
        </field>        
        <field name="weTransValue" widget-style="submit-field" use-when="${bsh: &quot;DATE_MEASURE&quot;.equals(parameters.get(&quot;weMeasureUomType&quot;)) || &quot;DATE_MEASURE&quot;.equals(context.get(&quot;weTransUomType&quot;))}">
            <date-time type="date"/>
        </field>     
        <field name="weTransValueKpiScore" widget-area-style="workEffortTransactionView_weTransValue" widget-style="numericInList input_mask mask_field_weMeasureUomDecimalScale submit-field" use-when="${bsh: return &quot;Y&quot; == hasScoreKPI &amp;&amp; !&quot;RATING_SCALE&quot;.equals(context.get(&quot;scoreKpiUomType&quot;)) &amp;&amp; !&quot;DATE_MEASURE&quot;.equals(context.get(&quot;scoreKpiUomType&quot;))}">
            <text decimal-digits="${scoreKpiDecimalScale}" size="12" maxlength="20" validity-field-type="double" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? &quot;Y&quot;.equals(isPostedKpiScore) ? true : false : false }"/>  
        </field>        
        <field name="weTransValueKpiScore" widget-style="submit-field" use-when="${bsh: return &quot;Y&quot; == hasScoreKPI &amp;&amp; &quot;RATING_SCALE&quot;.equals(context.get(&quot;scoreKpiUomType&quot;))}">
            <drop-down maxlength="255" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? (&quot;Y&quot;.equals(isPostedKpiScore) || &quot;Y&quot;.equals(context.get(&quot;weTransPeriodIsClosed&quot;)))? true : false : false }">
                <entity-options entity-name="WorkEffortMeasRatSc" key-field-name="uomRatingValue" description="${uomCode}">
                    <select-field field-name="uomCode" display="true"/>
                    <select-field field-name="workEffortMeasureId"/>
                    <select-field field-name="uomRatingValue"/>
                    <select-field field-name="uomDescr"/>
                    <entity-constraint name="workEffortMeasureId" operator="equals" env-name="weTransMeasureIdKpiScore"/>
                    <entity-order-by field-name="uomRatingValue"/>
                </entity-options>
            </drop-down>
        </field>  
        <field name="weTransValueKpiScore" widget-style="submit-field" use-when="${bsh: &quot;Y&quot; == hasScoreKPI &amp;&amp; &quot;DATE_MEASURE&quot;.equals(context.get(&quot;scoreKpiUomType&quot;))}">
            <date-time type="date" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? (&quot;Y&quot;.equals(isPostedKpiScore) || &quot;Y&quot;.equals(context.get(&quot;weTransPeriodIsClosed&quot;)))? true : false : false }"/>
        </field>
        <field name="weTransCommentKpiScore" widget-style="submit-field" use-when="&quot;Y&quot; == hasScoreKPI" position="2" >
            <text size="50" maxlength="255"  read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? &quot;Y&quot;.equals(isPostedKpiScore) ? true : false : false }"/>
        </field>
        <field name="origAmountKpiScore" use-when="&quot;Y&quot; == hasScoreKPI" widget-style="numericInSingle" >
            <text read-only="true"/>
        </field>
        <field name="amountLockedKpiScore" use-when="&quot;Y&quot; == hasScoreKPI" position="2" widget-style="submit-field resized" >
            <drop-down no-current-selected-key="N" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
        <field name="isPostedKpiScore" widget-style="submit-field" use-when="&quot;Y&quot; == hasScoreKPI">
            <drop-down read-only="${bsh: import org.ofbiz.base.util.UtilValidate; return !&quot;Y&quot;.equals(parameters.get(&quot;weIsTemplate&quot;)) || isInsertMode}" allow-empty="true" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
        <field name="weTransCommentsKpiScore" widget-style="submit-field" use-when="&quot;Y&quot; == hasScoreKPI" position="2">
            <textarea cols="47" rows="10" read-only="${bsh: !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;)) ? &quot;Y&quot;.equals(isPostedKpiScore) ? true : false : false }"/>
        </field>
        <sort-order>
            <sort-field name="weTransValue"/>
            <sort-field name="weTransComment"/>
            <sort-field name="weTransCommentLangDummy"/>
            <sort-field name="weTransCommentLang"/>
            <sort-field name="origAmount"/>
            <sort-field name="amountLocked"/>
            <sort-field name="customTimePeriodId"/>
            <sort-field name="weTransComments"/>
            <sort-field name="weTransCommentsLangDummy"/>
            <sort-field name="weTransCommentsLang"/>           
            <sort-field name="checkAmount1"/>
            <sort-field name="checkAmount2"/>
            <sort-field name="checkAmount3"/>    
            <sort-field name="textValue1"/>       
            <sort-field name="group_KpiScoreData_sep"/>
            <sort-field name="group_KpiScoreData"/>
            <sort-field name="weTransValueKpiScore"/>
            <sort-field name="weTransCommentKpiScore"/>
            <sort-field name="origAmountKpiScore"/>
            <sort-field name="amountLockedKpiScore"/>
            <sort-field name="isPostedKpiScore"/>
            <sort-field name="weTransCommentsKpiScore"/>
        </sort-order>
    </form>
    
    <form name="WorkEffortMeasureLayoutMultiForm" extends="WEMFromPanelManagementMultiForm" paginate-size="10">
    	<actions>
    		<!-- il crudEnumId delle due tabelle e' calcolato con un solo script -->
            <set field="contentIdSecondary" from-field="parameters.contentIdSecondary"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkPersonFilterAndEvalEnumAndAdminUser.groovy"/>           
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/setGlAccountIdTitleValue.groovy"/> 
        </actions>
    	<field name="crudEnumId">
    		<hidden value="${crudEnumIdSecondary}"/>
    	</field>    	
    </form>
    
    <form name="WorkEffortMeasureViewManagementParentForm" extends="WorkEffortTransactionViewParentManagementForm">
    </form>
    
    <form name="WorkEffortMeasureIsObiettivoManagementFormAdmin" extends="WorkEffortMeasureIsObiettivoManagementForm">
    	<field name="group_DestinationData_sep" title=" ">
            <display description="" also-hidden="false"/>
        </field>
        <field name="group_DestinationData" title="${uiLabelMap.WorkeffortMeasureDestinationData}" title-area-style="label field-group-title" title-style="field-group-title" widget-area-style="field-group-title">
            <display description="" also-hidden="false"/>
        </field>
        <field name="roleTypeId" widget-style="submit-field" title="${uiLabelMap.destinationType}">
            <drop-down type="drop-list" local-autocompleter="false" maxlength="255" size="46" drop-list-key-field="roleTypeId" drop-list-display-field="description">
                <!--<list-options key-name="roleTypeId" list-name="roleTypeList" />-->
                <entity-options entity-name="RoleType" key-field-name="roleTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="roleTypeId"/>
                    <entity-constraint name="parentTypeId" operator="like" value="GOAL%"/>
                    <entity-order-by field-name="roleTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyId" position="2" widget-style="submit-field" widget-area-style="miniDescriptionField">
            <lookup size="12" target-parameter="lookupScreenLocation=component://partyext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N" target-form-name="lookUpPartyRoleViewForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-order-by field-name="partyName"/>
                </entity-options>
            </lookup>
        </field>
          <field name="productId" widget-area-style="miniDescriptionField" widget-style="submit-field">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpProductForm" modal-lookup="true" key-field-name="productId" description-field-name="internalName">
                <entity-options entity-name="Product" key-field-name="productId" description="${internalName}">
                    <select-field field-name="productId" display="hidden"/>
                    <select-field field-name="internalName" display="true"/>
                    <entity-order-by field-name="productId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="emplPositionTypeId" widget-area-style="miniDescriptionField" position="2">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="EmplPositionTypeSearchForm" modal-lookup="true" key-field-name="emplPositionTypeId" description-field-name="description">
                <entity-options entity-name="EmplPositionType" key-field-name="emplPositionTypeId" description="${description}">
                    <select-field field-name="emplPositionTypeId" display="false"/>
                    <select-field field-name="description" display="true"/>
                    <entity-order-by field-name="emplPositionTypeId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="otherWorkEffortId" widget-area-style="miniDescriptionField">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" key-field-name="workEffortId" description-field-name="workEffortName">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="false"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="weOtherGoalEnumId" widget-area-style="miniDescriptionField" required-field="true" position="2" use-when="${bsh: ! &quot;Y&quot;.equals(parameters.get(&quot;detectOrgUnitIdFlag&quot;)) &amp;&amp; ! &quot;Y&quot;.equals(context.get(&quot;detectOrgUnitIdFlag&quot;))}">
            <drop-down current="selected" no-current-selected-key="WEMOMG_NONE">
                <entity-options entity-name="Enumeration" description="${bsh: return uiLabelMap.get(&quot;Enumeration.description.&quot; + context.get(&quot;enumId&quot;))}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_MEASURE_OMG"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weOtherGoalEnumId" widget-area-style="miniDescriptionField" required-field="true" position="2" use-when="${bsh: &quot;Y&quot;.equals(parameters.get(&quot;detectOrgUnitIdFlag&quot;)) || &quot;Y&quot;.equals(context.get(&quot;detectOrgUnitIdFlag&quot;))}">
            <drop-down current="selected" no-current-selected-key="WEMOMG_ORG">
                <entity-options entity-name="Enumeration" description="${bsh: return uiLabelMap.get(&quot;Enumeration.description.&quot; + context.get(&quot;enumId&quot;))}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_MEASURE_OMG"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <!--  -->
        <field name="group_Specific_sep" title=" ">
            <display description="" also-hidden="false"/>
        </field>
        <field name="group_SpecificData" title="${uiLabelMap.WorkeffortMeasureSpecificData}" title-area-style="label field-group-title" title-style="field-group-title" widget-area-style="field-group-title">
            <display description="" also-hidden="false"/>
        </field>
        <field name="kpiScoreWeight" widget-style="numericInSingle" required-field="true">
            <text default-value="0" size="14" maxlength="18"/>
        </field>
        <!-- Aggiunto: bug 2395 -->
        <field name="weWithoutPerf" widget-style="weWithoutPerf" required-field="true" position="2">
            <drop-down current="selected" no-current-selected-key="WEWITHPERF_PERF_0">
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_WITHOUT_PERF"/>
                </entity-options>
            </drop-down>
        </field>
        <!-- end 2395 -->
        <field name="weScoreConvEnumId" widget-style="weScoreConvEnumId" required-field="true">
            <drop-down current="selected" no-current-selected-key="WECONVER_NOCONVERSIO">
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_SCORE_CONVERSION"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weScoreRangeEnumId" widget-style="weScoreRangeEnumId" position="2" required-field="true">
            <drop-down current="selected" no-current-selected-key="WESCORE_ISVALUE">
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_SCORE_RULE"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weAlertRuleEnumId" widget-style="weAlertRuleEnumId" required-field="true">
            <drop-down current="selected" no-current-selected-key="WEALERT_TARGETUP">
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="WE_ALERT_RULE"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="uomRangeId">
            <drop-down type="drop-list" maxlength="255" size="46" local-autocompleter="false" drop-list-key-field="uomRangeId" drop-list-display-field="description">
                <entity-options entity-name="UomRange" key-field-name="uomRangeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="uomRangeId"/>
                    <entity-order-by field-name="uomRangeId"/>
                </entity-options>
            </drop-down>
        </field>
        <sort-order>
        	<sort-field name="group_Distinctive_sep"/>
        	<sort-field name="group_DistinctiveData"/>
        	<sort-field name="workEffortId"/>
        	<sort-field name="weMeasureTypeEnumId"/>
        	<sort-field name="glAccountId"/>
        	<sort-field name="glAccountDescription"/>
        	<sort-field name="glAccountDescriptionLang"/>
        	<sort-field name="uomDescr"/>
        	<sort-field name="fromDate"/>
        	<sort-field name="thruDate"/>
        	<sort-field name="periodTypeId"/>
        	<sort-field name="sequenceId"/>
        	<sort-field name="comments"/>
        	<sort-field name="workEffortMeasureId"/>
        	<sort-field name="group_DestinationData_sep"/>
        	<sort-field name="group_DestinationData"/>
        	<sort-field name="roleTypeId"/>
        	<sort-field name="partyId"/>
        	<sort-field name="productId"/>
        	<sort-field name="emplPositionTypeId"/>
        	<sort-field name="otherWorkEffortId"/>
        	<sort-field name="weOtherGoalEnumId"/>
        	<sort-field name="group_Specific_sep"/>
        	<sort-field name="group_SpecificData"/>
        	<sort-field name="kpiScoreWeight"/>
        	<sort-field name="weWithoutPerf"/>
        	<sort-field name="weScoreConvEnumId"/>
        	<sort-field name="weScoreRangeEnumId"/>
        	<sort-field name="weAlertRuleEnumId"/>
        	<sort-field name="uomRangeId"/>
        	<sort-field name="isPosted"/>
        </sort-order>
    </form>
       
       
    <form name="WorkEffortMeasureWithDateLayoutMultiForm" extends="WorkEffortMeasureLayoutMultiForm">    	
    	<field name="fromDate" required-field="true" title="${uiLabelMap.WorkEffortMeasureFolder_fromDate}" widget-area-style="workEffortMeasure_date">
            <date-time type="date" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))"/>
        </field>
        <field name="thruDate" required-field="true" title="${uiLabelMap.WorkEffortMeasureFolder_thruDate}" widget-area-style="workEffortMeasure_date">
           <date-time type="date" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))"/>
        </field> 
    </form>
    
    <form name="WorkEffortMeasureViewIndicatorManagementForm" extends="WorkEffortMeasureManagementForm" extends-resource="component://workeffortext/widget/forms/WorkEffortMeasureForms.xml">
        <actions>
        	<script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkPersonFilterAndEvalEnumAndAdminUser.groovy"/>           
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/setGlAccountIdTitleValue.groovy"/> 
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnumIndicators.groovy"/>
        </actions>
        <read-only>
            <not>
                <and>
                    <if-compare field="isPosted" operator="not-equals" value="Y"/>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <if-compare field="crudEnumId" operator="not-equals" value="NONE"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="weMeasureTypeEnumId">
            <ignored/>
        </field>
        <field name="periodTypeId">
            <ignored/>
        </field>
        <field name="weOtherGoalEnumId">
            <ignored/>
        </field>
        <field name="isPosted">
            <ignored/>
        </field>
        <field name="group_Distinctive_sep" title=" ">
            <ignored/>
        </field>
        <field name="group_DistinctiveData">
            <ignored/>
        </field>
        <field name="weScoreConvEnumId" widget-style="weScoreConvEnumId">
            <hidden/>
        </field>
        <field name="weWithoutPerf" widget-style="weWithoutPerf">
            <hidden/>
        </field>
        <field name="weScoreRangeEnumId" widget-style="weScoreRangeEnumId">
            <hidden/>
        </field>
        <field name="weAlertRuleEnumId" widget-style="weAlertRuleEnumId">
            <hidden/>
        </field>        
        <field name="kpiScoreWeight" widget-style="numericInSingle" required-field="true">
            <text default-value="0" size="10" maxlength="18"/>
        </field>
        <field name="kpiOtherWeight" widget-style="numericInSingle" required-field="true">
            <text default-value="0" size="10" maxlength="18"/>
        </field>        
        <field name="sequenceId" widget-style="submit-field numericInSingle">
            <text maxlength="60" size="10" default-value="1"/>
        </field>             
        <field name="comments" title="${uiLabelMap.Indicator_comments}" use-when="${bsh: &quot;SOME&quot;.equals(parameters.get(&quot;detailEnabled&quot;))}">
            <textarea cols="70"/>
        </field>
        <field name="comments" use-when="${bsh: !&quot;SOME&quot;.equals(parameters.get(&quot;detailEnabled&quot;))}">
            <ignored/>
        </field>        
        <sort-order>
            <sort-field name="workEffortId"/>
            <sort-field name="glAccountId"/>
            <sort-field name="glAccountDescription"/>
            <sort-field name="glAccountDescriptionLang"/>
            <sort-field name="uomDescr"/>
            <sort-field name="uomDescrLang"/>
            <sort-field name="comments"/>
            <sort-field name="fromDate"/>
            <sort-field name="thruDate"/>
            <sort-field name="kpiScoreWeight"/>
            <sort-field name="kpiOtherWeight"/>
            <sort-field name="sequenceId"/>
            <sort-field name="workEffortMeasureId"/>
        </sort-order>
    </form>
</forms>
