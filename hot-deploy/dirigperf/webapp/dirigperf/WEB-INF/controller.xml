<?xml version="1.0" encoding="UTF-8"?>
         
<site-conf xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/site-conf.xsd">

    <include location="component://workeffortext/webapp/workeffortext/WEB-INF/controller.xml"/>

    <description>DirigPerf Component Site Configuration File</description>
    <owner></owner>


    <!-- Events to run on every request before security (chains exempt) -->
    <!--
    <preprocessor>
    </preprocessor>
    -->
    

    <!-- Request Mappings -->
    <request-map uri="search">
        <security https="true" auth="true"/>
        <event type="groovy" path="com/mapsengineering/dirigperf/" invoke="checkEntityAdmin.groovy"/>
        <response name="succesStartSearch" type="request" value="startSearch"/>
        <response name="success" type="view" value="search"/>
        <response name="error" type="view" value="error"/>
    </request-map>
    
    <request-map uri="workEffortStartSearch">
        <security https="true" auth="true"/>
        <event type="groovy" path="com/mapsengineering/dirigperf/" invoke="executePerformFindDIWorkEffortRootInqy.groovy"/>
        <response name="success" type="view" value="search"/>
        <response name="management" type="view" value="management"/>
        <response name="error" type="view" value="search"/>
    </request-map>
    
    <request-map uri="workEffortSearchResultContainerOnly">
        <security https="true" auth="true"/>
        <event type="groovy" path="com/mapsengineering/dirigperf/" invoke="executePerformFindDIWorkEffortRootInqy.groovy"/>
        <response name="success" type="view" value="searchResultContainerOnly"/>
        <response name="export-search" type="view" value="searchResultContainerOnlyExport"/>
        <response name="management" type="view" value="managementContainerOnly"/>
    </request-map>
    
    <request-map uri="workEffortRootStartSearch">
        <security https="true" auth="true"/>
        <event type="groovy" path="com/mapsengineering/dirigperf/" invoke="executePerformFindDIWorkEffortRoot.groovy"/>
        <response name="success" type="view" value="search"/>
        <response name="management" type="view" value="management"/>
        <response name="error" type="view" value="search"/>
    </request-map>
    
    <request-map uri="workEffortRootSearchResultContainerOnly">
        <security https="true" auth="true"/>
        <event type="groovy" path="com/mapsengineering/dirigperf/" invoke="executePerformFindDIWorkEffortRoot.groovy"/>
        <response name="success" type="view" value="searchResultContainerOnly"/>
        <response name="export-search" type="view" value="searchResultContainerOnlyExport"/>
        <response name="massive-print-search" type="request" value="asyncJobMassiveWorkEffortPrintAndSendMail"/>
        <response name="management" type="view" value="managementContainerOnly"/>
    </request-map>
    
    <request-map uri="dirigPerfInsertFromTemplateScreen">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="dirigPerfInsertFromTemplateScreen"/>
        <response name="error" type="view" value="error"/>
    </request-map>  
    
    <request-map uri="dirigPerfInsertFromTemplateAsync">
        <security https="true" auth="true"/>
        <event type="service" invoke="emplPerfInsertFromTemplateAsync"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>      

    <!-- View Mappings -->
	<view-map name="search" type="screen" page="component://dirigperf/widget/screens/CommonScreens.xml#SearchScreen"/>
    <view-map name="searchContainerOnly" type="screen" page="component://dirigperf/widget/screens/CommonScreens.xml#SearchContainerOnlyScreen"/>
    <view-map name="searchSimpleContainerOnly" type="screen" page="component://dirigperf/widget/screens/CommonScreens.xml#SearchSimpleContainerOnlyScreen"/>
    <view-map name="searchResultContainerOnly" type="screen" page="component://dirigperf/widget/screens/CommonScreens.xml#SearchResultContainerOnlyScreen"/>
    <view-map name="searchResultContainerOnlyExport" type="screenpoihssf" page="component://dirigperf/widget/screens/CommonScreens.xml#SearchResultContainerOnlyScreen" content-type="application/vnd.ms-excel" encoding="none"/>
    <view-map name="lookup" type="screen" page="component://dirigperf/widget/screens/CommonScreens.xml#LookupScreen"/>
    <view-map name="management" type="screen" page="component://dirigperf/widget/screens/CommonScreens.xml#ManagementScreen"/>
    <view-map name="managementContainerOnly" type="screen" page="component://dirigperf/widget/screens/CommonScreens.xml#ManagementContainerOnlyScreen"/>
    <view-map name="subFolderManagementContainerOnly" type="screen" page="component://dirigperf/widget/screens/CommonScreens.xml#SubFolderManagementContainerOnlyScreen"/>
    <view-map name="childManagementContainerOnly" type="screen" page="component://dirigperf/widget/screens/CommonScreens.xml#ChildManagementContainerOnlyScreen"/>
    <view-map name="childManagementListContainerOnly" type="screen" page="component://dirigperf/widget/screens/CommonScreens.xml#ChildManagementListContainerOnlyScreen"/>
    <view-map name="print" type="screenfop" page="component://dirigperf/widget/screens/CommonScreens.xml#FoScreen" content-type="application/pdf" encoding="none"/>
    <view-map name="showPortalPageContainerOnly" type="screen" page="component://dirigperf/widget/screens/CommonScreens.xml#ShowPortalPageContainerOnly"/>
    <view-map name="showPortletContainerOnly" type="screen" page="component://dirigperf/widget/screens/CommonScreens.xml#ShowPortletContainerOnly"/>
    
    <view-map name="workEffortPrintBirt" type="screen" page="component://dirigperf/widget/screens/CommonScreens.xml#DirigPerfPrintBirt"></view-map>
    <view-map name="workEffortAnalysisPrintBirt" type="screen" page="component://dirigperf/widget/screens/CommonScreens.xml#WorkEffortAnalysisPrintBirt"></view-map>

    <view-map name="externalWorkEffortViewPage" type="screen" page="component://dirigperf/widget/screens/DirigPerfScreens.xml#ExternalWorkEffortViewPageScreen"></view-map>
    <view-map name="externalWorkEffortViewContainerOnly" type="screen" page="component://dirigperf/widget/screens/DirigPerfScreens.xml#ExternalWorkEffortViewContainerOnlyScreen"></view-map>
    <view-map name="dirigPerfInsertFromTemplateScreen" type="screen" page="component://dirigperf/widget/screens/DirigPerfScreens.xml#DirigPerfInsertFromTemplateScreen"/>
	
	<view-map name="externalSurveyPage" type="screen" page="component://dirigperf/widget/screens/DirigPerfScreens.xml#ExternalSurveyPageScreen"></view-map>
    <view-map name="externalSurveyContainerOnly" type="screen" page="component://dirigperf/widget/screens/DirigPerfScreens.xml#ExternalSurveyContainerOnlyScreen"></view-map>
</site-conf>