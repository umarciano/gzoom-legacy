<?xml version="1.0" encoding="UTF-8"?>

<entitymodel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/entitymodel.xsd">

    <!-- ========================================================= -->
    <!-- ======================== Defaults ======================= -->
    <!-- ========================================================= -->
    <title>View of WorkeffortExt Component</title>
    <description>None</description>
    <copyright></copyright>
    <author>None</author>
    <version></version>

    <!-- StatusItem -->

    <view-entity entity-name="StatusItemAndTypeView" package-name="org.ofbiz.common.status">
        <member-entity entity-name="StatusItem" entity-alias="SI"/>
        <member-entity entity-name="StatusType" entity-alias="ST"/>
        <alias-all entity-alias="SI"/>
        <alias entity-alias="ST" name="statusTypeDesc" field="description"/>
        <alias entity-alias="ST" name="parentTypeId"/>
        <alias entity-alias="ST" name="portalTypeId"/>
        <view-link entity-alias="SI" rel-entity-alias="ST">
            <key-map field-name="statusTypeId"/>
        </view-link>
        <relation rel-entity-name="StatusItem" type="one-nofk">
            <key-map field-name="statusId"/>
        </relation>
        <relation rel-entity-name="StatusType" type="one-nofk">
            <key-map field-name="statusTypeId"/>
        </relation>
    </view-entity>

    <view-entity entity-name="WorkEffortNoteAndData" package-name="org.ofbiz.workeffort.workeffort" title="Work Effort Note And Note Data Entity">
        <member-entity entity-alias="WEN" entity-name="WorkEffortNote"/>
        <member-entity entity-alias="WT" entity-name="WorkEffort"/>
        <member-entity entity-alias="WTA" entity-name="WorkEffortTypeAttr"/>
        <member-entity entity-alias="ND" entity-name="NoteData"/>
        <alias entity-alias="WEN" name="workEffortId"/>
        <alias entity-alias="WEN" name="internalNote"/>
        <alias entity-alias="WEN" name="noteId"/>
        <alias entity-alias="WEN" name="sequenceId"/>
        <alias entity-alias="WEN" name="isMain"/>
        <alias entity-alias="WEN" name="isHtml"/>
        <alias entity-alias="WEN" name="isPosted"/>
        <alias entity-alias="ND" name="noteName"/>
        <alias entity-alias="ND" name="noteNameLang"/>
        <alias entity-alias="ND" name="noteInfo"/>
        <alias entity-alias="ND" name="noteInfoLang"/>
        <alias entity-alias="ND" name="noteParty"/>
        <alias entity-alias="ND" name="noteDateTime"/>
        <alias entity-alias="ND" name="createdByUserLogin"/>
        <alias entity-alias="WTA" name="noteContentId" field="contentId"/>
        <alias entity-alias="WTA" name="isDefault"/>
        <view-link entity-alias="WEN" rel-entity-alias="ND">
            <key-map field-name="noteId"/>
        </view-link>
        <view-link entity-alias="WEN" rel-entity-alias="WT">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WT" rel-entity-alias="WTA">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-expr field-name="attrName" entity-alias="WTA" rel-field-name="noteName" rel-entity-alias="ND"/>
            </entity-condition>
        </view-link>

        <relation type="one-nofk" rel-entity-name="NoteData">
            <key-map field-name="noteId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="WorkEffort">
            <key-map field-name="workEffortId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="WorkEffortView" title="Note2">
            <key-map field-name="workEffortId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="WorkEffortView" title="Note3">
            <key-map field-name="workEffortId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="WorkEffortView" title="Note4">
            <key-map field-name="workEffortId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="WorkEffortView" title="NoteR">
            <key-map field-name="workEffortId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="WorkEffortView">
            <key-map field-name="workEffortId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="Party">
            <key-map field-name="noteParty" rel-field-name="partyId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="Person">
            <key-map field-name="noteParty" rel-field-name="partyId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="WorkEffortAchieveViewExt">
            <key-map field-name="workEffortId"/>
        </relation>
    </view-entity>

    <view-entity entity-name="WorkEffortPartyAssView" package-name="org.ofbiz.workeffort.workeffort">
        <description>Vista su WorkEffortPartyAssignment in cui il workEffort ha roleTypeId = WEM%</description>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="WP"/>
        <alias-all entity-alias="WP" group-by="true"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="WP">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
            <key-map field-name="estimatedCompletionDate" rel-field-name="thruDate"/>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr entity-alias="WP" field-name="roleTypeId" operator="like" value="WEM%"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
            </condition-list>
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAndWorkEffortPartyAssView" package-name="org.ofbiz.workeffort.workeffort">
        <description>Vista su WorkEffortPartyAssignment </description>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="C"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="D"/>
        <alias-all entity-alias="A" >
        	<exclude field="facilityId"/>
        </alias-all>
        <alias-all entity-alias="C" >
        	<exclude field="isPosted"/>
        	<exclude field="sequenceNum"/>
        </alias-all>
        <alias entity-alias="B" name="isTemplate"/>
        <alias entity-alias="B" name="isRoot"/>
        <alias entity-alias="B" name="parentTypeId"/>	
        <alias name="templateId" field="workEffortIdTo" entity-alias="D" prim-key="false" />
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>        
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdFrom"/>
            <entity-condition>
	            <condition-list>
	            	<condition-expr field-name="workEffortAssocTypeId" entity-alias="D" value="TEMPL"/>
            	</condition-list>
            </entity-condition>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortEventView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffortView"/>

        <alias-all entity-alias="A"/>

        <entity-condition>
            <condition-expr entity-alias="A" field-name="weContextId" value="EVENT"/>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortPartyAssignmentGroupView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffortPartyAssignment"/>
    	<alias entity-alias="A" name="partyId" group-by="true"/>
        <alias entity-alias="A" name="workEffortId" group-by="true"/>
        <alias entity-alias="A" name="thruDate" group-by="true"/>
        <entity-condition>
    	    <condition-expr field-name="roleTypeId" entity-alias="A" operator="like" value="WEM%"/>
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortRootInqyView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="Party" entity-alias="E"/>
        <member-entity entity-name="PartyParentRole" entity-alias="F"/>
        <member-entity entity-name="WorkEffortTypeAssoc" entity-alias="G"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="H"/>
        <member-entity entity-name="WorkEffort" entity-alias="I"/>           
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="workEffortTypeId"/>
        <alias entity-alias="A" name="currentStatusId"/>
        <alias entity-alias="A" name="workEffortParentId"/>
        <alias entity-alias="A" name="organizationId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>
        <alias entity-alias="A" name="orgUnitId"/>
        <alias entity-alias="A" name="sourceReferenceId"/>
        <alias entity-alias="A" name="workEffortName"/>
        <alias entity-alias="A" name="estimatedStartDate"/>
        <alias entity-alias="A" name="estimatedCompletionDate"/>
        <alias entity-alias="A" name="workEffortSnapshotId"/>
        <alias entity-alias="A" field="etch" name="weEtch"/>
        <alias entity-alias="A" name="snapShotDescription"/>
        <alias entity-alias="A" name="snapShotDate"/>
        <alias entity-alias="A" name="workEffortRevisionId"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate"/>
        <alias entity-alias="B" field="description" name="weTypeDescription"/>
        <alias entity-alias="B" field="etch" name="etch"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId"/>
        <alias entity-alias="B" name="isRootActive"/>
        <alias entity-alias="B" name="seqEsp"/>
        <alias entity-alias="C" field="description" name="weStatusDescr"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId"/>
        <alias entity-alias="C" field="sequenceId" name="weStatusSeqId"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId"/>
        <alias entity-alias="E" name="partyName"/>        
        <alias entity-alias="A" name="workEffortNameLang"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang"/>
        <alias entity-alias="E" name="partyNameLang"/>  
        <alias entity-alias="F" name="parentRoleCode"/>
        <alias entity-alias="I" field="workEffortName" name="weFromName"/>
        <alias entity-alias="I" field="workEffortNameLang" name="weFromNameLang"/> 
        <alias entity-alias="E" name="externalId"/>              
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>       
        <view-link entity-alias="E" rel-entity-alias="F" rel-optional="true">
        	<key-map field-name="partyId"/>
        	<entity-condition>
        		<condition-list>
        			<condition-expr field-name="roleTypeId" entity-alias="F" value="ORGANIZATION_UNIT"/>
        		</condition-list>
        	</entity-condition>
        </view-link> 
        <view-link rel-entity-alias="G" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="G" field-name="isParentRel" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="G" field-name="isParentRel" operator="equals" value="Y"/>
                </condition-list>
            </entity-condition>
        </view-link> 
        <view-link rel-entity-alias="H" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="H" field-name="workEffortAssocTypeId" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="workEffortIdFrom" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="workEffortAssocTypeId" operator="equals" rel-entity-alias="G" rel-field-name="workEffortAssocTypeId"/>
                    <condition-expr entity-alias="H" field-name="workEffortRevisionId" operator="equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="thruDate" operator="equals" rel-entity-alias="A" rel-field-name="estimatedCompletionDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="I" entity-alias="H" rel-optional="true">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>              
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- WorkEffortRootOrgMgrView -->
    <!-- U,A,B,C = WorkEffortRootInqyView -->
    <!-- param uvUserLoginId = current user login -->
    <!-- param partyIdTo = current user login party -->
    <!-- param partyName = orgUnit Name -->
    <view-entity entity-name="WorkEffortRootInqyOrgMgrView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="PartyRelationship" entity-alias="E"/>
        <member-entity entity-name="Party" entity-alias="M"/>
        <member-entity entity-name="WorkEffortTypeAssoc" entity-alias="G"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="H"/>
        <member-entity entity-name="WorkEffort" entity-alias="I"/>          
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="workEffortTypeId"/>
        <alias entity-alias="A" name="currentStatusId"/>
        <alias entity-alias="A" name="workEffortParentId"/>
        <alias entity-alias="A" name="organizationId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>
        <alias entity-alias="A" name="orgUnitId"/>
        <alias entity-alias="A" name="sourceReferenceId"/>
        <alias entity-alias="A" name="workEffortName"/>
        <alias entity-alias="A" name="estimatedStartDate"/>
        <alias entity-alias="A" name="estimatedCompletionDate"/>
        <alias entity-alias="A" name="workEffortSnapshotId"/>
        <alias entity-alias="A" field="etch" name="weEtch"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate"/>
        <alias entity-alias="B" field="description" name="weTypeDescription"/>
        <alias entity-alias="B" field="etch" name="etch"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId"/>
        <alias entity-alias="C" field="description" name="weStatusDescr"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId"/>
        <alias entity-alias="E" field="partyIdTo" name="partyIdTo" prim-key="false"/>
        <alias entity-alias="M" name="partyName"/>        
        <alias entity-alias="A" name="workEffortNameLang"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang"/>
        <alias entity-alias="M" name="partyNameLang"/>
        <alias entity-alias="B" field="etchLang" name="etchLang"/>
        <alias entity-alias="I" field="workEffortName" name="weFromName"/>
        <alias entity-alias="I" field="workEffortNameLang" name="weFromNameLang"/>                  
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
            <entity-condition>
                <condition-expr field-name="managWeStatusEnumId" entity-alias="D" value="ORGMANAGER"/>
            </entity-condition>
        </view-link>
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="E">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeIdFrom"/>
            <key-map field-name="orgUnitId" rel-field-name="partyIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
	                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_RESPONSIBLE"/>
	                	<condition-list>
	                    	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_DELEGATE"/>
	                    	<condition-list combine="or">
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" operator="equals" rel-field-name="parentTypeId" rel-entity-alias="B"/>
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" value="null"/>
	                		</condition-list>
	                    </condition-list>
                	</condition-list>
                	<condition-list combine="and">
                    	<condition-expr field-name="fromDate" entity-alias="E" operator="less-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                		<condition-list combine="or">
                    		<condition-expr entity-alias="E" field-name="thruDate" value="null"/>
                    		<condition-expr field-name="thruDate" entity-alias="E" operator="greater-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                    	</condition-list>
                    </condition-list>
                    
                    <condition-expr field-name="partyIdTo" entity-alias="E" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <view-link rel-entity-alias="G" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="G" field-name="isParentRel" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="G" field-name="isParentRel" operator="equals" value="Y"/>
                </condition-list>
            </entity-condition>
        </view-link> 
        <view-link rel-entity-alias="H" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="H" field-name="workEffortAssocTypeId" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="workEffortIdFrom" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="workEffortAssocTypeId" operator="equals" rel-entity-alias="G" rel-field-name="workEffortAssocTypeId"/>
                    <condition-expr entity-alias="H" field-name="workEffortRevisionId" operator="equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="thruDate" operator="equals" rel-entity-alias="A" rel-field-name="estimatedCompletionDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="I" entity-alias="H" rel-optional="true">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>         
        <!-- -->
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortRootInqyRoleView" package-name="org.ofbiz.workeffort.workeffort">
        <description>
            extends WorkEffortRootTypeStatusView, WorkEffortPartyAssignment
            param uvUserLoginId = current user login
            param partyId = current user login party
            param partyName = orgUnit Name
        </description>
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="WorkEffortPartyAssignmentGroupView" entity-alias="E"/>
        <member-entity entity-name="Party" entity-alias="M"/>
        <member-entity entity-name="WorkEffortTypeAssoc" entity-alias="G"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="H"/>
        <member-entity entity-name="WorkEffort" entity-alias="I"/>        
        <!--  -->
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="workEffortTypeId"/>
        <alias entity-alias="A" name="currentStatusId"/>
        <alias entity-alias="A" name="workEffortParentId"/>
        <alias entity-alias="A" name="organizationId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>
        <alias entity-alias="A" name="orgUnitId"/>
        <alias entity-alias="A" name="sourceReferenceId"/>
        <alias entity-alias="A" name="workEffortName"/>
        <alias entity-alias="A" name="estimatedStartDate"/>
        <alias entity-alias="A" name="estimatedCompletionDate"/>
        <alias entity-alias="A" name="workEffortSnapshotId"/>
        <alias entity-alias="A" field="etch" name="weEtch"/>
        <alias entity-alias="M" name="partyName"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate"/>
        <alias entity-alias="B" field="description" name="weTypeDescription"/>
        <alias entity-alias="B" field="etch" name="etch"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId"/>
        <alias entity-alias="C" field="description" name="weStatusDescr"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId"/>
        <alias entity-alias="E" field="partyId" name="partyId"/>
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId"/>        
        <alias entity-alias="A" name="workEffortNameLang"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang"/>
        <alias entity-alias="M" name="partyNameLang"/>
        <alias entity-alias="B" field="etchLang" name="etchLang"/> 
        <alias entity-alias="I" field="workEffortName" name="weFromName"/>
        <alias entity-alias="I" field="workEffortNameLang" name="weFromNameLang"/>                
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
            <entity-condition>
                <condition-expr field-name="managWeStatusEnumId" entity-alias="D" value="ROLE"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E">
            <key-map field-name="workEffortId"/>
            <key-map field-name="estimatedCompletionDate" rel-field-name="thruDate"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="partyId" entity-alias="E" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <view-link rel-entity-alias="G" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="G" field-name="isParentRel" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="G" field-name="isParentRel" operator="equals" value="Y"/>
                </condition-list>
            </entity-condition>
        </view-link> 
        <view-link rel-entity-alias="H" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="H" field-name="workEffortAssocTypeId" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="workEffortIdFrom" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="workEffortAssocTypeId" operator="equals" rel-entity-alias="G" rel-field-name="workEffortAssocTypeId"/>
                    <condition-expr entity-alias="H" field-name="workEffortRevisionId" operator="equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="thruDate" operator="equals" rel-entity-alias="A" rel-field-name="estimatedCompletionDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="I" entity-alias="H" rel-optional="true">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>         
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>        
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
            </condition-list>
        </entity-condition>
    </view-entity>

<!-- WorkEffortRootInqyOrgMgrRoleView -->
    <!-- U,A,B,C = WorkEffortRootInqyView -->
    <!-- param uvUserLoginId = current user login -->
    <!-- param managementRoleTypeId = type status field -->
    <!-- param managWeStatusEnumId = type status field -->
    <!-- param partyIdTo = current user login party (relationship) -->
    <!-- param partyId = current user login party (assignment) -->
    <view-entity entity-name="WorkEffortRootInqyOrgMgrRoleView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="Party" entity-alias="G"/>
        <member-entity entity-name="PartyRelationship" entity-alias="E"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="F"/>
        <member-entity entity-name="PartyParentRole" entity-alias="H"/>
        <member-entity entity-name="WorkEffortTypeAssoc" entity-alias="I"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="J"/>
        <member-entity entity-name="WorkEffort" entity-alias="K"/>     
        <!-- -->
        <alias entity-alias="A" name="workEffortId" group-by="true"/>
        <alias entity-alias="A" name="workEffortTypeId" group-by="true"/>
        <alias entity-alias="A" name="currentStatusId" group-by="true"/>
        <alias entity-alias="A" name="workEffortParentId" group-by="true"/>
        <alias entity-alias="A" name="organizationId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitId" group-by="true"/>
        <alias entity-alias="A" name="sourceReferenceId" group-by="true"/>
        <alias entity-alias="A" name="workEffortName" group-by="true"/>
        <alias entity-alias="A" name="estimatedStartDate" group-by="true"/>
        <alias entity-alias="A" name="estimatedCompletionDate" group-by="true"/>
        <alias entity-alias="A" name="workEffortSnapshotId" group-by="true"/>
        <alias entity-alias="A" field="etch" name="weEtch" group-by="true"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" group-by="true"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId" group-by="true"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot" group-by="true"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate" group-by="true"/>
        <alias entity-alias="B" field="description" name="weTypeDescription" group-by="true"/>
        <alias entity-alias="B" field="etch" name="etch" group-by="true"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId" group-by="true"/>
        <alias entity-alias="C" field="description" name="weStatusDescr" group-by="true"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation" group-by="true"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId" group-by="true"/>
        <alias entity-alias="C" field="sequenceId" name="weStatusSeqId" group-by="true"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId" group-by="true"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId" group-by="true"/>
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId" group-by="true"/>
        <alias entity-alias="D" field="managWeStatusEnumId" name="managWeStatusEnumId" group-by="true"/>
        <alias entity-alias="E" field="partyIdTo" name="partyIdTo" group-by="true"/>
        <alias entity-alias="F" field="partyId" name="partyId" group-by="true"/>
        <alias entity-alias="G" name="partyName" group-by="true"/>        
        <alias entity-alias="A" name="workEffortNameLang" group-by="true"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang" group-by="true"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang" group-by="true"/>
        <alias entity-alias="G" name="partyNameLang" group-by="true"/>
        <alias entity-alias="B" field="etchLang" name="etchLang" group-by="true"/>
        <alias entity-alias="H" name="parentRoleCode" group-by="true"/> 
        <alias entity-alias="K" field="workEffortName" name="weFromName"/>
        <alias entity-alias="K" field="workEffortNameLang" name="weFromNameLang"/>
        <alias entity-alias="G" name="externalId" group-by="true"/>                
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="E" rel-optional="true">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeIdFrom"/>
            <key-map field-name="orgUnitId" rel-field-name="partyIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
	                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_RESPONSIBLE"/>
	                	<condition-list>
	                    	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_DELEGATE"/>
	                    	<condition-list combine="or">
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" operator="equals" rel-field-name="parentTypeId" rel-entity-alias="B"/>
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" value="null"/>
	                		</condition-list>
	                    </condition-list>
                	</condition-list>
                    <condition-list combine="and">
                    	<condition-expr field-name="fromDate" entity-alias="E" operator="less-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                		<condition-list combine="or">
                    		<condition-expr entity-alias="E" field-name="thruDate" value="null"/>
                    		<condition-expr field-name="thruDate" entity-alias="E" operator="greater-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                    	</condition-list>
                    </condition-list>
                    
                    <condition-expr field-name="partyIdTo" entity-alias="E" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="F" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
            <key-map field-name="estimatedCompletionDate" rel-field-name="thruDate"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="roleTypeId" entity-alias="F" operator="like" value="WEM%"/>
                    <condition-expr field-name="partyId" entity-alias="F" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="G">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>        
        <view-link entity-alias="G" rel-entity-alias="H">
        	<key-map field-name="partyId"/>
        	<entity-condition>
        		<condition-list>
        			<condition-expr field-name="roleTypeId" entity-alias="H" value="ORGANIZATION_UNIT"/>
        		</condition-list>
        	</entity-condition>
        </view-link>  
        <view-link rel-entity-alias="I" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="I" field-name="isParentRel" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="I" field-name="isParentRel" operator="equals" value="Y"/>
                </condition-list>
            </entity-condition>
        </view-link> 
        <view-link rel-entity-alias="J" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="J" field-name="workEffortAssocTypeId" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="J" field-name="workEffortIdFrom" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="J" field-name="workEffortAssocTypeId" operator="equals" rel-entity-alias="I" rel-field-name="workEffortAssocTypeId"/>
                    <condition-expr entity-alias="J" field-name="workEffortRevisionId" operator="equals" value="null"/>
                    <condition-expr entity-alias="J" field-name="thruDate" operator="equals" rel-entity-alias="A" rel-field-name="estimatedCompletionDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="K" entity-alias="J" rel-optional="true">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>              
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
                <condition-list combine="or">
                    <condition-expr field-name="partyIdTo" entity-alias="E" operator="not-equals" value="null"/>
                    <condition-expr field-name="partyId" entity-alias="F" operator="not-equals" value="null"/>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- WorkEffortRootView -->
    <!-- U,A,B,C = WorkEffortRootInqyView -->
    <!-- param uvUserLoginId = current user login -->
	<!-- vista usata in fase di ricerca come contenitore -->
    <view-entity entity-name="WorkEffortRootView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="Party" entity-alias="E"/>
        <member-entity entity-name="PartyParentRole" entity-alias="F"/>
        <member-entity entity-name="WorkEffortTypeAssoc" entity-alias="G"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="H"/>
        <member-entity entity-name="WorkEffort" entity-alias="I"/>        
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="currentStatusId"/>
        <alias entity-alias="A" name="workEffortParentId"/>
        <alias entity-alias="A" name="description"/>
        <alias entity-alias="A" name="organizationId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>
        <alias entity-alias="A" name="orgUnitId"/>
        <alias entity-alias="A" name="sourceReferenceId"/>
        <alias entity-alias="A" name="workEffortName"/>
        <alias entity-alias="A" name="estimatedStartDate"/>
        <alias entity-alias="A" name="estimatedCompletionDate"/>
        <alias entity-alias="A" name="lastCorrectScoreDate"/>
        <alias entity-alias="A" name="workEffortTypeId"/>
        <alias entity-alias="A" name="workEffortSnapshotId"/>
        <alias entity-alias="A" field="etch" name="weEtch"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate"/>
        <alias entity-alias="B" field="description" name="weTypeDescription"/>
        <alias entity-alias="B" field="etch" name="etch"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId"/>
        <alias entity-alias="B" name="gpMenuEnumId"/>
        <alias entity-alias="B" name="seqEsp"/>
        <alias entity-alias="C" field="description" name="weStatusDescr"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId"/>
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId"/>
        <alias entity-alias="D" field="managWeStatusEnumId" name="managWeStatusEnumId"/>
        <alias entity-alias="E" name="partyName"/>         
        <alias entity-alias="A" name="workEffortNameLang"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang"/>
        <alias entity-alias="E" name="partyNameLang"/>
        <alias entity-alias="B" field="etchLang" name="etchLang"/>
        <alias entity-alias="F" name="parentRoleCode"/> 
        <alias entity-alias="I" field="workEffortName" name="weFromName"/>
        <alias entity-alias="I" field="workEffortNameLang" name="weFromNameLang"/> 
        <alias entity-alias="E" name="externalId"/>              
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>       
        <view-link entity-alias="E" rel-entity-alias="F" rel-optional="true">
        	<key-map field-name="partyId"/>
        	<entity-condition>
        		<condition-list>
        			<condition-expr field-name="roleTypeId" entity-alias="F" value="ORGANIZATION_UNIT"/>
        		</condition-list>
        	</entity-condition>
        </view-link>   
        <view-link rel-entity-alias="G" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="G" field-name="isParentRel" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="G" field-name="isParentRel" operator="equals" value="Y"/>
                </condition-list>
            </entity-condition>
        </view-link> 
        <view-link rel-entity-alias="H" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="H" field-name="workEffortAssocTypeId" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="workEffortIdFrom" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="workEffortAssocTypeId" operator="equals" rel-entity-alias="G" rel-field-name="workEffortAssocTypeId"/>
                    <condition-expr entity-alias="H" field-name="workEffortRevisionId" operator="equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="thruDate" operator="equals" rel-entity-alias="A" rel-field-name="estimatedCompletionDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="I" entity-alias="H" rel-optional="true">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>                    
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="workEffortSnapshotId" entity-alias="A" operator="equals" value="null"/>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
                <condition-expr field-name="actStEnumId" entity-alias="C" operator="in" value="ACTSTATUS_PENDING,ACTSTATUS_ACTIVE"/>
            </condition-list>
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortRootViewAllStatus" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="Party" entity-alias="E"/>
        <member-entity entity-name="PartyParentRole" entity-alias="F"/>
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="currentStatusId"/>
        <alias entity-alias="A" name="workEffortParentId"/>
        <alias entity-alias="A" name="description"/>
        <alias entity-alias="A" name="organizationId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>
        <alias entity-alias="A" name="orgUnitId"/>
        <alias entity-alias="A" name="sourceReferenceId"/>
        <alias entity-alias="A" name="workEffortName"/>
        <alias entity-alias="A" name="estimatedStartDate"/>
        <alias entity-alias="A" name="estimatedCompletionDate"/>
        <alias entity-alias="A" name="lastCorrectScoreDate"/>
        <alias entity-alias="A" name="workEffortTypeId"/>
        <alias entity-alias="A" name="workEffortSnapshotId"/>
        <alias entity-alias="A" field="etch" name="weEtch"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate"/>
        <alias entity-alias="B" field="description" name="weTypeDescription"/>
        <alias entity-alias="B" field="etch" name="etch"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId"/>
        <alias entity-alias="B" name="gpMenuEnumId"/>
        <alias entity-alias="B" name="seqEsp"/>
        <alias entity-alias="C" field="description" name="weStatusDescr"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId"/>
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId"/>
        <alias entity-alias="D" field="managWeStatusEnumId" name="managWeStatusEnumId"/>
        <alias entity-alias="E" name="partyName"/>         
        <alias entity-alias="A" name="workEffortNameLang"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang"/>
        <alias entity-alias="E" name="partyNameLang"/>
        <alias entity-alias="B" field="etchLang" name="etchLang"/>
        <alias entity-alias="F" name="parentRoleCode"/>               
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>       
        <view-link entity-alias="E" rel-entity-alias="F" rel-optional="true">
        	<key-map field-name="partyId"/>
        	<entity-condition>
        		<condition-list>
        			<condition-expr field-name="roleTypeId" entity-alias="F" value="ORGANIZATION_UNIT"/>
        		</condition-list>
        	</entity-condition>
        </view-link>        
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="workEffortSnapshotId" entity-alias="A" operator="equals" value="null"/>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
            </condition-list>
        </entity-condition>
    </view-entity>    

    <!-- Lista che mi visualizza solo i snapShot -->
    <view-entity entity-name="WorkEffortRootSnapShotView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="Party" entity-alias="E"/>
        <alias entity-alias="A" name="workEffortIdSnapShot" field="workEffortId" prim-key="true"/>
        <alias entity-alias="A" name="currentStatusId"/>
        <alias entity-alias="A" name="workEffortParentId"/>
        <alias entity-alias="A" name="description"/>
        <alias entity-alias="A" name="organizationId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>
        <alias entity-alias="A" name="orgUnitId"/>
        <alias entity-alias="A" name="sourceReferenceId"/>
        <alias entity-alias="A" name="workEffortName"/>
        <alias entity-alias="A" name="estimatedStartDate"/>
        <alias entity-alias="A" name="estimatedCompletionDate"/>
        <alias entity-alias="A" name="lastCorrectScoreDate"/>
        <alias entity-alias="A" name="workEffortTypeId"/>
        <alias entity-alias="A" name="workEffortId" field="workEffortSnapshotId" prim-key="true"/>
        <alias entity-alias="A" name="snapShotDate"/>
        <alias entity-alias="A" name="snapShotDescription"/>
        <alias entity-alias="A" name="workEffortRevisionId"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate"/>
        <alias entity-alias="B" field="description" name="weTypeDescription"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId"/>
        <alias entity-alias="C" field="description" name="weStatusDescr"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId"/>
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId"/>
        <alias entity-alias="D" field="managWeStatusEnumId" name="managWeStatusEnumId"/>
        <alias entity-alias="E" name="partyName"/>
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="WorkEffortView">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="workEffortSnapshotId" entity-alias="A" operator="not-equals" value="null"/>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
                <condition-expr field-name="actStEnumId" entity-alias="C" operator="in" value="ACTSTATUS_PENDING,ACTSTATUS_ACTIVE"/>
            </condition-list>
        </entity-condition>
    </view-entity>

	<view-entity entity-name="WorkEffortRootViewAndAssign" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="Party" entity-alias="E"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="WEPA"/>
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="currentStatusId"/>
        <alias entity-alias="A" name="workEffortParentId"/>
        <alias entity-alias="A" name="description"/>
        <alias entity-alias="A" name="organizationId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>
        <alias entity-alias="A" name="orgUnitId"/>
        <alias entity-alias="A" name="sourceReferenceId"/>
        <alias entity-alias="A" name="workEffortName"/>
        <alias entity-alias="A" name="estimatedStartDate"/>
        <alias entity-alias="A" name="estimatedCompletionDate"/>
        <alias entity-alias="A" name="lastCorrectScoreDate"/>
        <alias entity-alias="A" name="workEffortTypeId"/>
        <alias entity-alias="A" name="workEffortSnapshotId"/>
        <alias entity-alias="A" field="etch" name="weEtch"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate"/>
        <alias entity-alias="B" field="description" name="weTypeDescription"/>
        <alias entity-alias="B" field="etch" name="etch"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId"/>
        <alias entity-alias="C" field="description" name="weStatusDescr"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId"/>
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId"/>
        <alias entity-alias="D" field="managWeStatusEnumId" name="managWeStatusEnumId"/>
        <alias entity-alias="E" name="partyName"/>        
        <alias entity-alias="WEPA" name="partyId"/>
        <alias entity-alias="WEPA" name="roleTypeId"/>
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="WEPA">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </view-link>
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="workEffortSnapshotId" entity-alias="A" operator="equals" value="null"/>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
                <condition-expr field-name="actStEnumId" entity-alias="C" operator="in" value="ACTSTATUS_PENDING,ACTSTATUS_ACTIVE"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortRootViewPrintHeader" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffortRootView"/>
        <member-entity entity-alias="B" entity-name="WorkEffortPartyAssignment"/>
        <member-entity entity-alias="H" entity-name="PartyRole"/>
        <member-entity entity-alias="F" entity-name="Party"/>
        <member-entity entity-alias="D" entity-name="Person"/>
        <member-entity entity-alias="E" entity-name="EmplPositionType"/>
        <member-entity entity-alias="C" entity-name="WorkEffortPartyAssignment"/>
        <member-entity entity-alias="I" entity-name="PartyRole"/>
        <member-entity entity-alias="G" entity-name="Party"/>

        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="uvUserLoginId"/>
        <alias entity-alias="A" name="workEffortName"/>
        <alias entity-alias="A" name="estimatedCompletionDate"/>
        <alias entity-alias="A" name="lastCorrectScoreDate"/>
        <alias entity-alias="F" name="partyName"/>
        <alias entity-alias="E" name="emplPositionType" field="description"/>
        <alias entity-alias="G" name="evalManager" field="partyName"/>

        <view-link rel-entity-alias="B" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="B" value="WEM_EVAL_IN_CHARGE"/>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="H" entity-alias="B" rel-optional="true">
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link rel-entity-alias="F" entity-alias="H" rel-optional="true">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link rel-entity-alias="D" entity-alias="F" rel-optional="true">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link rel-entity-alias="E" entity-alias="D" rel-optional="true">
            <key-map field-name="emplPositionTypeId"/>
        </view-link>
        <view-link rel-entity-alias="C" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="C" value="WEM_EVAL_MANAGER"/>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="I" entity-alias="C" rel-optional="true">
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link rel-entity-alias="G" entity-alias="I" rel-optional="true">
            <key-map field-name="partyId"/>
        </view-link>
    </view-entity>

    <!-- WorkEffortRootOrgMgrView -->
    <!-- U,A,B,C = WorkEffortRootInqyView -->
    <!-- param uvUserLoginId = current user login -->
    <!-- param partyIdTo = current user login party -->

    <!-- vista usata in fase di ricerca come contenitore -->
    <view-entity entity-name="WorkEffortRootOrgMgrView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="PartyRelationship" entity-alias="E"/>
        <member-entity entity-name="Party" entity-alias="F"/>
        <member-entity entity-name="WorkEffortTypeAssoc" entity-alias="G"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="H"/>
        <member-entity entity-name="WorkEffort" entity-alias="I"/>       
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="currentStatusId"/>
        <alias entity-alias="A" name="workEffortParentId"/>
        <alias entity-alias="A" name="organizationId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>
        <alias entity-alias="A" name="orgUnitId"/>
        <alias entity-alias="A" name="sourceReferenceId"/>
        <alias entity-alias="A" name="workEffortName"/>
        <alias entity-alias="A" name="estimatedStartDate"/>
        <alias entity-alias="A" name="estimatedCompletionDate"/>
        <alias entity-alias="A" field="etch" name="weEtch"/>
        <alias entity-alias="A" name="workEffortSnapshotId"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate"/>
        <alias entity-alias="B" field="description" name="weTypeDescription"/>
        <alias entity-alias="B" field="etch" name="etch"/>
        <alias entity-alias="B" name="workEffortTypeId" prim-key="false"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId"/>
        <alias entity-alias="C" field="description" name="weStatusDescr"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId"/>
        <alias entity-alias="F" name="partyName"/>
        <alias entity-alias="E" field="partyIdTo" name="partyIdTo" prim-key="false"/>        
        <alias entity-alias="A" name="workEffortNameLang"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang"/>
        <alias entity-alias="F" name="partyNameLang"/>
        <alias entity-alias="B" field="etchLang" name="etchLang"/>
        <alias entity-alias="I" field="workEffortName" name="weFromName"/>
        <alias entity-alias="I" field="workEffortNameLang" name="weFromNameLang"/>                  
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
            <entity-condition>
                <condition-expr field-name="managWeStatusEnumId" entity-alias="D" value="ORGMANAGER"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeIdFrom"/>
            <key-map field-name="orgUnitId" rel-field-name="partyIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
	                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_RESPONSIBLE"/>
	                	<condition-list>
	                    	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_DELEGATE"/>
	                    	<condition-list combine="or">
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" operator="equals" value="CTX_EP"/>
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" value="null"/>
	                		</condition-list>
	                    </condition-list>
                	</condition-list>
                    <condition-list combine="and">
                    	<condition-expr field-name="fromDate" entity-alias="E" operator="less-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                		<condition-list combine="or">
                    		<condition-expr entity-alias="E" field-name="thruDate" value="null"/>
                    		<condition-expr field-name="thruDate" entity-alias="E" operator="greater-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                    	</condition-list>
                    </condition-list>
                    
                    <condition-expr field-name="partyIdTo" entity-alias="E" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="F" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <view-link rel-entity-alias="G" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="G" field-name="isParentRel" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="G" field-name="isParentRel" operator="equals" value="Y"/>
                </condition-list>
            </entity-condition>
        </view-link> 
        <view-link rel-entity-alias="H" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="H" field-name="workEffortAssocTypeId" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="workEffortIdFrom" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="workEffortAssocTypeId" operator="equals" rel-entity-alias="G" rel-field-name="workEffortAssocTypeId"/>
                    <condition-expr entity-alias="H" field-name="workEffortRevisionId" operator="equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="thruDate" operator="equals" rel-entity-alias="A" rel-field-name="estimatedCompletionDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="I" entity-alias="H" rel-optional="true">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>         
        <!-- -->
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
                <!-- <condition-expr field-name="actStEnumId" entity-alias="C" operator="in" value="ACTSTATUS_PENDING,ACTSTATUS_ACTIVE"/> -->
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- vista usata in fase di ricerca come contenitore -->
    <view-entity entity-name="WorkEffortRootRoleView" package-name="org.ofbiz.workeffort.workeffort">
        <description>
            extends WorkEffortRootTypeStatusView, WorkEffortPartyAssignment
            param uvUserLoginId = current user login
            param partyId = current user login party
        </description>
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="E"/>
        <member-entity entity-name="Party" entity-alias="F"/> 
        <member-entity entity-name="WorkEffortTypeAssoc" entity-alias="G"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="H"/>
        <member-entity entity-name="WorkEffort" entity-alias="I"/>                
        <!-- -->
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="currentStatusId"/>
        <alias entity-alias="A" name="workEffortParentId"/>
        <alias entity-alias="A" name="organizationId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>
        <alias entity-alias="A" name="orgUnitId"/>
        <alias entity-alias="A" name="sourceReferenceId"/>
        <alias entity-alias="A" name="workEffortName"/>
        <alias entity-alias="A" name="estimatedStartDate"/>
        <alias entity-alias="A" name="estimatedCompletionDate"/>
        <alias entity-alias="A" name="workEffortSnapshotId"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate"/>
        <alias entity-alias="B" field="description" name="weTypeDescription"/>
        <alias entity-alias="B" field="etch" name="etch"/>
        <alias entity-alias="B" name="workEffortTypeId" prim-key="false"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId"/>
        <alias entity-alias="C" field="description" name="weStatusDescr"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId"/>
        <alias entity-alias="E" field="partyId" name="partyId"/>
        <alias entity-alias="F" name="partyName"/>        
        <alias entity-alias="A" name="workEffortNameLang"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang"/>
        <alias entity-alias="F" name="partyNameLang"/>
        <alias entity-alias="B" field="etchLang" name="etchLang"/> 
        <alias entity-alias="I" field="workEffortName" name="weFromName"/>
        <alias entity-alias="I" field="workEffortNameLang" name="weFromNameLang"/>               
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
            <entity-condition>
                <condition-expr field-name="managWeStatusEnumId" entity-alias="D" value="ROLE"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E">
            <key-map field-name="workEffortId"/>
            <key-map field-name="estimatedCompletionDate" rel-field-name="thruDate"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="roleTypeId" entity-alias="E" rel-field-name="managementRoleTypeId" rel-entity-alias="D"/>
                    <condition-expr field-name="partyId" entity-alias="E" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                    <condition-expr field-name="managementRoleTypeId" entity-alias="D" operator="not-equals" value="null"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="F" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <view-link rel-entity-alias="G" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="G" field-name="isParentRel" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="G" field-name="isParentRel" operator="equals" value="Y"/>
                </condition-list>
            </entity-condition>
        </view-link> 
        <view-link rel-entity-alias="H" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="H" field-name="workEffortAssocTypeId" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="workEffortIdFrom" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="workEffortAssocTypeId" operator="equals" rel-entity-alias="G" rel-field-name="workEffortAssocTypeId"/>
                    <condition-expr entity-alias="H" field-name="workEffortRevisionId" operator="equals" value="null"/>
                    <condition-expr entity-alias="H" field-name="thruDate" operator="equals" rel-entity-alias="A" rel-field-name="estimatedCompletionDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="I" entity-alias="H" rel-optional="true">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>         
        <!-- -->
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- WorkEffortRootOrgMgrRoleView -->
    <!-- U,A,B,C = WorkEffortRootInqyView -->
    <!-- param uvUserLoginId = current user login -->
    <!-- param managementRoleTypeId = type status field -->
    <!-- param managWeStatusEnumId = type status field -->
    <!-- param partyIdTo = current user login party (relationship) -->
    <!-- param partyId = current user login party (assignment) -->
	<!-- vista usata in fase di ricerca come contenitore -->
    <view-entity entity-name="WorkEffortRootOrgMgrRoleView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <!-- -->
        <member-entity entity-name="PartyRelationship" entity-alias="E"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="F"/>
        <member-entity entity-name="Party" entity-alias="G"/>
        <member-entity entity-name="PartyParentRole" entity-alias="H"/>
        <member-entity entity-name="WorkEffortTypeAssoc" entity-alias="I"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="J"/>
        <member-entity entity-name="WorkEffort" entity-alias="K"/>      
        <!-- -->
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="workEffortTypeId" prim-key="false"/>
        <alias entity-alias="A" name="currentStatusId"/>
        <alias entity-alias="A" name="workEffortParentId"/>
        <alias entity-alias="A" name="organizationId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>
        <alias entity-alias="A" name="orgUnitId"/>
        <alias entity-alias="A" name="sourceReferenceId"/>
        <alias entity-alias="A" name="workEffortName"/>
        <alias entity-alias="A" name="estimatedStartDate"/>
        <alias entity-alias="A" name="estimatedCompletionDate"/>
        <alias entity-alias="A" field="etch" name="weEtch"/>
        <alias entity-alias="A" name="workEffortSnapshotId"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate"/>
        <alias entity-alias="B" field="description" name="weTypeDescription"/>
        <alias entity-alias="B" field="etch" name="etch"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId"/>
        <alias entity-alias="C" field="description" name="weStatusDescr"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId"/>
        <alias entity-alias="C" field="sequenceId" name="weStatusSeqId"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId"/>
        <!-- -->
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId"/>
        <alias entity-alias="D" field="managWeStatusEnumId" name="managWeStatusEnumId"/>
        <alias entity-alias="E" field="partyIdTo" name="partyIdTo"/>
        <alias entity-alias="F" field="partyId" name="partyId"/>
        <alias entity-alias="G" name="partyName"/>
        <!--  -->
        <alias entity-alias="A" name="workEffortNameLang"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang"/>
        <alias entity-alias="G" name="partyNameLang"/>
        <alias entity-alias="B" field="etchLang" name="etchLang"/>
        <alias entity-alias="H" name="parentRoleCode"/>
        <alias entity-alias="K" field="workEffortName" name="weFromName"/>
        <alias entity-alias="K" field="workEffortNameLang" name="weFromNameLang"/>  
        <alias entity-alias="G" name="externalId"/>       
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="E" rel-optional="true">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeIdFrom"/>
            <key-map field-name="orgUnitId" rel-field-name="partyIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
	                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_RESPONSIBLE"/>
	                	<condition-list>
	                    	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_DELEGATE"/>
	                    	<condition-list combine="or">
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" operator="equals" value="CTX_EP"/>
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" value="null"/>
	                		</condition-list>
	                    </condition-list>
                	</condition-list>
                    <condition-list combine="and">
                    	<condition-expr field-name="fromDate" entity-alias="E" operator="less-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                		<condition-list combine="or">
                    		<condition-expr entity-alias="E" field-name="thruDate" value="null"/>
                    		<condition-expr field-name="thruDate" entity-alias="E" operator="greater-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                    	</condition-list>
                    </condition-list>
                    
                    <condition-expr field-name="partyIdTo" entity-alias="E" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="F" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
            <key-map field-name="estimatedCompletionDate" rel-field-name="thruDate"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="roleTypeId" entity-alias="F" operator="like" value="WEM%"/>
                    <condition-expr field-name="partyId" entity-alias="F" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                    <condition-expr field-name="roleTypeId" entity-alias="F" rel-field-name="managementRoleTypeId" rel-entity-alias="D"/>
                    <condition-expr field-name="managementRoleTypeId" entity-alias="D" operator="not-equals" value="null"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="G" rel-optional="true">
        	<key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="H" rel-optional="true">
        	<key-map field-name="partyId"/>
        	<entity-condition>
        		<condition-list>
        			<condition-expr field-name="roleTypeId" entity-alias="H" value="ORGANIZATION_UNIT"/>
        		</condition-list>
        	</entity-condition>
        </view-link>
        <view-link rel-entity-alias="I" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="I" field-name="isParentRel" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="I" field-name="isParentRel" operator="equals" value="Y"/>
                </condition-list>
            </entity-condition>
        </view-link> 
        <view-link rel-entity-alias="J" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr entity-alias="J" field-name="workEffortAssocTypeId" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="J" field-name="workEffortIdFrom" operator="not-equals" value="null"/>
                    <condition-expr entity-alias="J" field-name="workEffortAssocTypeId" operator="equals" rel-entity-alias="I" rel-field-name="workEffortAssocTypeId"/>
                    <condition-expr entity-alias="J" field-name="workEffortRevisionId" operator="equals" value="null"/>
                    <condition-expr entity-alias="J" field-name="thruDate" operator="equals" rel-entity-alias="A" rel-field-name="estimatedCompletionDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="K" entity-alias="J" rel-optional="true">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>                 
        <!-- -->
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
                <condition-list combine="or">
                    <condition-list>
                        <condition-expr field-name="managWeStatusEnumId" entity-alias="D" value="ORGMANAGER"/>
                        <condition-expr field-name="partyIdTo" entity-alias="E" operator="not-equals" value="null"/>
                    </condition-list>
                    <condition-list>
                        <condition-expr field-name="managWeStatusEnumId" entity-alias="D" value="ROLE"/>
                        <condition-expr field-name="roleTypeId" entity-alias="F" rel-field-name="managementRoleTypeId" rel-entity-alias="D"/>
                        <condition-expr field-name="partyId" entity-alias="F" operator="not-equals" value="null"/>
                    </condition-list>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- WorkEffortRootView -->
    <!-- U,A,B,C = WorkEffortRootInqyView -->
    <!-- param uvUserLoginId = current user login -->

    <view-entity entity-name="WorkEffortRootTemplateView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="Party" entity-alias="E"/>
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="currentStatusId"/>
        <alias entity-alias="A" name="workEffortParentId"/>
        <alias entity-alias="A" name="organizationId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>
        <alias entity-alias="A" name="orgUnitId"/>
        <alias entity-alias="A" name="sourceReferenceId"/>
        <alias entity-alias="A" name="workEffortName"/>
        <alias entity-alias="A" name="estimatedStartDate"/>
        <alias entity-alias="A" name="estimatedCompletionDate"/>
        <alias entity-alias="A" name="workEffortSnapshotId"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot"/>
        <alias entity-alias="B" field="description" name="weTypeDescription"/>
        <alias entity-alias="B" field="etch" name="etch"/>
        <alias entity-alias="B" name="workEffortTypeId" prim-key="false"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate"/>
        <alias entity-alias="C" field="description" name="weStatusDescr"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId"/>
        <alias entity-alias="E" name="partyName"/>        
        <alias entity-alias="A" name="workEffortNameLang"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang"/>
        <alias entity-alias="E" name="partyNameLang"/>
        <alias entity-alias="B" field="etchLang" name="etchLang"/>        
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isTemplate" entity-alias="B" value="Y"/>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr field-name="actStEnumId" entity-alias="C" operator="in" value="ACTSTATUS_ACTIVE,ACTSTATUS_PENDING,ACTSTATUS_REPLACED"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- WorkEffortRootTemplateOrgMgrView -->
    <!-- U,A,B,C = WorkEffortRootInqyView -->
    <!-- param uvUserLoginId = current user login -->
    <!-- param partyIdTo = current user login party -->

    <view-entity entity-name="WorkEffortRootTemplateOrgMgrView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="PartyRelationship" entity-alias="E"/>
        <member-entity entity-name="Party" entity-alias="F"/>
        <!-- -->
        <alias entity-alias="A" name="workEffortId" group-by="true"/>
        <alias entity-alias="A" name="currentStatusId" group-by="true"/>
        <alias entity-alias="A" name="workEffortParentId" group-by="true"/>
        <alias entity-alias="A" name="organizationId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitId" group-by="true"/>
        <alias entity-alias="A" name="sourceReferenceId" group-by="true"/>
        <alias entity-alias="A" name="workEffortName" group-by="true"/>
        <alias entity-alias="A" name="estimatedStartDate" group-by="true"/>
        <alias entity-alias="A" name="estimatedCompletionDate" group-by="true"/>
        <alias entity-alias="A" name="workEffortSnapshotId" group-by="true"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" group-by="true"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId" group-by="true"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot" group-by="true"/>
        <alias entity-alias="B" field="description" name="weTypeDescription" group-by="true"/>
        <alias entity-alias="B" field="etch" name="etch" group-by="true"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId" group-by="true"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate" group-by="true"/>
        <alias entity-alias="C" field="description" name="weStatusDescr" group-by="true"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation" group-by="true"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId" group-by="true"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId" group-by="true"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId" group-by="true"/>
        <alias entity-alias="E" field="partyIdTo" name="partyIdTo" group-by="true"/>
        <alias entity-alias="F" name="partyName" group-by="true"/>        
        <alias entity-alias="A" name="workEffortNameLang" group-by="true"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang" group-by="true"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang" group-by="true"/>
        <alias entity-alias="F" name="partyNameLang" group-by="true"/>
        <alias entity-alias="B" field="etchLang" name="etchLang" group-by="true"/>        
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
            <entity-condition>
                <condition-expr field-name="managementRoleTypeId" entity-alias="D" value="ORGMANAGER"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeIdFrom"/>
            <key-map field-name="orgUnitId" rel-field-name="partyIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
	                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_RESPONSIBLE"/>
	                	<condition-list>
	                    	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_DELEGATE"/>
	                    	<condition-list combine="or">
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" operator="equals" value="CTX_EP"/>
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" value="null"/>
	                		</condition-list>
	                    </condition-list>
                	</condition-list>
                    <condition-list combine="and">
                    	<condition-expr field-name="fromDate" entity-alias="E" operator="less-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                		<condition-list combine="or">
                    		<condition-expr entity-alias="E" field-name="thruDate" value="null"/>
                    		<condition-expr field-name="thruDate" entity-alias="E" operator="greater-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                    	</condition-list>
                    </condition-list>
                    
                    <condition-expr field-name="partyIdTo" entity-alias="E" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="F" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <!-- -->
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isTemplate" entity-alias="B" value="Y"/>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr field-name="actStEnumId" entity-alias="C" operator="in" value="ACTSTATUS_PENDING,ACTSTATUS_ACTIVE"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- WorkEffortRootTemplateOrgMgrRoleView -->
    <!-- U,A,B,C = WorkEffortRootInqyView -->
    <!-- param uvUserLoginId = current user login -->
    <!-- param managementRoleTypeId = type status field -->
    <!-- param managWeStatusEnumId = type status field -->
    <!-- param partyIdTo = current user login party (relationship) -->
    <!-- param partyId = current user login party (assignment) -->

    <view-entity entity-name="WorkEffortRootTemplateOrgMgrRoleView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="PartyRelationship" entity-alias="E"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="F"/>
        <member-entity entity-name="Party" entity-alias="G"/>
        <!-- -->
        <alias entity-alias="A" name="workEffortId" group-by="true"/>
        <alias entity-alias="A" name="currentStatusId" group-by="true"/>
        <alias entity-alias="A" name="workEffortParentId" group-by="true"/>
        <alias entity-alias="A" name="organizationId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitId" group-by="true"/>
        <alias entity-alias="A" name="sourceReferenceId" group-by="true"/>
        <alias entity-alias="A" name="workEffortName" group-by="true"/>
        <alias entity-alias="A" name="estimatedStartDate" group-by="true"/>
        <alias entity-alias="A" name="estimatedCompletionDate" group-by="true"/>
        <alias entity-alias="A" name="workEffortSnapshotId" group-by="true"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" group-by="true"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId" group-by="true"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot" group-by="true"/>
        <alias entity-alias="B" field="description" name="weTypeDescription" group-by="true"/>
        <alias entity-alias="B" field="etch" name="etch" group-by="true"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId" group-by="true"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate" group-by="true"/>
        <alias entity-alias="C" field="description" name="weStatusDescr" group-by="true"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation" group-by="true"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId" group-by="true"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId" group-by="true"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId" group-by="true"/>
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId" group-by="true"/>
        <alias entity-alias="D" field="managWeStatusEnumId" name="managWeStatusEnumId" group-by="true"/>
        <alias entity-alias="E" field="partyIdTo" name="partyIdTo" group-by="true"/>
        <alias entity-alias="F" field="partyId" name="partyId" group-by="true"/>
        <alias entity-alias="G" name="partyName" group-by="true"/>        
        <alias entity-alias="A" name="workEffortNameLang" group-by="true"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang" group-by="true"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang" group-by="true"/>
        <alias entity-alias="G" name="partyNameLang" group-by="true"/>
        <alias entity-alias="B" field="etchLang" name="etchLang" group-by="true"/>        
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E" rel-optional="true">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeIdFrom"/>
            <key-map field-name="orgUnitId" rel-field-name="partyIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
	                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_RESPONSIBLE"/>
	                	<condition-list>
	                    	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_DELEGATE"/>
	                    	<condition-list combine="or">
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" operator="equals" value="CTX_EP"/>
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" value="null"/>
	                		</condition-list>
	                    </condition-list>
                	</condition-list>
                    <condition-list combine="and">
                    	<condition-expr field-name="fromDate" entity-alias="E" operator="less-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                		<condition-list combine="or">
                    		<condition-expr entity-alias="E" field-name="thruDate" value="null"/>
                    		<condition-expr field-name="thruDate" entity-alias="E" operator="greater-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                    	</condition-list>
                    </condition-list>
                    
                    <condition-expr field-name="partyIdTo" entity-alias="E" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="F" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
            <key-map field-name="estimatedCompletionDate" rel-field-name="thruDate"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="roleTypeId" entity-alias="F" operator="like" value="WEM%"/>
                    <condition-expr field-name="partyId" entity-alias="F" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="G" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <!-- -->
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isTemplate" entity-alias="B" value="Y"/>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr field-name="actStEnumId" entity-alias="C" operator="in" value="ACTSTATUS_PENDING,ACTSTATUS_ACTIVE"/>
                <condition-list combine="or">
                    <condition-list>
                        <condition-expr field-name="managWeStatusEnumId" entity-alias="D" value="ORGMANAGER"/>
                        <condition-expr field-name="partyIdTo" entity-alias="E" operator="not-equals" value="null"/>
                    </condition-list>
                    <condition-list>
                        <condition-expr field-name="managWeStatusEnumId" entity-alias="D" value="ROLE"/>
                        <condition-expr field-name="roleTypeId" entity-alias="F" rel-field-name="managementRoleTypeId" rel-entity-alias="D"/>
                        <condition-expr field-name="partyId" entity-alias="F" operator="not-equals" value="null"/>
                    </condition-list>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- WorkEffortPartyAssignment -->

    <view-entity entity-name="WorkEffortAssignmentView" package-name="org.ofbiz.workeffort.workeffort">
        <description>WorkEffortAssignmentView_N</description>
        <member-entity entity-name="PartyParentRole" entity-alias="PP"/>
        <member-entity entity-name="PartyRole" entity-alias="PR"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="WorkEffortType" entity-alias="D"/>
        <!-- inizio GN-5329 -->
        <member-entity entity-name="Party" entity-alias="E"/>
        <!-- fine GN-5329 -->
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="partyId"/>
        <alias entity-alias="A" name="roleTypeId"/>
        <alias entity-alias="A" name="fromDate"/>
        <alias entity-alias="A" name="thruDate"/>
        <alias entity-alias="A" name="isPosted"/>
        <alias entity-alias="A" name="roleTypeWeight"/>
        <alias entity-alias="A" name="sequenceNum"/>
        <alias entity-alias="B" name="workEffortSnapshotId"/>
        <alias entity-alias="B" field="estimatedStartDate" name="waFromDate"/>
        <alias entity-alias="B" field="estimatedCompletionDate" name="waThruDate"/>
        <alias entity-alias="PR" field="parentRoleTypeId" name="waParentRoleTypeId"/>
        <!-- inizio GN-5329 -->
        <alias entity-alias="E" name="partyName"/>
        <alias entity-alias="E" name="partyNameLang"/>
        <alias entity-alias="E" name="externalId"/>
        <alias entity-alias="PP" name="parentRoleCode"/>
        <view-link entity-alias="PP" rel-entity-alias="PR">
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId" rel-field-name="parentRoleTypeId"/>
        </view-link>
        <!-- fine GN-5329 -->
        <view-link entity-alias="PR" rel-entity-alias="A">
            <key-map field-name="partyId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr entity-alias="A" field-name="roleTypeId" rel-entity-alias="PR" rel-field-name="roleTypeId"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>        
        <view-link entity-alias="PP" rel-entity-alias="E">
            <key-map field-name="partyId"/>
        </view-link>
        <relation rel-entity-name="WorkEffortPartyAssignment" type="one-nofk">
            <key-map field-name="workEffortId"/>
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId"/>
            <key-map field-name="fromDate"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-expr entity-alias="D" field-name="parentTypeId" operator="like" value="CTX%"/>
        </entity-condition>
        
        
       
        
    </view-entity>

    <view-entity entity-name="WorkEffortReviewView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortReview" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <alias-all entity-alias="A"/>
        <alias name="workEffortSnapshotId" entity-alias="B"/>
        <view-link entity-alias="B" rel-entity-alias="A">
            <key-map field-name="workEffortId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortAssignmentRoleView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAssignmentView" entity-alias="A"/>
        <alias-all entity-alias="A"/>
        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-expr entity-alias="A" field-name="roleTypeId" operator="like" value="WEM%"/>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortAssignmentGoalView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAssignmentView" entity-alias="A"/>
        <alias-all entity-alias="A"/>
        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-expr entity-alias="A" field-name="waParentRoleTypeId" operator="like" value="GOAL%"/>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortAssignmentAssignmentView" package-name="org.ofbiz.workeffort.workeffort">
    	<description>inlcude WorkEffortAssignmentView</description>
        <member-entity entity-name="Party" entity-alias="P"/>
        <member-entity entity-name="Person" entity-alias="C"/>
        <member-entity entity-name="Party" entity-alias="PTY"/>
        <member-entity entity-name="PartyRelationship" entity-alias="PRO"/>
        <member-entity entity-name="EmplPositionType" entity-alias="EMP"/>
        <!-- start WorkEffortAssignmentView -->
        <member-entity entity-name="PartyParentRole" entity-alias="PP"/>
        <member-entity entity-name="PartyRole" entity-alias="PR"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="A"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="F"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="WorkEffortType" entity-alias="D"/>
        <member-entity entity-name="WorkEffort" entity-alias="G"/>
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="partyId"/>
        <alias entity-alias="A" name="roleTypeId"/>
        <alias entity-alias="A" name="fromDate"/>
        <alias entity-alias="A" name="thruDate"/>
        <alias entity-alias="A" name="isPosted"/>
        <alias entity-alias="A" name="roleTypeWeight"/>
        <alias entity-alias="A" name="roleTypeWeightActual"/>
        <alias entity-alias="A" name="endDate"/>
        <alias entity-alias="A" name="endCauseEnumId"/>
        <alias entity-alias="A" name="endReplacementEnumId"/>
        <alias entity-alias="A" name="endWorkEffortId"/>
        <alias entity-alias="A" name="comments"/>
        <alias entity-alias="A" name="commentsLang"/>
        <alias entity-alias="A" field="workEffortIdFrom" name="wepaWorkEffortIdFrom" />
        <alias entity-alias="A" field="fromDateFrom" name="wepaFromDateFrom"/>
        <alias entity-alias="F" field="roleTypeWeight" name="wepaRoleTypeWeight" />
        <alias entity-alias="G" field="workEffortName" name="wepaWorkEffortName"/>
        <alias entity-alias="G" field="etch" name="wepaWorkEffortEtch"/>
        <alias entity-alias="B" name="workEffortSnapshotId"/>
        <alias entity-alias="B" field="estimatedStartDate" name="waFromDate"/>
        <alias entity-alias="B" field="estimatedCompletionDate" name="waThruDate"/>
        <alias entity-alias="PR" field="parentRoleTypeId" name="waParentRoleTypeId"/>
        <!-- end WorkEffortAssignmentView -->
        <alias name="partyName" entity-alias="P"/>
        <alias name="employmentAmount" entity-alias="C"/>
        <alias name="profile" field="partyName" entity-alias="PTY"/>
        <alias name="category" field="description" entity-alias="EMP"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link rel-entity-alias="PR" entity-alias="A">
            <key-map field-name="partyId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr entity-alias="A" field-name="roleTypeId" rel-entity-alias="PR" rel-field-name="roleTypeId"/>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="PP" entity-alias="PR">
            <key-map field-name="partyId"/>
            <key-map rel-field-name="roleTypeId" field-name="parentRoleTypeId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link rel-entity-alias="P" entity-alias="A">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link rel-entity-alias="C" entity-alias="P">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link entity-alias="P" rel-entity-alias="PRO" rel-optional="true">
            <key-map field-name="partyId" rel-field-name="partyIdFrom"/>            
            <entity-condition>
            	<condition-list>
                	<condition-expr entity-alias="PRO" field-name="partyRelationshipTypeId" value="QUALIF"/>
                	<condition-expr entity-alias="PRO" field-name="thruDate" value="null"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="PRO" rel-entity-alias="PTY" rel-optional="true">
            <key-map field-name="partyIdTo" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="EMP" rel-optional="true">
            <key-map field-name="emplPositionTypeId"/>
        </view-link>
        <view-link rel-entity-alias="F" entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeIdFrom" rel-field-name="roleTypeId"/>
            <key-map field-name="fromDateFrom" rel-field-name="fromDate"/>
        </view-link>
        <view-link entity-alias="F" rel-entity-alias="G" rel-optional="true">
            <key-map field-name="workEffortId"/>
        </view-link>
        <relation rel-entity-name="WorkEffortPartyAssignment" type="one-nofk">
            <key-map field-name="workEffortId"/>
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId"/>
            <key-map field-name="fromDate"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
        	<condition-list>
	            <condition-expr entity-alias="D" field-name="parentTypeId" operator="like" value="CTX%"/>
    	        <!-- <condition-expr entity-alias="A" field-name="roleTypeId" value="WE_ASSIGNMENT"/> il ruolo cambia -->
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortAssignmentOrgUnitView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAssignmentView" entity-alias="A"/>
        <alias-all entity-alias="A"/>
        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-expr entity-alias="A" field-name="waParentRoleTypeId" value="ORGANIZATION_UNIT"/>
        </entity-condition>
    </view-entity>

    <!-- WorkEffortAssoc -->

    <view-entity entity-name="WorkEffortAssocExtView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAssoc" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="WorkEffort" entity-alias="C"/>
        <member-entity entity-name="WorkEffortType" entity-alias="D"/>
        <member-entity entity-name="WorkEffortType" entity-alias="E"/>
        <member-entity entity-name="StatusItem" entity-alias="F"/>
        <member-entity entity-name="WorkEffortAssocType" entity-alias="G"/>
        <member-entity entity-name="StatusItem" entity-alias="H"/>
        <alias entity-alias="A" name="workEffortIdFrom"/>
        <alias entity-alias="A" name="workEffortIdTo"/>
        <alias entity-alias="A" name="workEffortAssocTypeId"/>
        <alias entity-alias="A" name="fromDate"/>
        <alias entity-alias="A" name="thruDate"/>
        <alias entity-alias="A" name="sequenceNum"/>
        <alias entity-alias="A" name="assocWeight"/>
        <alias entity-alias="A" name="isPosted"/>
        <alias entity-alias="A" name="responseEnumId"/>
        <alias entity-alias="G" name="hasResponse"/>
        <alias entity-alias="D" name="workEffortTypeIdTo" field="workEffortTypeId" prim-key="false"/>
        <alias entity-alias="E" name="workEffortTypeIdFrom" field="workEffortTypeId" prim-key="false"/>
        <alias entity-alias="E" name="childTemplateIdFrom" field="childTemplateId"/>
        <alias entity-alias="D" name="initiallyCollapsed"/>
        <!-- B -->
        <alias entity-alias="B" field="estimatedCompletionDate" name="wrFromThruDate"/>
        <alias entity-alias="B" field="workEffortName" name="wrFromName"/>
        <alias entity-alias="B" field="etch" name="wrFromEtch"/>
        <alias entity-alias="B" field="sourceReferenceId" name="wrFromCode"/>
        <alias entity-alias="B" field="workEffortSnapshotId" name="wrFromSnapShotId"/>
        <!-- C -->
        <alias entity-alias="C" field="estimatedStartDate" name="wrToFromDate"/>
        <alias entity-alias="C" field="estimatedCompletionDate" name="wrToThruDate"/>
        <alias entity-alias="C" field="actualStartDate" name="wrToActualFromDate"/>
        <alias entity-alias="C" field="actualCompletionDate" name="wrToActualThruDate"/>        
        <alias entity-alias="C" field="workEffortName" name="wrToName"/>
        <alias entity-alias="C" field="workEffortNameLang" name="wrToNameLang"/>
        <alias entity-alias="C" field="etch" name="wrToEtch"/>
        <alias entity-alias="C" field="description" name="wrDescription"/>
        <alias entity-alias="C" field="sourceReferenceId" name="wrToCode"/>
        <alias entity-alias="C" field="workEffortSnapshotId" name="wrToSnapShotId"/>
        <alias entity-alias="C" field="workEffortRevisionId" name="wrToRevisionId"/>
        <alias entity-alias="C" field="workEffortParentId" name="wrToParentId"/>
        <alias entity-alias="D" field="description" name="wrToTypeDescr"/>
        <alias entity-alias="C" field="currentStatusId" name="wrToStatusId"/>
        <alias entity-alias="F" field="actStEnumId" name="wrToActivation"/>
        <alias entity-alias="C" field="organizationId" name="wrToOrgId"/>
        <alias entity-alias="C" field="orgUnitId" name="wrToOrgUnitId"/>
        <alias entity-alias="C" field="orgUnitRoleTypeId" name="wrToOuRoleTypeId"/>
        <alias entity-alias="G" field="description" name="wrDescrAssocType"/>
        <alias entity-alias="B" field="currentStatusId" name="wrFromStatusId"/>
        <alias entity-alias="H" field="actStEnumId" name="wrFromActivation"/>
		
        <view-link entity-alias="A" rel-entity-alias="B" rel-optional="false">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C" rel-optional="false">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="D" rel-optional="false">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="E" rel-optional="false">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="F" rel-optional="false">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="G" rel-optional="false">
            <key-map field-name="workEffortAssocTypeId" rel-field-name="workEffortAssocTypeId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="H" rel-optional="false">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>        

        <relation rel-entity-name="WorkEffortView" type="one-nofk" title="From">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk" title="From2">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk" title="From3">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk" title="From4">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk" title="From5">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk" title="To">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk" title="To2">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk" title="To3">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk" title="To4">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk" title="To5">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </relation>
        <relation rel-entity-name="WorkEffortAssoc" type="one-nofk">
            <key-map field-name="workEffortIdFrom"/>
            <key-map field-name="workEffortIdTo"/>
            <key-map field-name="workEffortAssocTypeId"/>
            <key-map field-name="fromDate"/>
        </relation>
        <relation rel-entity-name="WorkEffortAssocAttribute" type="many">
            <key-map field-name="workEffortIdFrom"/>
            <key-map field-name="workEffortIdTo"/>
            <key-map field-name="workEffortAssocTypeId"/>
            <key-map field-name="fromDate"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="parentTypeId" entity-alias="D" operator="like" value="CTX%"/>
                <condition-expr field-name="parentTypeId" entity-alias="E" operator="like" value="CTX%"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortAssocAndParentView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAssoc" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="WorkEffort" entity-alias="C"/>
        <alias entity-alias="A" name="workEffortIdFrom"/>
        <alias entity-alias="A" name="workEffortIdTo"/>
        <alias entity-alias="A" name="workEffortAssocTypeId"/>
        <alias entity-alias="A" name="fromDate"/>
        <alias entity-alias="A" name="thruDate"/>
        <!-- B -->
        <alias entity-alias="B" field="estimatedStartDate" name="wrFromStartDate"/>
        <alias entity-alias="B" field="estimatedCompletionDate" name="wrFromThruDate"/>
        <alias entity-alias="B" field="workEffortName" name="wrFromName"/>
        <alias entity-alias="B" field="workEffortNameLang" name="wrFromNameLang"/>
        <alias entity-alias="B" field="sourceReferenceId" name="wrFromCode"/>
        <alias entity-alias="B" field="etch" name="wrFromEtch"/>
        <alias entity-alias="B" field="workEffortParentId" name="wrFromParentId"/>
        <!-- C -->
        <alias entity-alias="C" field="estimatedStartDate" name="wrToStartDate"/>
        <alias entity-alias="C" field="estimatedCompletionDate" name="wrToThruDate"/>
        <alias entity-alias="C" field="workEffortName" name="wrToName"/>
        <alias entity-alias="C" field="workEffortNameLang" name="wrToNameLang"/>
        <alias entity-alias="C" field="sourceReferenceId" name="wrToCode"/>
        <alias entity-alias="C" field="etch" name="wrToEtch"/>
        <alias entity-alias="C" field="workEffortParentId" name="wrToParentId"/>
        <view-link entity-alias="A" rel-entity-alias="B" rel-optional="false">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C" rel-optional="false">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAssocExtAndWeTypeCntToView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAssocExtView" entity-alias="A"/>
        <member-entity entity-name="WorkEffortTypeContent" entity-alias="B"/>
        
        <alias-all entity-alias="A"/>
        <alias entity-alias="B" field="params" name="wrToWeParams"/>
        
        <view-link entity-alias="A" rel-entity-alias="B" rel-optional="true">
            <key-map field-name="workEffortTypeIdTo" rel-field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-expr field-name="contentId" entity-alias="B" value="WEFLD_MAIN"/>
            </entity-condition>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAssocExtAndWeTypeCntAndPeriodToView" package-name="org.ofbiz.workeffort.workeffort">
    	<member-entity entity-name="WorkEffortAssocExtAndWeTypeCntToView" entity-alias="A"/>
    	<member-entity entity-name="WorkEffort" entity-alias="B"/>
    	<member-entity entity-name="WorkEffortTypePeriod" entity-alias="C"/>
    	<member-entity entity-name="CustomTimePeriod" entity-alias="D"/>
    	
    	<alias-all entity-alias="A"/>
    	<alias entity-alias="C" name="workEffortTypePeriodId"/>
    	<alias entity-alias="C" name="glFiscalTypeEnumId"/>
    	<alias entity-alias="D" name="customTimePeriodId"/>
    	<alias entity-alias="D" field="fromDate" name="perFromDate"/>
    	<alias entity-alias="D" field="thruDate" name="perThruDate"/>
    	
    	<view-link entity-alias="A" rel-entity-alias="B" rel-optional="true">
    		<key-map field-name="wrToParentId" rel-field-name="workEffortId"/>
    	</view-link>
    	<view-link entity-alias="B" rel-entity-alias="C" rel-optional="true">
    		<key-map field-name="workEffortTypePeriodId"/>
    	</view-link>
    	<view-link entity-alias="C" rel-entity-alias="D" rel-optional="true">
    		<key-map field-name="customTimePeriodId"/>
    	</view-link>    	
    </view-entity>

    <!-- Viste relative al portale di Performance -->
    <view-entity entity-name="WorkEffortRootInqySummaryView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="Party" entity-alias="E"/>
        <member-entity entity-name="PartyParentRole" entity-alias="F"/>
        <alias entity-alias="A" name="orgUnitId" group-by="true"/>
        <alias entity-alias="E" name="partyName" group-by="true"/>
        <alias entity-alias="E" name="partyNameLang" group-by="true"/>
        <alias entity-alias="A" name="workEffortSnapshotId" group-by="true"/>
        <alias entity-alias="A" name="currentStatusId" group-by="true"/>
        <alias entity-alias="A" name="organizationId" group-by="true"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" prim-key="false" group-by="true"/>
        <alias entity-alias="C" field="description" name="weStatusDescr" group-by="true"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang" group-by="true"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation" group-by="true"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId" group-by="true"/>
        <alias entity-alias="C" field="sequenceId" name="weStatusSeqId" group-by="true"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId" group-by="true"/>
        <alias entity-alias="F" field="parentRoleCode" name="parentRoleCode" group-by="true"/>
        <alias entity-alias="E" name="externalId" group-by="true"/> 
        <alias entity-alias="A" field="currentStatusId" name="weTotal" function="count"/>
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="E" rel-entity-alias="F" rel-optional="true">
        	<key-map field-name="partyId"/>
        	<entity-condition>
        		<condition-list>
        			<condition-expr field-name="roleTypeId" entity-alias="F" value="ORGANIZATION_UNIT"/>
        		</condition-list>
        	</entity-condition>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr field-name="isTemplate" entity-alias="B" value="N"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>                
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- WorkEffortRootOrgMgrView -->
    <!-- U,A,B,C = WorkEffortRootInqyView -->
    <!-- param uvUserLoginId = current user login -->
    <!-- param partyIdTo = current user login party -->
    <!-- vista usata in fase di ricerca come contenitore -->
    <view-entity entity-name="WorkEffortRootInqySummaryOrgMgrView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="PartyRelationship" entity-alias="E"/>
        <member-entity entity-name="Party" entity-alias="M"/>
        <!-- -->
        <alias entity-alias="A" name="orgUnitId" group-by="true"/>
        <alias entity-alias="M" name="partyName" group-by="true"/>
        <alias entity-alias="M" name="partyNameLang" group-by="true"/>
        <alias entity-alias="A" name="currentStatusId" group-by="true"/>
        <alias entity-alias="A" name="workEffortSnapshotId" group-by="true"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" prim-key="false" group-by="true"/>
        <alias entity-alias="C" field="description" name="weStatusDescr" group-by="true"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation" group-by="true"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId" group-by="true"/>
        <alias entity-alias="A" field="currentStatusId" name="weTotal" function="count"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId" group-by="true"/>
        <alias entity-alias="E" field="partyIdTo" name="partyIdTo" prim-key="false" group-by="true"/>
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
            <entity-condition>
                <condition-expr field-name="managWeStatusEnumId" entity-alias="D" value="ORGMANAGER"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeIdFrom"/>
            <key-map field-name="orgUnitId" rel-field-name="partyIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
	                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_RESPONSIBLE"/>
	                	<condition-list>
	                    	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_DELEGATE"/>
	                    	<condition-list combine="or">
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" operator="equals" value="CTX_EP"/>
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" value="null"/>
	                		</condition-list>
	                    </condition-list>
                	</condition-list>
                    <condition-list combine="and">
                    	<condition-expr field-name="fromDate" entity-alias="E" operator="less-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                		<condition-list combine="or">
                    		<condition-expr entity-alias="E" field-name="thruDate" value="null"/>
                    		<condition-expr field-name="thruDate" entity-alias="E" operator="greater-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                    	</condition-list>
                    </condition-list>
                    
                    <condition-expr field-name="partyIdTo" entity-alias="E" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>        
        <!-- -->
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr field-name="isTemplate" entity-alias="B" value="N"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
            </condition-list>
        </entity-condition>
    </view-entity>

	<!-- vista usata in fase di ricerca come contenitore -->
    <view-entity entity-name="WorkEffortRootInqySummaryRoleView" package-name="org.ofbiz.workeffort.workeffort">
        <description>
            extends WorkEffortRootTypeStatusView, WorkEffortPartyAssignment
            param uvUserLoginId = current user login
            param partyId = current user login party
            param partyName = orgUnit Name
        </description>
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="WorkEffortPartyAssignmentGroupView" entity-alias="E"/>
        <member-entity entity-name="Party" entity-alias="M"/>
        <alias entity-alias="A" name="orgUnitId" group-by="true"/>
        <alias entity-alias="A" name="currentStatusId" group-by="true"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" prim-key="false" group-by="true"/>
        <alias entity-alias="C" field="description" name="weStatusDescr" group-by="true"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation" group-by="true"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId" group-by="true"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId" group-by="true"/>
        <alias entity-alias="A" field="currentStatusId" name="weTotal" function="count"/>
        <alias entity-alias="E" field="partyId" name="partyId"/>
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId" group-by="true"/>
        <alias entity-alias="A" name="workEffortSnapshotId" group-by="true"/>
        <alias entity-alias="M" name="partyName" group-by="true"/>
        <alias entity-alias="M" name="partyNameLang" group-by="true"/>
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
            <entity-condition>
                <condition-expr field-name="managWeStatusEnumId" entity-alias="D" value="ROLE"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E">
            <key-map field-name="workEffortId"/>
            <key-map field-name="estimatedCompletionDate" rel-field-name="thruDate"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="partyId" entity-alias="E" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <!-- -->
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr field-name="isTemplate" entity-alias="B" value="N"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- WorkEffortRootOrgMgrRoleView -->
    <!-- U,A,B,C = WorkEffortRootInqyView -->
    <!-- param uvUserLoginId = current user login -->
    <!-- param managementRoleTypeId = type status field -->
    <!-- param managWeStatusEnumId = type status field -->
    <!-- param partyIdTo = current user login party (relationship) -->
    <!-- param partyId = current user login party (assignment) -->
	<!-- vista usata in fase di ricerca come contenitore -->
    <view-entity entity-name="WorkEffortRootInqySummaryOrgMgrRoleView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="PartyRelationship" entity-alias="E"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="F"/>
        <member-entity entity-name="Party" entity-alias="G"/>
        <member-entity entity-name="PartyParentRole" entity-alias="H"/>
        <!-- -->        
        <alias entity-alias="A" name="orgUnitId" group-by="true"/>
        <alias entity-alias="A" name="organizationId" group-by="true"/>
        <alias entity-alias="A" name="currentStatusId" group-by="true"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" prim-key="false" group-by="true"/>
        <alias entity-alias="C" field="description" name="weStatusDescr" group-by="true"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang" group-by="true"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation" group-by="true"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId" group-by="true"/>
        <alias entity-alias="C" field="sequenceId" name="weStatusSeqId" group-by="true"/>
        <alias entity-alias="A" field="currentStatusId" name="weTotal" function="count"/>
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId" group-by="true"/>
        <alias entity-alias="D" field="managWeStatusEnumId" name="managWeStatusEnumId" group-by="true"/>
        <alias entity-alias="E" field="partyIdTo" name="partyIdTo" group-by="true"/>
        <alias entity-alias="F" field="partyId" name="partyId" group-by="true"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId" group-by="true"/>
        <alias entity-alias="A" name="workEffortSnapshotId" group-by="true"/>
		<alias entity-alias="G" name="partyName" group-by="true"/>
		<alias entity-alias="G" name="partyNameLang" group-by="true"/>
		<alias entity-alias="H" name="parentRoleCode" group-by="true"/>
		<alias entity-alias="G" name="externalId" group-by="true"/> 
		
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="E" rel-optional="true">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeIdFrom"/>
            <key-map field-name="orgUnitId" rel-field-name="partyIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
	                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_RESPONSIBLE"/>
	                	<condition-list>
	                    	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_DELEGATE"/>
	                    	<condition-list combine="or">
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" operator="equals" value="CTX_EP"/>
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" value="null"/>
	                		</condition-list>
	                    </condition-list>
                	</condition-list>
                    <condition-list combine="and">
                    	<condition-expr field-name="fromDate" entity-alias="E" operator="less-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                		<condition-list combine="or">
                    		<condition-expr entity-alias="E" field-name="thruDate" value="null"/>
                    		<condition-expr field-name="thruDate" entity-alias="E" operator="greater-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                    	</condition-list>
                    </condition-list>
                    
                    <condition-expr field-name="partyIdTo" entity-alias="E" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="F" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
            <key-map field-name="estimatedCompletionDate" rel-field-name="thruDate"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="roleTypeId" entity-alias="F" operator="like" value="WEM%"/>
                    <condition-expr field-name="partyId" entity-alias="F" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="G">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>        
        <view-link entity-alias="G" rel-entity-alias="H">
        	<key-map field-name="partyId"/>
        	<entity-condition>
        		<condition-list>
        			<condition-expr field-name="roleTypeId" entity-alias="H" value="ORGANIZATION_UNIT"/>
        		</condition-list>
        	</entity-condition>
        </view-link>       
        <!-- -->
        <!-- <relation rel-entity-name="WorkEffort" type="one-nofk"> -->
        <!-- <key-map field-name="workEffortId" rel-field-name="workEffortId"/> -->
        <!-- </relation> -->
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr field-name="isTemplate" entity-alias="B" value="N"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
                <condition-list combine="or">
                    <condition-expr field-name="partyIdTo" entity-alias="E" operator="not-equals" value="null"/>
                    <condition-expr field-name="partyId" entity-alias="F" operator="not-equals" value="null"/>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- vista usata in fase di ricerca come contenitore -->
    <view-entity entity-name="WorkEffortRootInqyPartySummaryView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="E"/>
        <member-entity entity-name="WorkEffort" entity-alias="F"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="G"/>
        <member-entity entity-name="WorkEffortType" entity-alias="H"/>
        <member-entity entity-name="StatusValidChange" entity-alias="I"/>
        <member-entity entity-name="StatusItem" entity-alias="L"/>
        <member-entity entity-name="Party" entity-alias="M"/>
        <member-entity entity-name="Party" entity-alias="N"/>
        <alias entity-alias="A" name="workEffortId" group-by="true"/>
        <alias entity-alias="A" name="currentStatusId" group-by="true"/>
        <alias entity-alias="A" name="workEffortParentId" group-by="true"/>
        <alias entity-alias="A" name="organizationId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitId" group-by="true"/>
        <alias entity-alias="M" name="partyName" group-by="true"/>
        <alias entity-alias="M" name="partyNameLang" group-by="true"/>
        <alias entity-alias="A" name="sourceReferenceId" group-by="true"/>
        <alias entity-alias="A" name="workEffortName" group-by="true"/>
        <alias entity-alias="A" name="workEffortNameLang" group-by="true"/>
        <alias entity-alias="A" name="estimatedStartDate" group-by="true"/>
        <alias entity-alias="A" name="estimatedCompletionDate" group-by="true"/>
        <alias entity-alias="A" name="workEffortSnapshotId" group-by="true"/>
        <alias entity-alias="A" field="etch" name="weEtch" group-by="true"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" prim-key="false" group-by="true"/>
        <alias entity-alias="B" field="workEffortTypeId" name="workEffortRootTypeId" group-by="true"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId" group-by="true"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot" group-by="true"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate" group-by="true"/>
        <alias entity-alias="B" field="description" name="weTypeDescription" group-by="true"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang" group-by="true"/>
        <alias entity-alias="B" field="etch" name="etch" group-by="true"/>
        <alias entity-alias="B" field="etchLang" name="etchLang" group-by="true"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId" group-by="true"/>
        <alias entity-alias="C" field="description" name="weStatusDescr" group-by="true"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation" group-by="true"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId" group-by="true"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang" group-by="true"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId" group-by="true"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId" group-by="true"/>
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId" group-by="true"/>
        <alias entity-alias="D" field="managWeStatusEnumId" name="managWeStatusEnumId" group-by="true"/>
        <alias entity-alias="F" field="workEffortId" name="workEffortIdChild" group-by="true" prim-key="false"/>
        <alias entity-alias="F" field="workEffortTypeId" name="workEffortTypeId" group-by="true"/>
        <alias entity-alias="H" field="etch" name="weTypeEtch" group-by="true"/>
        <alias entity-alias="H" field="etchLang" name="weTypeEtchLang" group-by="true"/>
        <alias entity-alias="F" field="workEffortTypeId" name="weTotal" function="count"/>
        <alias entity-alias="G" field="partyId" name="partyIdInCharge" group-by="true"/>
        <alias entity-alias="N" field="partyName" name="partyNameInCharge" group-by="true"/>
        <alias entity-alias="G" field="roleTypeId" name="roleTypeIdInCharge" group-by="true"/>
        <alias entity-alias="L" name="sequenceId" function="min"/>
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdFrom"/>
            <entity-condition>
                <condition-expr field-name="workEffortAssocTypeId" entity-alias="E" value="ROOT"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="E" rel-entity-alias="F" rel-optional="true">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="F" rel-entity-alias="H">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="G" rel-optional="true">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="G" value="WEM%IN_CHARGE" operator="like"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="I" rel-optional="true">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="I" rel-entity-alias="L" rel-optional="true">
            <key-map field-name="statusIdTo" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="N" rel-optional="true">
            <key-map field-name="partyId"/>
        </view-link>
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr field-name="isTemplate" entity-alias="B" value="N"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
            </condition-list>
        </entity-condition>
    </view-entity>


    <!-- -->
    <!-- vista usata in fase di ricerca come contenitore -->
    <view-entity entity-name="WorkEffortRootInqyPartySummaryStratOrgView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="StatusValidChange" entity-alias="I"/>
        <member-entity entity-name="StatusItem" entity-alias="L"/>
        <member-entity entity-name="Party" entity-alias="M"/>
        <alias entity-alias="A" name="workEffortId" group-by="true"/>
        <alias entity-alias="A" name="currentStatusId" group-by="true"/>
        <alias entity-alias="A" name="workEffortParentId" group-by="true"/>
        <alias entity-alias="A" name="organizationId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitId" group-by="true"/>
        <alias entity-alias="M" name="partyName" group-by="true"/>
        <alias entity-alias="M" name="partyNameLang" group-by="true"/>
        <alias entity-alias="A" name="sourceReferenceId" group-by="true"/>
        <alias entity-alias="A" name="workEffortName" group-by="true"/>
        <alias entity-alias="A" name="workEffortNameLang" group-by="true"/>
        <alias entity-alias="A" name="estimatedStartDate" group-by="true"/>
        <alias entity-alias="A" name="estimatedCompletionDate" group-by="true"/>
        <alias entity-alias="A" name="workEffortSnapshotId" group-by="true"/>        
        <alias entity-alias="A" field="etch" name="weEtch" group-by="true"/>        
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" prim-key="false" group-by="true"/>
        <alias entity-alias="B" field="workEffortTypeId" name="workEffortRootTypeId" group-by="true"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId" group-by="true"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot" group-by="true"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate" group-by="true"/>
        <alias entity-alias="B" field="description" name="weTypeDescription" group-by="true"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang" group-by="true"/>
        <alias entity-alias="B" field="etch" name="etch" group-by="true"/>
        <alias entity-alias="B" field="etchLang" name="etchLang" group-by="true"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId" group-by="true"/>
        <alias entity-alias="C" field="description" name="weStatusDescr" group-by="true"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation" group-by="true"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId" group-by="true"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang" group-by="true"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId" group-by="true"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId" group-by="true"/>
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId" group-by="true"/>
        <alias entity-alias="D" field="managWeStatusEnumId" name="managWeStatusEnumId" group-by="true"/>
        <alias entity-alias="L" name="sequenceId" function="min"/>
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="I" rel-optional="true">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="I" rel-entity-alias="L" rel-optional="true">
            <key-map field-name="statusIdTo" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr field-name="isTemplate" entity-alias="B" value="N"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
            </condition-list>
        </entity-condition>
    </view-entity>
       
    <!-- vista usata in fase di ricerca come contenitore -->
    <view-entity entity-name="WorkEffortRootInqyPartySummaryStratOrgOrgMgrRoleView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="StatusValidChange" entity-alias="I"/>
        <member-entity entity-name="StatusItem" entity-alias="L"/>
        <member-entity entity-name="Party" entity-alias="M"/>
        <alias entity-alias="A" name="workEffortId" group-by="true"/>
        <alias entity-alias="A" name="currentStatusId" group-by="true"/>
        <alias entity-alias="A" name="workEffortParentId" group-by="true"/>
        <alias entity-alias="A" name="organizationId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitId" group-by="true"/>
        <alias entity-alias="M" name="partyName" group-by="true"/>
        <alias entity-alias="M" name="partyNameLang" group-by="true"/>
        <alias entity-alias="A" name="sourceReferenceId" group-by="true"/>
        <alias entity-alias="A" name="workEffortName" group-by="true"/>
        <alias entity-alias="A" name="workEffortNameLang" group-by="true"/>
        <alias entity-alias="A" name="estimatedStartDate" group-by="true"/>
        <alias entity-alias="A" name="estimatedCompletionDate" group-by="true"/>
        <alias entity-alias="A" name="workEffortSnapshotId" group-by="true"/>        
        <alias entity-alias="A" field="etch" name="weEtch" group-by="true"/>        
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" prim-key="false" group-by="true"/>
        <alias entity-alias="B" field="workEffortTypeId" name="workEffortRootTypeId" group-by="true"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId" group-by="true"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot" group-by="true"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate" group-by="true"/>
        <alias entity-alias="B" field="description" name="weTypeDescription" group-by="true"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang" group-by="true"/>
        <alias entity-alias="B" field="etch" name="etch" group-by="true"/>
        <alias entity-alias="B" field="etchLang" name="etchLang" group-by="true"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId" group-by="true"/>
        <alias entity-alias="C" field="description" name="weStatusDescr" group-by="true"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation" group-by="true"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId" group-by="true"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang" group-by="true"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId" group-by="true"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId" group-by="true"/>
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId" group-by="true"/>
        <alias entity-alias="D" field="managWeStatusEnumId" name="managWeStatusEnumId" group-by="true"/>
        <alias entity-alias="L" name="sequenceId" function="min"/>
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="I" rel-optional="true">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="I" rel-entity-alias="L" rel-optional="true">
            <key-map field-name="statusIdTo" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr field-name="isTemplate" entity-alias="B" value="N"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
            </condition-list>
        </entity-condition>
    </view-entity>   

    <view-entity entity-name="WorkEffortRootInqyPartyWithEventSummaryView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortRootInqyPartySummaryView" entity-alias="A"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="B"/>
        <alias-all entity-alias="A" group-by="true"/>
        <alias entity-alias="B" field="workEffortIdTo" name="eventWorkEffortId" group-by="true"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdFrom"/>
        </view-link>
        <entity-condition>
            <condition-expr entity-alias="B" field-name="workEffortAssocTypeId" value="EVENT"/>
        </entity-condition>
    </view-entity>

    <!-- WorkEffortRootOrgMgrView -->
    <!-- U,A,B,C = WorkEffortRootInqyView -->
    <!-- param uvUserLoginId = current user login -->
    <!-- param partyIdTo = current user login party -->
    <!-- vista usata in fase di ricerca come contenitore -->
    <view-entity entity-name="WorkEffortRootInqyPartySummaryOrgMgrView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <!-- -->
        <member-entity entity-name="PartyRelationship" entity-alias="E"/>
        <!-- -->
        <member-entity entity-name="WorkEffortAssoc" entity-alias="F"/>
        <member-entity entity-name="WorkEffort" entity-alias="G"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="H"/>
        <member-entity entity-name="WorkEffortType" entity-alias="I"/>
        <!-- GN-503 -->
        <member-entity entity-name="Party" entity-alias="M"/>
        <member-entity entity-name="Party" entity-alias="N"/>
        <member-entity entity-name="StatusValidChange" entity-alias="V"/>
        <member-entity entity-name="StatusItem" entity-alias="S"/>
        <alias entity-alias="A" name="workEffortId" group-by="true"/>
        <alias entity-alias="A" name="currentStatusId" group-by="true"/>
        <alias entity-alias="A" name="workEffortParentId" group-by="true"/>
        <alias entity-alias="A" name="organizationId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitId" group-by="true"/>
        <alias entity-alias="A" name="sourceReferenceId" group-by="true"/>
        <alias entity-alias="A" name="workEffortName" group-by="true"/>
        <alias entity-alias="A" name="workEffortNameLang" group-by="true"/>
        <alias entity-alias="A" name="estimatedStartDate" group-by="true"/>
        <alias entity-alias="A" name="estimatedCompletionDate" group-by="true"/>
        <alias entity-alias="A" name="workEffortSnapshotId" group-by="true"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" prim-key="false" group-by="true"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId" group-by="true"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot" group-by="true"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate" group-by="true"/>
        <alias entity-alias="B" field="description" name="weTypeDescription" group-by="true"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang" group-by="true"/>
        <alias entity-alias="B" field="etch" name="etch" group-by="true"/>
        <alias entity-alias="B" field="etchLang" name="etchLang" group-by="true"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId" group-by="true"/>
        <alias entity-alias="C" field="description" name="weStatusDescr" group-by="true"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation" group-by="true"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId" group-by="true"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang" group-by="true"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId" group-by="true"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId" group-by="true"/>
        <!-- -->
        <alias entity-alias="E" field="partyIdTo" name="partyIdTo" prim-key="false" group-by="true"/>
        <alias entity-alias="G" field="workEffortId" name="workEffortIdChild" group-by="true" prim-key="false"/>
        <alias entity-alias="G" field="workEffortTypeId" name="workEffortTypeId" group-by="true"/>
        <alias entity-alias="I" field="etch" name="weTypeEtch" group-by="true"/>
        <alias entity-alias="I" field="etchLang" name="weTypeEtchLang" group-by="true"/>
        <alias entity-alias="G" field="workEffortTypeId" name="weTotal" function="count"/>
        <alias entity-alias="H" field="partyId" name="partyIdInCharge" group-by="true"/>
        <alias entity-alias="H" field="roleTypeId" name="roleTypeIdInCharge" group-by="true"/>
        <alias entity-alias="M" name="partyName" group-by="true"/>
        <alias entity-alias="M" name="partyNameLang" group-by="true"/>
        <alias entity-alias="N" field="partyName" name="partyNameInCharge" group-by="true"/>
        <alias entity-alias="S" name="sequenceId" function="min"/>
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="F">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdFrom"/>
            <entity-condition>
                <condition-expr field-name="workEffortAssocTypeId" entity-alias="F" value="ROOT"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="F" rel-entity-alias="G">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="I">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="H">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="H" value="WEM%IN_CHARGE" operator="like"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="H" rel-entity-alias="N" rel-optional="true">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
            <entity-condition>
                <condition-expr field-name="managWeStatusEnumId" entity-alias="D" value="ORGMANAGER"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="V" rel-optional="true">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="V" rel-entity-alias="S" rel-optional="true">
            <key-map field-name="statusIdTo" rel-field-name="statusId"/>
        </view-link>
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="E">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeIdFrom"/>
            <key-map field-name="orgUnitId" rel-field-name="partyIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
	                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_RESPONSIBLE"/>
	                	<condition-list>
	                    	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_DELEGATE"/>
	                    	<condition-list combine="or">
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" operator="equals" value="CTX_EP"/>
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" value="null"/>
	                		</condition-list>
	                    </condition-list>
                	</condition-list>
                    <condition-list combine="and">
                    	<condition-expr field-name="fromDate" entity-alias="E" operator="less-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                		<condition-list combine="or">
                    		<condition-expr entity-alias="E" field-name="thruDate" value="null"/>
                    		<condition-expr field-name="thruDate" entity-alias="E" operator="greater-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                    	</condition-list>
                    </condition-list>
                    
                    <condition-expr field-name="partyIdTo" entity-alias="E" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <!-- -->
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr field-name="isTemplate" entity-alias="B" value="N"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
                <condition-list combine="or">
                    <condition-expr entity-alias="G" field-name="workEffortTypeId" rel-entity-alias="B" rel-field-name="ruleTypeId1"/>
                    <condition-expr entity-alias="G" field-name="workEffortTypeId" rel-entity-alias="B" rel-field-name="ruleTypeId2"/>
                    <condition-expr entity-alias="G" field-name="workEffortTypeId" rel-entity-alias="B" rel-field-name="ruleTypeId3"/>
                    <condition-expr entity-alias="G" field-name="workEffortTypeId" rel-entity-alias="B" rel-field-name="ruleTypeId4"/>
                    <condition-expr entity-alias="G" field-name="workEffortTypeId" rel-entity-alias="B" rel-field-name="ruleTypeId5"/>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- vista usata in fase di ricerca come contenitore -->
    <view-entity entity-name="WorkEffortRootInqyPartyWithEventSummaryOrgMgrView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortRootInqyPartySummaryOrgMgrView" entity-alias="A"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="B"/>
        <alias-all entity-alias="A" group-by="true"/>
        <alias entity-alias="B" field="workEffortIdTo" name="eventWorkEffortId" group-by="true"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdFrom"/>
        </view-link>
        <entity-condition>
            <condition-expr entity-alias="B" field-name="workEffortAssocTypeId" value="EVENT"/>
        </entity-condition>
    </view-entity>

    <!-- vista usata in fase di ricerca come contenitore -->
    <view-entity entity-name="WorkEffortRootInqyPartySummaryRoleView" package-name="org.ofbiz.workeffort.workeffort">
        <description>
            extends WorkEffortRootTypeStatusView, WorkEffortPartyAssignment
            param uvUserLoginId = current user login
            param partyId = current user login party
        </description>
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <!-- -->
        <member-entity entity-name="WorkEffortPartyAssignmentGroupView" entity-alias="E"/>
        <!-- -->
        <member-entity entity-name="WorkEffortAssoc" entity-alias="F"/>
        <member-entity entity-name="WorkEffort" entity-alias="G"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="H"/>
        <member-entity entity-name="WorkEffortType" entity-alias="I"/>
        <member-entity entity-name="Party" entity-alias="M"/>
        <member-entity entity-name="Party" entity-alias="N"/>
        <member-entity entity-name="StatusValidChange" entity-alias="V"/>
        <member-entity entity-name="StatusItem" entity-alias="S"/>
        <alias entity-alias="A" name="workEffortId" group-by="true"/>
        <alias entity-alias="A" name="currentStatusId" group-by="true"/>
        <alias entity-alias="A" name="workEffortParentId" group-by="true"/>
        <alias entity-alias="A" name="organizationId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitId" group-by="true"/>
        <alias entity-alias="M" name="partyName" group-by="true"/>
        <alias entity-alias="M" name="partyNameLang" group-by="true"/>
        <alias entity-alias="A" name="sourceReferenceId" group-by="true"/>
        <alias entity-alias="A" name="workEffortName" group-by="true"/>
        <alias entity-alias="A" name="workEffortNameLang" group-by="true"/>
        <alias entity-alias="A" name="estimatedStartDate" group-by="true"/>
        <alias entity-alias="A" name="estimatedCompletionDate" group-by="true"/>
        <alias entity-alias="A" name="workEffortSnapshotId" group-by="true"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" prim-key="false" group-by="true"/>
        <alias entity-alias="B" field="workEffortTypeId" name="workEffortRootTypeId" group-by="true"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId" group-by="true"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot" group-by="true"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate" group-by="true"/>
        <alias entity-alias="B" field="description" name="weTypeDescription" group-by="true"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang" group-by="true"/>
        <alias entity-alias="B" field="etch" name="etch" group-by="true"/>
        <alias entity-alias="B" field="etchLang" name="etchLang" group-by="true"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId" group-by="true"/>
        <alias entity-alias="C" field="description" name="weStatusDescr" group-by="true"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation" group-by="true"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId" group-by="true"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang" group-by="true"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId" group-by="true"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId" group-by="true"/>
        <alias entity-alias="G" field="workEffortId" name="workEffortIdChild" group-by="true" prim-key="false"/>
        <alias entity-alias="G" field="workEffortTypeId" name="workEffortTypeId" group-by="true"/>
        <alias entity-alias="I" field="etch" name="weTypeEtch" group-by="true"/>
        <alias entity-alias="I" field="etchLang" name="weTypeEtchLang" group-by="true"/>
        <alias entity-alias="G" field="workEffortTypeId" name="weTotal" function="count"/>
        <alias entity-alias="H" field="partyId" name="partyIdInCharge" group-by="true"/>
        <alias entity-alias="N" field="partyName" name="partyNameInCharge" group-by="true"/>
        <alias entity-alias="H" field="roleTypeId" name="roleTypeIdInCharge" group-by="true"/>
        <!-- -->
        <alias entity-alias="E" name="partyId" field="partyId" group-by="true"/>
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId" group-by="true"/>
        <alias entity-alias="S" name="sequenceId" function="min"/>
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="F">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdFrom"/>
            <entity-condition>
                <condition-expr field-name="workEffortAssocTypeId" entity-alias="F" value="ROOT"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="F" rel-entity-alias="G">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="I">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="H">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="H" value="WEM%IN_CHARGE" operator="like"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
            <entity-condition>
                <condition-expr field-name="managWeStatusEnumId" entity-alias="D" value="ROLE"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="V" rel-optional="true">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="V" rel-entity-alias="S" rel-optional="true">
            <key-map field-name="statusIdTo" rel-field-name="statusId"/>
        </view-link>
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="E">
            <key-map field-name="workEffortId"/>
            <key-map field-name="estimatedCompletionDate" rel-field-name="thruDate"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="partyId" entity-alias="E" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="H" rel-entity-alias="N">
            <key-map field-name="partyId" rel-field-name="partyId"/>
        </view-link>
        <!-- -->
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr field-name="isTemplate" entity-alias="B" value="N"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
                <condition-list combine="or">
                    <condition-expr entity-alias="G" field-name="workEffortTypeId" rel-entity-alias="B" rel-field-name="ruleTypeId1"/>
                    <condition-expr entity-alias="G" field-name="workEffortTypeId" rel-entity-alias="B" rel-field-name="ruleTypeId2"/>
                    <condition-expr entity-alias="G" field-name="workEffortTypeId" rel-entity-alias="B" rel-field-name="ruleTypeId3"/>
                    <condition-expr entity-alias="G" field-name="workEffortTypeId" rel-entity-alias="B" rel-field-name="ruleTypeId4"/>
                    <condition-expr entity-alias="G" field-name="workEffortTypeId" rel-entity-alias="B" rel-field-name="ruleTypeId5"/>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortRootInqyPartyWithEventSummaryRoleView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortRootInqyPartySummaryRoleView" entity-alias="A"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="B"/>
        <alias-all entity-alias="A" group-by="true"/>
        <alias entity-alias="B" field="workEffortIdTo" name="eventWorkEffortId" group-by="true"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdFrom"/>
        </view-link>
        <entity-condition>
            <condition-expr entity-alias="B" field-name="workEffortAssocTypeId" value="EVENT"/>
        </entity-condition>
    </view-entity>

    <!-- WorkEffortRootOrgMgrRoleView -->
    <!-- U,A,B,C = WorkEffortRootInqyView -->
    <!-- param uvUserLoginId = current user login -->
    <!-- param managementRoleTypeId = type status field -->
    <!-- param managWeStatusEnumId = type status field -->
    <!-- param partyIdTo = current user login party (relationship) -->
    <!-- param partyId = current user login party (assignment) -->
    <!-- vista usata in fase di ricerca come contenitore -->
    <view-entity entity-name="WorkEffortRootInqyPartySummaryOrgMgrRoleView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <!-- -->
        <member-entity entity-name="PartyRelationship" entity-alias="E"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="F"/>
        <!-- -->
        <member-entity entity-name="WorkEffortAssoc" entity-alias="G"/>
        <member-entity entity-name="WorkEffort" entity-alias="H"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="I"/>
        <member-entity entity-name="WorkEffortType" entity-alias="L"/>
        <member-entity entity-name="Party" entity-alias="M"/>
        <member-entity entity-name="Party" entity-alias="N"/>
        <member-entity entity-name="StatusValidChange" entity-alias="V"/>
        <member-entity entity-name="StatusItem" entity-alias="S"/>
        <alias entity-alias="A" name="workEffortId" group-by="true"/>
        <alias entity-alias="A" name="currentStatusId" group-by="true"/>
        <alias entity-alias="A" name="workEffortParentId" group-by="true"/>
        <alias entity-alias="A" name="organizationId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId" group-by="true"/>
        <alias entity-alias="A" name="orgUnitId" group-by="true"/>
        <alias entity-alias="M" name="partyName" group-by="true"/>
        <alias entity-alias="M" name="partyNameLang" group-by="true"/>
        <alias entity-alias="A" name="sourceReferenceId" group-by="true"/>
        <alias entity-alias="A" name="workEffortName" group-by="true"/>
        <alias entity-alias="A" name="workEffortNameLang" group-by="true"/>
        <alias entity-alias="A" name="estimatedStartDate" group-by="true"/>
        <alias entity-alias="A" name="estimatedCompletionDate" group-by="true"/>
        <alias entity-alias="A" name="workEffortSnapshotId" group-by="true"/>
        <alias entity-alias="A" field="etch" name="weEtch" group-by="true"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" prim-key="false" group-by="true"/>
        <alias entity-alias="B" field="workEffortTypeId" name="workEffortRootTypeId" group-by="true"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId" group-by="true"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot" group-by="true"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate" group-by="true"/>
        <alias entity-alias="B" field="description" name="weTypeDescription" group-by="true"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang" group-by="true"/>
        <alias entity-alias="B" field="etch" name="etch" group-by="true"/>
        <alias entity-alias="B" field="etchLang" name="etchLang" group-by="true"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId" group-by="true"/>
        <alias entity-alias="C" field="description" name="weStatusDescr" group-by="true"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation" group-by="true"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId" group-by="true"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang" group-by="true"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId" group-by="true"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId" group-by="true"/>
        <alias entity-alias="H" field="workEffortId" name="workEffortIdChild" group-by="true" prim-key="false"/>
        <alias entity-alias="H" field="workEffortTypeId" name="workEffortTypeId" group-by="true"/>
        <alias entity-alias="L" field="etch" name="weTypeEtch" group-by="true"/>
        <alias entity-alias="L" field="etchLang" name="weTypeEtchLang" group-by="true"/>
        <alias entity-alias="H" field="workEffortTypeId" name="weTotal" function="count"/>
        <alias entity-alias="I" field="partyId" name="partyIdInCharge" group-by="true"/>
        <alias entity-alias="N" field="partyName" name="partyNameInCharge" group-by="true"/>
        <alias entity-alias="I" field="roleTypeId" name="roleTypeIdInCharge" group-by="true"/>
        <!-- -->
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId" group-by="true"/>
        <alias entity-alias="D" field="managWeStatusEnumId" name="managWeStatusEnumId" group-by="true"/>
        <alias entity-alias="E" field="partyIdTo" name="partyIdTo" group-by="true"/>
        <alias entity-alias="F" field="partyId" name="partyId" group-by="true"/>
        <alias entity-alias="S" name="sequenceId" function="min"/>
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="G">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdFrom"/>
            <entity-condition>
                <condition-expr field-name="workEffortAssocTypeId" entity-alias="G" value="ROOT"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="H">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="H" rel-entity-alias="L">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="I">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="I" value="WEM%IN_CHARGE" operator="like"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="V" rel-optional="true">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="V" rel-entity-alias="S" rel-optional="true">
            <key-map field-name="statusIdTo" rel-field-name="statusId"/>
        </view-link>
        <!-- -->
        <view-link entity-alias="A" rel-entity-alias="E" rel-optional="true">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeIdFrom"/>
            <key-map field-name="orgUnitId" rel-field-name="partyIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
	                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_RESPONSIBLE"/>
	                	<condition-list>
	                    	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_DELEGATE"/>
	                    	<condition-list combine="or">
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" operator="equals" value="CTX_EP"/>
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" value="null"/>
	                		</condition-list>
	                    </condition-list>
                	</condition-list>
                    <condition-list combine="and">
                    	<condition-expr field-name="fromDate" entity-alias="E" operator="less-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                		<condition-list combine="or">
                    		<condition-expr entity-alias="E" field-name="thruDate" value="null"/>
                    		<condition-expr field-name="thruDate" entity-alias="E" operator="greater-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                    	</condition-list>
                    </condition-list>
                    
                    <condition-expr field-name="partyIdTo" entity-alias="E" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="F" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
            <key-map field-name="estimatedCompletionDate" rel-field-name="thruDate"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="partyId" entity-alias="F" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="I" rel-entity-alias="N" rel-optional="true">
            <key-map field-name="partyId"/>
        </view-link>
        <!-- -->
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr field-name="isTemplate" entity-alias="B" value="N"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
                <condition-list combine="or">
                    <condition-expr field-name="partyIdTo" entity-alias="E" operator="not-equals" value="null"/>
                    <condition-expr field-name="partyId" entity-alias="F" operator="not-equals" value="null"/>
                </condition-list>
                <condition-list combine="or">
                    <condition-expr entity-alias="H" field-name="workEffortTypeId" rel-entity-alias="B" rel-field-name="ruleTypeId1"/>
                    <condition-expr entity-alias="H" field-name="workEffortTypeId" rel-entity-alias="B" rel-field-name="ruleTypeId2"/>
                    <condition-expr entity-alias="H" field-name="workEffortTypeId" rel-entity-alias="B" rel-field-name="ruleTypeId3"/>
                    <condition-expr entity-alias="H" field-name="workEffortTypeId" rel-entity-alias="B" rel-field-name="ruleTypeId4"/>
                    <condition-expr entity-alias="H" field-name="workEffortTypeId" rel-entity-alias="B" rel-field-name="ruleTypeId5"/>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortRootInqyPartyWithEventSummaryOrgMgrRoleView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortRootInqyPartySummaryOrgMgrRoleView" entity-alias="A"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="B"/>
        <alias-all entity-alias="A" group-by="true"/>
        <alias entity-alias="B" field="workEffortIdTo" name="eventWorkEffortId" group-by="true"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdFrom"/>
        </view-link>
        <entity-condition>
            <condition-expr entity-alias="B" field-name="workEffortAssocTypeId" value="EVENT"/>
        </entity-condition>
    </view-entity>

    <!-- Costruzione query per la ricerca delle risorse assegnate senza scheda -->
    <!-- Primo pezzo: Lista di soggetti valutati -->
    <view-entity entity-name="PartyEvaluationPlanOrgUnit" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffort" entity-alias="W"/>
        <member-entity entity-name="WorkEffortType" entity-alias="T"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="P"/>

        <alias name="orgUnitId" entity-alias="W" group-by="true"/>
        <alias name="orgUnitRoleTypeId" entity-alias="W" group-by="true"/>
        <alias name="partyId" entity-alias="P" group-by="true"/>

        <view-link rel-entity-alias="T" entity-alias="W">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-expr entity-alias="T" field-name="parentTypeId" value="CTX_EP"/>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="P" entity-alias="W">
            <key-map field-name="workEffortId"/>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr entity-alias="W" field-name="currentStatusId" operator="like" value="WEEVALST_PLAN%"/>
                <condition-expr entity-alias="P" field-name="thruDate" rel-entity-alias="W" rel-field-name="estimatedCompletionDate"/>
                <condition-expr entity-alias="P" field-name="roleTypeId" value="WEM_EVAL_IN_CHARGE"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="PartyAllocationEvaluationPlanNotOpenSummary" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="B" entity-name="Party"/>
        <member-entity entity-alias="PP_B" entity-name="PartyParentRole"/>
        <member-entity entity-alias="RP_B" entity-name="RoleType"/>
        <member-entity entity-alias="PR_B" entity-name="PartyRole"/>
        <member-entity entity-alias="R_B" entity-name="RoleType"/>
        <member-entity entity-alias="P_B" entity-name="Person"/>
        <member-entity entity-alias="C" entity-name="PartyRelationship"/>
        <member-entity entity-alias="PP_A" entity-name="PartyParentRole"/>
        <member-entity entity-alias="RP_A" entity-name="RoleType"/>
        <member-entity entity-alias="PR_A" entity-name="PartyRole"/>
        <member-entity entity-alias="R_A" entity-name="RoleType"/>
        <member-entity entity-alias="PL" entity-name="PartyRelationship"/>
        <member-entity entity-alias="P" entity-name="WorkEffortPartyAssignment"/>
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <member-entity entity-name="EmplPositionType" entity-alias="EP"/>
        <member-entity entity-name="WorkEffort" entity-alias="WE"/>


        <alias name="orgUnitId" entity-alias="PP_A" field="partyId" group-by="true"/>
        <alias name="orgUnitRoleTypeId" entity-alias="R_A" field="roleTypeId" group-by="true"/>
        <alias name="partyId" entity-alias="B" group-by="true"/>
        <alias name="partyResponsibleId" entity-alias="PL" field="partyIdTo" group-by="true"/>
        <alias name="partyName" entity-alias="B" group-by="true"/>
        <alias name="emplPositionTypeId" entity-alias="P_B" group-by="true"/>
        <alias name="fromDate" entity-alias="C" group-by="true"/>
        <alias name="partyRelationshipTypeId" entity-alias="C" group-by="true"/>
        <alias name="emplPositionTypeDescription" field="description" entity-alias="EP" group-by="true"/>

        <alias name="templateId" entity-alias="EP" group-by="true"/>
        <alias name="templateSource" field="sourceReferenceId" entity-alias="WE" group-by="true"/>
        <alias name="templateName" field="workEffortName" entity-alias="WE" group-by="true"/>
        <alias name="templateStartDate" field="estimatedStartDate" entity-alias="WE" group-by="true"/>
        <alias name="templateCompletationDate" field="estimatedCompletionDate" entity-alias="WE" group-by="true"/>

        <view-link rel-entity-alias="PP_B" entity-alias="B">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link rel-entity-alias="RP_B" entity-alias="PP_B">
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link rel-entity-alias="PR_B" entity-alias="PP_B">
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId" rel-field-name="parentRoleTypeId"/>
        </view-link>
        <view-link rel-entity-alias="R_B" entity-alias="PR_B">
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link rel-entity-alias="P_B" entity-alias="B" rel-optional="true">
            <key-map field-name="partyId"/>
        </view-link>
        <!--GN-1274  -->
        <view-link entity-alias="P_B" rel-entity-alias="EP">
            <key-map field-name="emplPositionTypeId" rel-field-name="emplPositionTypeId"/>
            <entity-condition>
            	<condition-expr entity-alias="EP" field-name="templateId" operator="not-equals" value="null"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="EP" rel-entity-alias="WE" rel-optional="true">
            <key-map field-name="templateId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link rel-entity-alias="C" entity-alias="B">
            <key-map field-name="partyId" rel-field-name="partyIdTo"/>
            <entity-condition>
            	<condition-list>
            	<condition-expr entity-alias="C" field-name="fromDate" operator="less-equals" rel-entity-alias="WE" rel-field-name="estimatedCompletionDate"/>
                	<condition-list combine="or">
	                	<condition-expr entity-alias="C" field-name="thruDate" operator="greater-equals" rel-entity-alias="WE" rel-field-name="estimatedCompletionDate"/>
	                	<condition-expr entity-alias="C" field-name="thruDate" value="null"/>
	                </condition-list>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="PP_A" entity-alias="C">
            <key-map rel-field-name="partyId" field-name="partyIdFrom"/>
        </view-link>
        <view-link rel-entity-alias="RP_A" entity-alias="PP_A">
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link rel-entity-alias="PR_A" entity-alias="PP_A">
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId" rel-field-name="parentRoleTypeId"/>
        </view-link>
        <view-link rel-entity-alias="R_A" entity-alias="PR_A">
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link rel-entity-alias="PL" entity-alias="PP_A" rel-optional="true">
            <key-map field-name="partyId" rel-field-name="partyIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-expr entity-alias="R_A" field-name="roleTypeId" rel-entity-alias="PL" rel-field-name="roleTypeIdFrom"/>
                    <condition-list combine="or">
	                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="PL" operator="equals" value="ORG_RESPONSIBLE"/>
	                	<condition-list>
	                    	<condition-expr field-name="partyRelationshipTypeId" entity-alias="PL" operator="equals" value="ORG_DELEGATE"/>
	                    	<condition-list combine="or">
	                    		<condition-expr field-name="ctxEnabled" entity-alias="PL" operator="equals" value="CTX_EP"/>
	                    		<condition-expr field-name="ctxEnabled" entity-alias="PL" value="null"/>
	                		</condition-list>
	                    </condition-list>
                	</condition-list>
                    <condition-expr entity-alias="PL" field-name="thruDate" value="null"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="P" entity-alias="B" rel-optional="true">
            <key-map field-name="partyId"/>
            <!-- Aggiunta condizione tra il WEPA e le date del template -->
            <entity-condition>
            	<condition-list>
                	<condition-expr entity-alias="WE" field-name="estimatedCompletionDate" operator="greater-equals" rel-entity-alias="P" rel-field-name="fromDate"/>
                	<condition-expr entity-alias="WE" field-name="estimatedCompletionDate" operator="less-equals" rel-entity-alias="P" rel-field-name="thruDate"/>
                	<condition-expr entity-alias="P" field-name="roleTypeId" rel-entity-alias="R_B" rel-field-name="roleTypeId"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="W" entity-alias="P" rel-optional="true">
            <key-map field-name="thruDate" rel-field-name="estimatedCompletionDate"/>
            <entity-condition>
                <condition-list>
                    <condition-expr entity-alias="WE" field-name="estimatedCompletionDate" operator="greater-equals" rel-entity-alias="W" rel-field-name="estimatedStartDate"/>
                    <condition-expr entity-alias="WE" field-name="estimatedCompletionDate" operator="less-equals" rel-entity-alias="W" rel-field-name="estimatedCompletionDate"/>
                    <condition-expr entity-alias="W" field-name="orgUnitId" rel-entity-alias="PP_A" rel-field-name="partyId"/>
                    <condition-expr entity-alias="W" field-name="orgUnitRoleTypeId" rel-entity-alias="R_A" rel-field-name="roleTypeId"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="WT" entity-alias="W" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-expr entity-alias="WT" field-name="parentTypeId" value="CTX_EP"/>
            </entity-condition>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr entity-alias="R_B" field-name="roleTypeId" value="WEM_EVAL_IN_CHARGE"/>
                <!-- GN-475 -->
                <condition-expr entity-alias="W" field-name="orgUnitId" value="null"/>
                <condition-expr entity-alias="PL" field-name="partyIdFrom" operator="not-equals" value="null"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!--
        Activity: 2168
        WorkEffortMeasureView
    -->

    <!--
        SubSelect view helper class
    -->
    <view-entity entity-name="WorkEffMeasPartyRole" package-name="org.ofbiz.workeffort.workeffort">
        <description>WorkEffortMeasureView Helper class</description>
        <member-entity entity-name="PartyRole" entity-alias="A"/>
        <member-entity entity-name="PartyParentRole" entity-alias="B"/>
        <alias entity-alias="A" field="partyId" name="partyId"/>
        <alias entity-alias="A" field="roleTypeId" name="roleTypeId"/>
        <alias entity-alias="B" field="parentRoleCode" name="parentRoleCode"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="partyId" rel-field-name="partyId"/>
            <key-map field-name="parentRoleTypeId" rel-field-name="roleTypeId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffMeasAccTrans" package-name="org.ofbiz.workeffort.workeffort">
        <description>WorkEffortTransactionView Helper class</description>
        <member-entity entity-name="AcctgTrans" entity-alias="A"/>
        <member-entity entity-name="AcctgTransEntry" entity-alias="B"/>
        <member-entity entity-name="GlFiscalType" entity-alias="C"/>
        <alias entity-alias="A" field="acctgTransId" name="acctgTransId"/>
        <alias entity-alias="A" field="workEffortId" name="workEffortId"/>
        <alias entity-alias="A" field="transactionDate" name="transactionDate"/>
        <alias entity-alias="A" field="roleTypeId" name="orgRoleTypeId"/>
        <alias entity-alias="A" field="partyId" name="orgUnitId"/>
        <alias entity-alias="A" field="glFiscalTypeId" name="glFiscalTypeId"/>
        <alias entity-alias="A" name="isPosted"/>
        <alias entity-alias="A" field="description" name="transComments"/>
        <alias entity-alias="B" field="acctgTransEntrySeqId" name="acctgTransEntrySeqId"/>
        <alias entity-alias="B" field="description" name="transDescription"/>
        <alias entity-alias="B" field="amount" name="amount"/>
        <alias entity-alias="B" field="origAmount" name="origAmount"/>
        <alias entity-alias="B" field="currencyUomId" name="currencyUomId"/>
        <alias entity-alias="B" field="roleTypeId" name="roleTypeId"/>
        <alias entity-alias="B" field="partyId" name="partyId"/>
        <alias entity-alias="B" field="productId" name="productId"/>
        <alias entity-alias="B" field="glAccountId" name="glAccountId"/>
        <alias entity-alias="B" field="organizationPartyId" name="organizationPartyId"/>
        <alias entity-alias="B" field="glAccountFinId" name="glAccountFinId"/>
        <alias entity-alias="B" name="debitCreditFlag"/>
        <alias entity-alias="C" field="description" name="fisDescription"/>
        <alias entity-alias="B" field="emplPositionTypeId" name="emplPositionTypeId"/>
        <alias entity-alias="B" name="hasScoreAlert"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="acctgTransId" rel-field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="glFiscalTypeId" rel-field-name="glFiscalTypeId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WemClosedPeriods" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="B" entity-name="WorkEffort"/>
        <member-entity entity-alias="C" entity-name="CustomTimePeriod"/>
        <alias entity-alias="A" name="workEffortMeasureId" group-by="true"/>
        <alias entity-alias="C" name="dateClosed" function="max" field="thruDate"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="periodTypeId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="thruDate" entity-alias="A" operator="greater-equals" rel-field-name="thruDate" rel-entity-alias="C"/>
                    <condition-expr field-name="isClosed" entity-alias="C" operator="equals" value="Y"/>
                </condition-list>
            </entity-condition>
        </view-link>
    </view-entity>

    <!--
        View
    -->
    <view-entity entity-name="WorkEffortMeasureView" package-name="org.ofbiz.workeffort.workeffort">
        <description>WorkEffortMeasureView_N</description>
        <member-entity entity-name="WorkEffortMeasure" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="WorkEffort" entity-alias="C"/>
        <member-entity entity-name="StatusItem" entity-alias="D"/>
        <member-entity entity-name="GlAccount" entity-alias="E"/>
        <member-entity entity-name="Uom" entity-alias="F"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="G"/>
        <member-entity entity-name="GlFiscalType" entity-alias="H"/>
        <member-entity entity-name="Product" entity-alias="I"/>
        <member-entity entity-name="EmplPositionType" entity-alias="L"/>
        <member-entity entity-name="RoleType" entity-alias="M"/>
        <member-entity entity-name="Party" entity-alias="N"/>
        <member-entity entity-name="WorkEffMeasPartyRole" entity-alias="O"/>
        <member-entity entity-name="Enumeration" entity-alias="P"/>
        <member-entity entity-name="Enumeration" entity-alias="Q"/>
        <member-entity entity-name="WemClosedPeriods" entity-alias="R"/>
        <member-entity entity-name="PeriodType" entity-alias="S"/>
        <member-entity entity-name="WorkEffort" entity-alias="T"/>
        <member-entity entity-name="GlAccountType" entity-alias="U"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B1"/>
        <member-entity entity-name="WorkEffortType" entity-alias="C1"/>
        <alias entity-alias="A" field="workEffortId" name="weMeasureWeId" prim-key="false"/>
        <alias entity-alias="B" field="sourceReferenceId" name="weMeasureWeCode"/>
        <alias entity-alias="B" field="workEffortName" name="weMeasureWeName"/>
        <alias entity-alias="B" field="estimatedStartDate" name="weMeasureWeStartDate"/>
        <alias entity-alias="B" field="estimatedCompletionDate" name="weMeasureWeCompletionDate"/>
        <alias entity-alias="A" field="workEffortMeasureId" name="weMeasureId"/>
        <alias entity-alias="A" field="uomRangeId" name="weMeasureUomId"/>
        <alias entity-alias="A" field="uomDescr" name="weMeasureUomDescr"/>
        <alias entity-alias="F" field="uomTypeId" name="weMeasureUomType"/>
        <alias entity-alias="G" field="glFiscalTypeId" name="weMeasureTypeValueId"/>
        <alias entity-alias="H" field="description" name="weMeasureTypeValueDesc"/>
        <alias entity-alias="A" field="glAccountId" name="weMeasureAccountId"/>
        <alias entity-alias="E" field="accountCode" name="weMeasureAccountCode"/>
        <alias entity-alias="E" field="accountName" name="weMeasureAccountDesc"/>
        <alias entity-alias="E" name="glResourceTypeId"/>
        <alias entity-alias="U" name="accountTypeEnumId"/>
        <alias entity-alias="A" field="productId" name="weMeasureProductId"/>
        <alias entity-alias="I" field="internalName" name="weMeasureProductDesc"/>
        <alias entity-alias="A" field="emplPositionTypeId" name="weMeasureEmpPosTypeId"/>
        <alias entity-alias="L" field="description" name="weMeasureEmpPosTypeDesc"/>
        <alias entity-alias="A" field="roleTypeId" name="weMeasureRoleTypeId"/>
        <alias entity-alias="M" field="description" name="weMeasureRoleTypeDesc"/>
        <alias entity-alias="A" field="partyId" name="weMeasurePartyId"/>
        <alias entity-alias="N" field="partyName" name="weMeasurePartyDesc"/>
        <alias entity-alias="A" field="weOtherGoalEnumId" name="weMeasureOtherGoal"/>
        <alias entity-alias="A" field="weMeasureTypeEnumId" name="weMeasureMeasureType"/>
        <alias entity-alias="A" field="comments" name="weMeasureDesc"/>
        <alias entity-alias="A" field="fromDate" name="weMeasureFromDate"/>
        <alias entity-alias="A" field="thruDate" name="weMeasureThruDate"/>
        <alias entity-alias="A" field="otherWorkEffortId" name="weMeasureOtherWorkEffortId"/>
        <alias entity-alias="T" field="sourceReferenceId" name="weMeasureOtherWorkEffortCode"/>
        <alias entity-alias="D" field="actStEnumId" name="weMeasureActivation"/>
        <alias entity-alias="O" field="parentRoleCode" name="weMeasurePartyCode"/>
        <alias entity-alias="P" field="description" name="weMeasureMeasureTypeDesc"/>
        <alias entity-alias="Q" field="description" name="weMeasureOtherGoalDesc"/>
        <alias entity-alias="R" field="dateClosed" name="dateClosed"/>
        <alias entity-alias="S" field="description" name="weMeasurePeriodTypeDesc"/>

        <alias entity-alias="B1" field="etch" name="weMeasureWeTypeEtch"/>
        <alias entity-alias="B" field="etch" name="weMeasureWeEtch"/>
        <alias entity-alias="B" field="workEffortSnapshotId" name="weMeasureWeSnapId"/>
        <alias entity-alias="C1" field="etch" name="weMeasureParentTypeEtch"/>
        <alias entity-alias="C" field="etch" name="weMeasureParentEtch"/>
        <alias entity-alias="C" field="workEffortName" name="weMeasureParentName"/>
        <alias entity-alias="C" field="workEffortId" name="weMeasureParentId" prim-key="false"/>

        <!-- inner joins -->
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="B1">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="C">
            <key-map field-name="workEffortParentId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="C1">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="D">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E">
            <key-map field-name="glAccountId" rel-field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="E" rel-entity-alias="F">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="E" rel-entity-alias="U">
            <key-map field-name="glAccountTypeId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="G">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <entity-condition>
                <condition-expr field-name="currentStatusId" entity-alias="G" operator="equals" rel-field-name="currentStatusId" rel-entity-alias="C"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="H">
            <key-map field-name="glFiscalTypeId" rel-field-name="glFiscalTypeId"/>
        </view-link>
        <!-- outer joins -->
        <view-link entity-alias="A" rel-entity-alias="I" rel-optional="true">
            <key-map field-name="productId" rel-field-name="productId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="L" rel-optional="true">
            <key-map field-name="emplPositionTypeId" rel-field-name="emplPositionTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M" rel-optional="true">
            <key-map field-name="roleTypeId" rel-field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="N" rel-optional="true">
            <key-map field-name="partyId" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="O" rel-optional="true">
            <key-map field-name="partyId" rel-field-name="partyId"/>
            <key-map field-name="roleTypeId" rel-field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="P" rel-optional="true">
            <key-map field-name="weMeasureTypeEnumId" rel-field-name="enumId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="Q" rel-optional="true">
            <key-map field-name="weOtherGoalEnumId" rel-field-name="enumId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="R" rel-optional="true">
            <key-map field-name="workEffortMeasureId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="S" rel-optional="true">
            <key-map field-name="periodTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="T" rel-optional="true">
            <key-map field-name="otherWorkEffortId" rel-field-name="workEffortId"/>
        </view-link>
        <relation rel-entity-name="GlAccount" type="one-nofk">
            <key-map field-name="weMeasureAccountId" rel-field-name="glAccountId"/>
        </relation>
        <relation rel-entity-name="WorkEffortMeasure" type="one-nofk">
            <key-map field-name="weMeasureProductId" rel-field-name="productId"/>
            <key-map field-name="weMeasureAccountId" rel-field-name="glAccountId"/>
        </relation>
    </view-entity>

    <view-entity entity-name="WorkEffortMeasureViewWithWorkEffortPurposeType" package-name="org.ofbiz.workeffort.workeffort">
        <description>WorkEffortMeasureView_N</description>
        <member-entity entity-name="WorkEffortMeasure" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="WorkEffort" entity-alias="C"/>
        <member-entity entity-name="StatusItem" entity-alias="D"/>
        <member-entity entity-name="GlAccount" entity-alias="E"/>
        <member-entity entity-name="Uom" entity-alias="F"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="G"/>
        <member-entity entity-name="GlFiscalType" entity-alias="H"/>
        <member-entity entity-name="Product" entity-alias="I"/>
        <member-entity entity-name="EmplPositionType" entity-alias="L"/>
        <member-entity entity-name="RoleType" entity-alias="M"/>
        <member-entity entity-name="Party" entity-alias="N"/>
        <member-entity entity-name="WorkEffMeasPartyRole" entity-alias="O"/>
        <member-entity entity-name="Enumeration" entity-alias="P"/>
        <member-entity entity-name="Enumeration" entity-alias="Q"/>
        <member-entity entity-name="WemClosedPeriods" entity-alias="R"/>
        <member-entity entity-name="PeriodType" entity-alias="S"/><!-- Relation with WorkEffortMeasure -->
        <member-entity entity-name="PeriodType" entity-alias="PT"/><!-- Relation with GlAccount -->
        <member-entity entity-name="WorkEffort" entity-alias="T"/>
        <member-entity entity-name="WorkEffortPurposeAccount" entity-alias="WA"/>
        <member-entity entity-name="WorkEffortType" entity-alias="WTI"/>
        <member-entity entity-name="WorkEffortType" entity-alias="WTR"/>
        <alias entity-alias="A" field="workEffortId" name="weMeasureWeId"/>
        <alias entity-alias="B" field="sourceReferenceId" name="weMeasureWeCode"/>
        <alias entity-alias="B" field="workEffortName" name="weMeasureWeName"/>
        <alias entity-alias="A" field="workEffortMeasureId" name="weMeasureId"/>
        <alias entity-alias="A" field="uomRangeId" name="weMeasureUomId"/>
        <alias entity-alias="A" field="uomDescr" name="weMeasureUomDescr"/>
        <alias entity-alias="F" field="uomTypeId" name="weMeasureUomType"/>
        <alias entity-alias="F" field="decimalScale" name="weMeasureUomDecimalScale"/>
        <alias entity-alias="F" field="description" name="weMeasureDefaultUomDesc"/>
        <alias entity-alias="G" field="glFiscalTypeId" name="weMeasureTypeValueId"/>
        <alias entity-alias="H" field="description" name="weMeasureTypeValueDesc"/>
        <alias entity-alias="A" field="glAccountId" name="weMeasureAccountId"/>
        <alias entity-alias="E" field="accountCode" name="weMeasureAccountCode"/>
        <alias entity-alias="E" field="accountName" name="weMeasureAccountDesc"/>
        <alias entity-alias="E" name="glResourceTypeId"/>
        <alias entity-alias="E" field="defaultUomId" name="weMeasureDefaultUomId"/>
        <alias entity-alias="A" field="productId" name="weMeasureProductId"/>
        <alias entity-alias="I" field="internalName" name="weMeasureProductDesc"/>
        <alias entity-alias="A" field="emplPositionTypeId" name="weMeasureEmpPosTypeId"/>
        <alias entity-alias="L" field="description" name="weMeasureEmpPosTypeDesc"/>
        <alias entity-alias="A" field="roleTypeId" name="weMeasureRoleTypeId"/>
        <alias entity-alias="M" field="description" name="weMeasureRoleTypeDesc"/>
        <alias entity-alias="A" field="partyId" name="weMeasurePartyId"/>
        <alias entity-alias="N" field="partyName" name="weMeasurePartyDesc"/>
        <alias entity-alias="A" field="weOtherGoalEnumId" name="weMeasureOtherGoal"/>
        <alias entity-alias="A" field="weMeasureTypeEnumId" name="weMeasureMeasureType"/>
        <alias entity-alias="A" field="comments" name="weMeasureDesc"/>
        <alias entity-alias="A" field="fromDate" name="weMeasureFromDate"/>
        <alias entity-alias="A" field="thruDate" name="weMeasureThruDate"/>
        <alias entity-alias="A" field="otherWorkEffortId" name="weMeasureOtherWorkEffortId"/>
        <alias entity-alias="T" field="sourceReferenceId" name="weMeasureOtherWorkEffortCode"/>
        <alias entity-alias="D" field="actStEnumId" name="weMeasureActivation"/>
        <alias entity-alias="O" field="parentRoleCode" name="weMeasurePartyCode"/>
        <alias entity-alias="P" field="description" name="weMeasureMeasureTypeDesc"/>
        <alias entity-alias="Q" field="description" name="weMeasureOtherGoalDesc"/>
        <alias entity-alias="R" field="dateClosed" name="dateClosed"/>
        <alias entity-alias="S" field="description" name="weMeasurePeriodTypeDesc"/>
        <alias entity-alias="S" field="periodTypeId" name="weMeasurePeriodTypeId"/>
        <alias entity-alias="PT" field="periodTypeId" name="weMeasureAccountPeriodTypeId"/>
        <alias entity-alias="PT" field="description" name="weMeasureAccountPeriodTypeDesc"/>
        <alias entity-alias="WA" name="workEffortPurposeTypeId"/>
        <alias entity-alias="WTI" field="workEffortTypeId" name="workEffortTypeIdInd"/>
        <alias entity-alias="WTI" field="description" name="wetDescriptionInd"/>
        <alias entity-alias="WTR" field="workEffortTypeId" name="workEffortTypeIdRes"/>
        <alias entity-alias="WTR" field="description" name="wetDescriptionRes"/>
        <!-- inner joins -->
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="C">
            <key-map field-name="workEffortParentId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="D">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E">
            <key-map field-name="glAccountId" rel-field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="E" rel-entity-alias="F">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="G">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <entity-condition>
                <condition-expr field-name="currentStatusId" entity-alias="G" operator="equals" rel-field-name="currentStatusId" rel-entity-alias="B"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="H">
            <key-map field-name="glFiscalTypeId" rel-field-name="glFiscalTypeId"/>
        </view-link>
        <!-- outer joins -->
        <view-link entity-alias="A" rel-entity-alias="I" rel-optional="true">
            <key-map field-name="productId" rel-field-name="productId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="L" rel-optional="true">
            <key-map field-name="emplPositionTypeId" rel-field-name="emplPositionTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M" rel-optional="true">
            <key-map field-name="roleTypeId" rel-field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="N" rel-optional="true">
            <key-map field-name="partyId" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="O" rel-optional="true">
            <key-map field-name="partyId" rel-field-name="partyId"/>
            <key-map field-name="roleTypeId" rel-field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="P" rel-optional="true">
            <key-map field-name="weMeasureTypeEnumId" rel-field-name="enumId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="Q" rel-optional="true">
            <key-map field-name="weOtherGoalEnumId" rel-field-name="enumId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="R" rel-optional="true">
            <key-map field-name="workEffortMeasureId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="S" rel-optional="true">
            <key-map field-name="periodTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="T" rel-optional="true">
            <key-map field-name="otherWorkEffortId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link rel-entity-alias="WA" entity-alias="E">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="E" rel-entity-alias="PT" rel-optional="true">
            <key-map field-name="periodTypeId"/>
        </view-link>
        <view-link rel-entity-alias="WTR" entity-alias="WA" rel-optional="true">
            <key-map field-name="workEffortPurposeTypeId" rel-field-name="wePurposeTypeIdRes"/>
        </view-link>
        <view-link rel-entity-alias="WTI" entity-alias="WA" rel-optional="true">
            <key-map field-name="workEffortPurposeTypeId" rel-field-name="wePurposeTypeIdInd"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortMeasureGlAccountView" package-name="org.ofbiz.workeffort.workeffort">
        <description>WorkEffortMeasureView_N</description>
        <member-entity entity-name="WorkEffortMeasure" entity-alias="A"/>
        <member-entity entity-name="GlAccount" entity-alias="E"/>
        <alias-all entity-alias="A"/>
        <alias entity-alias="E" field="accountTypeEnumId" name="weMeasureAccTypeEnumId"/>
        <alias entity-alias="E" field="accountCode" name="weMeasureAccountCode"/>
        <alias entity-alias="E" field="accountName" name="weMeasureAccountDesc"/>
        <view-link rel-entity-alias="A" entity-alias="E">
            <key-map field-name="glAccountId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortTransactionView" package-name="org.ofbiz.workeffort.workeffort">
        <description>WorkEffortTransactionView_N</description>
        <member-entity entity-name="WorkEffortMeasure" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="WorkEffortType" entity-alias="T"/>
        <member-entity entity-name="StatusItem" entity-alias="D"/>
        <member-entity entity-name="GlAccount" entity-alias="E"/>
        <member-entity entity-name="Uom" entity-alias="F"/>
        <member-entity entity-name="WorkEffMeasAccTrans" entity-alias="G"/>
        <member-entity entity-name="Product" entity-alias="H"/>
        <member-entity entity-name="EmplPositionType" entity-alias="I"/>
        <member-entity entity-name="RoleType" entity-alias="L"/>
        <member-entity entity-name="Party" entity-alias="M"/>
        <member-entity entity-name="WorkEffMeasPartyRole" entity-alias="N"/>
        <member-entity entity-name="WorkEffortMeasRatSc" entity-alias="O"/>
        <member-entity entity-name="CustomTimePeriod" entity-alias="P"/>
        <member-entity entity-name="PeriodType" entity-alias="Q"/>

        <alias entity-alias="A" field="workEffortId" name="weTransWeId"/>
        <alias entity-alias="A" field="workEffortMeasureId" name="weTransMeasureId" prim-key="true"/>
        <alias entity-alias="A" field="uomRangeId" name="weTransUomId"/>
        <alias entity-alias="A" field="uomDescr" name="weTransUomDesc"/>
        <alias entity-alias="A" field="glAccountId" name="weTransAccountId"/>
        <alias entity-alias="A" field="productId" name="weTransProductId"/>
        <alias entity-alias="A" field="emplPositionTypeId" name="weTransEmplPosTypeId"/>
        <alias entity-alias="A" field="roleTypeId" name="weTransRoleId"/>
        <alias entity-alias="A" field="partyId" name="weTransPartyId"/>
        <alias entity-alias="A" field="weMeasureTypeEnumId" name="weTransMeasureType"/>
        <alias entity-alias="A" field="weOtherGoalEnumId" name="weTransOtherMeasGoal"/>
        <alias entity-alias="A" field="fromDate" name="weTransMeasureFromDate"/>
        <alias entity-alias="A" field="thruDate" name="weTransMeasureThruDate"/>
        <alias entity-alias="A" field="otherWorkEffortId" name="weTransOtherWorkEffortId"></alias>
        <alias entity-alias="B" field="sourceReferenceId" name="weTransWeCode"/>
        <alias entity-alias="B" field="workEffortName" name="weTransWeName"/>
        <alias entity-alias="D" field="actStEnumId" name="weTransActivation"/>
        <alias entity-alias="E" field="accountCode" name="weTransAccountCode"/>
        <alias entity-alias="E" field="accountName" name="weTransAccountDesc"/>
        <alias entity-alias="E" name="detectOrgUnitIdFlag"/>
        <alias entity-alias="E" field="periodicalAbsoluteEnumId" name="periodicalAbsoluteEnumId"/>
        <alias entity-alias="F" field="uomTypeId" name="weTransUomType"/>
        <alias entity-alias="F" field="decimalScale" name="weTransUomDecimalScale"/>
        <alias entity-alias="G" field="amount" name="weTransValue"/>
        <alias entity-alias="G" field="origAmount" name="weTransOrigValue"/>
        <alias entity-alias="G" field="transactionDate" name="weTransDate"/>
        <alias entity-alias="G" field="glFiscalTypeId" name="weTransTypeValueId"/>
        <alias entity-alias="G" field="fisDescription" name="weTransTypeValueDesc"/>
        <alias entity-alias="G" field="transDescription" name="weTransComment"/>
        <alias entity-alias="G" field="acctgTransId" name="weTransId" prim-key="true"/>
        <alias entity-alias="G" field="acctgTransEntrySeqId" name="weTransEntryId" prim-key="true"/>
        <alias entity-alias="G" name="hasScoreAlert"/>
        <alias entity-alias="E" name="debitCreditDefault"/>
        <alias entity-alias="G" name="debitCreditFlag"/>
        <alias entity-alias="G" name="isPosted"/>
        <alias entity-alias="G" field="currencyUomId" name="weTransCurrencyUomId"/>
        <alias entity-alias="G" field="transComments" name="weTransComments"/>
        <alias entity-alias="H" field="internalName" name="weTransProductDesc"/>
        <alias entity-alias="I" field="description" name="weTransEmplPosTypeDesc"/>
        <alias entity-alias="L" field="description" name="weTransRoleDesc"/>
        <alias entity-alias="M" field="partyName" name="weTransPartyDesc"/>
        <alias entity-alias="N" field="parentRoleCode" name="weTransPartyCode"/>
        <alias entity-alias="O" field="uomCode" name="weTransValueCode"/>
        <alias entity-alias="O" field="uomDescr" name="weTransValueDesc"/>
        <alias entity-alias="P" field="periodName" name="weTransPeriodName"/>
        <alias entity-alias="P" field="isClosed" name="weTransPeriodIsClosed"/>
        <alias entity-alias="Q" field="description" name="weTransPeriodTypeDesc"/>
        <alias entity-alias="E" name="glResourceTypeId"/>
        <alias entity-alias="T" name="workEffortTypeId" prim-key="false"/>
		<alias entity-alias="T" field="isTemplate" name="weIsTemplate"  />

        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="D">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="E" rel-entity-alias="F">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="T">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="G">
            <entity-condition>
                <condition-list combine="and">
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr entity-alias="A" field-name="productId" operator="equals" value="null"/>
                            <condition-expr entity-alias="G" field-name="productId" operator="equals" value="null"/>
                        </condition-list>
                        <condition-expr entity-alias="A" field-name="productId" rel-entity-alias="G" rel-field-name="productId"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr entity-alias="A" field-name="emplPositionTypeId" operator="equals" value="null"/>
                            <condition-expr entity-alias="G" field-name="emplPositionTypeId" operator="equals" value="null"/>
                        </condition-list>
                        <condition-expr entity-alias="A" field-name="emplPositionTypeId" rel-entity-alias="G" rel-field-name="emplPositionTypeId"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr entity-alias="A" field-name="roleTypeId" operator="equals" value="null"/>
                            <condition-expr entity-alias="A" field-name="partyId" operator="equals" value="null"/>
                            <condition-expr entity-alias="G" field-name="roleTypeId" operator="equals" value="null"/>
                            <condition-expr entity-alias="G" field-name="partyId" operator="equals" value="null"/>
                        </condition-list>
                        <condition-list>
                            <condition-expr entity-alias="A" field-name="partyId" rel-entity-alias="G" rel-field-name="partyId"/>
                            <condition-expr entity-alias="A" field-name="roleTypeId" rel-entity-alias="G" rel-field-name="roleTypeId"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr entity-alias="A" field-name="glAccountId" rel-entity-alias="G" rel-field-name="glAccountId"/>
                            <condition-expr entity-alias="E" field-name="accountTypeEnumId" operator="not-equals" value="FINANCIAL"/>
                        </condition-list>
                        <condition-list>
                            <condition-expr entity-alias="A" field-name="glAccountId" rel-entity-alias="G" rel-field-name="glAccountFinId"/>
                            <condition-expr entity-alias="E" field-name="accountTypeEnumId" operator="equals" value="FINANCIAL"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr entity-alias="G" field-name="transactionDate" operator="greater-equals" rel-entity-alias="A" rel-field-name="fromDate"/>
                    <condition-expr entity-alias="G" field-name="transactionDate" operator="less-equals" rel-entity-alias="A" rel-field-name="thruDate"/>
                    <condition-expr entity-alias="G" field-name="organizationPartyId" operator="equals" rel-entity-alias="B" rel-field-name="organizationId"/>
                    <condition-expr entity-alias="G" field-name="currencyUomId" operator="equals" rel-entity-alias="E" rel-field-name="defaultUomId"/>
                    <condition-list combine="or">
                        <condition-expr entity-alias="G" field-name="workEffortId" rel-entity-alias="A" rel-field-name="workEffortId"/>
                        <condition-expr entity-alias="A" field-name="weOtherGoalEnumId" operator="not-equals" value="WEMOMG_WEFF"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr entity-alias="A" field-name="weOtherGoalEnumId" operator="equals" value="WEMOMG_WEFF"/>
                            <condition-expr entity-alias="G" field-name="workEffortId" rel-entity-alias="A" rel-field-name="workEffortId"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr entity-alias="A" field-name="weOtherGoalEnumId" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr entity-alias="A" field-name="otherWorkEffortId" operator="not-equals" value="null"/>
                            <condition-expr entity-alias="G" field-name="workEffortId" rel-entity-alias="A" rel-field-name="otherWorkEffortId"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr entity-alias="A" field-name="weOtherGoalEnumId" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr entity-alias="A" field-name="otherWorkEffortId" operator="equals" value="null"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr entity-alias="A" field-name="weOtherGoalEnumId" operator="not-equals" value="WEMOMG_ORG"/>
                        <condition-list combine="and">
                            <condition-expr entity-alias="B" field-name="orgUnitRoleTypeId" rel-entity-alias="G" rel-field-name="orgRoleTypeId"/>
                            <condition-expr entity-alias="B" field-name="orgUnitId" rel-entity-alias="G" rel-field-name="orgUnitId"/>
                        </condition-list>
                    </condition-list>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="H" rel-optional="true">
            <key-map field-name="productId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="I" rel-optional="true">
            <key-map field-name="emplPositionTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="L" rel-optional="true">
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M" rel-optional="true">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="N" rel-optional="true">
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="O" rel-optional="true">
            <key-map field-name="workEffortMeasureId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr entity-alias="O" field-name="uomId" rel-entity-alias="G" rel-field-name="currencyUomId"/>
                    <condition-expr entity-alias="O" field-name="uomRatingValue" rel-entity-alias="G" rel-field-name="amount"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="P" rel-optional="true">
            <key-map field-name="periodTypeId" rel-field-name="periodTypeId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr entity-alias="P" field-name="fromDate" operator="less-equals" rel-entity-alias="G" rel-field-name="transactionDate"/>
                    <condition-expr entity-alias="P" field-name="thruDate" operator="greater-equals" rel-entity-alias="G" rel-field-name="transactionDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="Q" rel-optional="true">
            <key-map field-name="periodTypeId"/>
        </view-link>

        <relation rel-entity-name="WorkEffortMeasure" type="one-nofk">
            <key-map field-name="weTransMeasureId" rel-field-name="workEffortMeasureId"/>
            <key-map field-name="weTransWeId" rel-field-name="workEffortId"/>
            <key-map field-name="weTransAccountId" rel-field-name="glAccountId"/>
        </relation>

        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="weTransWeId" rel-field-name="workEffortId"/>
        </relation>
        <relation rel-entity-name="GlAccount" type="one-nofk">
            <key-map field-name="weTransAccountId" rel-field-name="glAccountId"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk" title="Resource">
            <key-map field-name="weTransWeId" rel-field-name="workEffortId"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk" title="Indicator">
            <key-map field-name="weTransWeId" rel-field-name="workEffortId"/>
        </relation>
    </view-entity>
    
    <view-entity entity-name="WorkEffortTransactionViewDetail" package-name="org.ofbiz.workeffort.workeffort">
        <description>WorkEffortTransactionViewDetail</description>
        <member-entity entity-name="WorkEffortMeasure" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="RoleType" entity-alias="L"/>
        <member-entity entity-name="PartyRole" entity-alias="M"/>
        <member-entity entity-name="PeriodType" entity-alias="Q"/>

        <alias entity-alias="A" field="workEffortId" name="weTransWeId"/>
        <alias entity-alias="A" field="workEffortMeasureId" name="weTransMeasureId" prim-key="true"/>
        
        <alias entity-alias="A" field="uomDescr" name="weTransUomDesc"/>
        <alias entity-alias="A" field="glAccountId" name="weTransAccountId"/>
        <alias entity-alias="A" field="productId" name="weTransProductId"/>
        <alias entity-alias="A" field="emplPositionTypeId" name="weTransEmplPosTypeId"/>
        <alias entity-alias="A" field="otherWorkEffortId" name="weTransOtherWorkEffortId"></alias>
        <alias entity-alias="A" field="weOtherGoalEnumId" name="weTransOtherMeasGoal"/>
        
        <alias entity-alias="B" name="workEffortTypeId" />
        
        <alias entity-alias="A" field="roleTypeId" name="weTransRoleId"/>
        <alias entity-alias="A" field="partyId" name="weTransPartyId"/>
        <alias entity-alias="L" field="description" name="weTransRoleDesc"/>
        
        <alias entity-alias="Q" field="description" name="weTransPeriodTypeDesc"/>
        <alias entity-alias="A" name="periodTypeId"/>
        
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M" rel-optional="true">
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="L" rel-optional="true">
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="Q" rel-optional="true">
            <key-map field-name="periodTypeId"/>
        </view-link>
        <relation rel-entity-name="WorkEffortMeasure" type="one-nofk">
            <key-map field-name="weTransMeasureId" rel-field-name="workEffortMeasureId"/>
            <key-map field-name="weTransWeId" rel-field-name="workEffortId"/>
            <key-map field-name="weTransAccountId" rel-field-name="glAccountId"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="weTransWeId" rel-field-name="workEffortId"/>
        </relation>
    </view-entity>

    <!-- View per trovare i workEffortId collegati con lo stesso ruolo della relazione di assegnazione -->
    <view-entity entity-name="WorkEffortAllocationRoleView" package-name="org.ofbiz.party.party">
        <member-entity entity-name="PartyRelationship" entity-alias="P"/>
        <member-entity entity-name="WorkEffortRoleAssignment" entity-alias="ASS"/>
        <alias name="workEffortId" entity-alias="ASS"/>
        <alias name="partyIdTo" entity-alias="P" prim-key="false"/>
        <view-link entity-alias="P" rel-entity-alias="ASS">
            <key-map field-name="roleTypeIdTo" rel-field-name="roleTypeId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr entity-alias="P" field-name="thruDate" value="null"/>
                    <condition-expr entity-alias="P" field-name="partyRelationshipTypeId" value="ORG_ALLOCATION"/>
                </condition-list>
            </entity-condition>
        </view-link>
    </view-entity>

    <!-- View per trovare i template della scheda -->
    <view-entity entity-name="TemplateView" package-name="org.ofbiz.party.party">
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <!-- schede con parentTypeId = CTX_EP, che sono root e template -->
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <!-- schede con actStEnumId = ACTSTATUS_ACTIVE -->
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="WP"/>
        <member-entity entity-name="WorkEffortAllocationRoleView" entity-alias="WR"/>

        <alias entity-alias="A" name="workEffortId" group-by="true"/>
        <alias entity-alias="A" name="workEffortTypeId" group-by="true"/>
        <alias entity-alias="A" name="workEffortName" group-by="true"/>
        <alias entity-alias="A" name="sourceReferenceId" group-by="true"/>
        <alias entity-alias="A" name="estimatedStartDate" group-by="true"/>
        <alias entity-alias="A" name="estimatedCompletionDate" group-by="true"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" prim-key="false" group-by="true"/>
        <alias entity-alias="B" field="description" name="weTypeDescription" group-by="true"/>
        <alias entity-alias="B" field="etch" name="etch" group-by="true"/>
        <alias entity-alias="B" name="parentTypeId" group-by="true"/>
        <alias entity-alias="C" field="description" name="weStatusDescr" group-by="true"/>

        <alias entity-alias="WR" name="roleAssWorkEffortId" field="workEffortId" group-by="true" prim-key="false"/>
        <alias entity-alias="WR" name="evalPartyId" field="partyIdTo" group-by="true" prim-key="false"/>
        <!-- unit org. selezionata nella mappa -->
        <alias entity-alias="WP" name="partyId" group-by="true" prim-key="false"/>
        <alias entity-alias="WP" name="roleTypeId" group-by="true" prim-key="false"/>
        <alias entity-alias="WP" name="partyAssWorkEffortId" field="workEffortId" group-by="true" prim-key="false"/>

        <!-- partyId del valutato -->
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr entity-alias="U" field-name="roleTypeId" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
                        <condition-expr entity-alias="B" field-name="parentTypeId" value="CTX_EP"/>
                        <condition-expr entity-alias="B" field-name="parentTypeId" value="CTX_DI"/>
                    </condition-list>
                    <condition-expr entity-alias="B" field-name="isRoot" value="Y"/>
                    <condition-expr entity-alias="B" field-name="isTemplate" value="Y"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
            <entity-condition>
                <condition-expr entity-alias="C" field-name="actStEnumId" value="ACTSTATUS_ACTIVE"/>
            </entity-condition>
        </view-link>
        <!-- relazione con workEffort per il ruolo roleTypeId preso dalla mappa -->
        <view-link entity-alias="A" rel-entity-alias="WP" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
            <key-map field-name="estimatedCompletionDate" rel-field-name="thruDate"/>
        </view-link>
        <!-- oppure relazione con workEffort per il ruolo in WorkEffortRoleAssignment -->
        <view-link entity-alias="A" rel-entity-alias="WR" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="MyPerformance" package-name="org.ofbiz.party.party">
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="ST" entity-name="StatusItem"/>
        <member-entity entity-alias="T" entity-name="WorkEffortType"/>
        <member-entity entity-alias="P" entity-name="WorkEffortPartyAssignment"/>
        <member-entity entity-alias="UO" entity-name="Party"/>
        <member-entity entity-alias="U" entity-name="UserLogin"/>
        <member-entity entity-alias="O" entity-name="WorkEffortPartyAssignment"/>
        <member-entity entity-alias="PA" entity-name="Party"/>
        <member-entity entity-alias="PPR" entity-name="PartyParentRole"/>
        <alias name="userLoginId" entity-alias="U" group-by="true"/>
        <alias name="estimatedStartDate" entity-alias="W" group-by="true"/>
        <alias name="estimatedCompletionDate" entity-alias="W" group-by="true"/>
        <alias name="workEffortId" entity-alias="W" group-by="true"/>
        <alias name="workEffortName" entity-alias="W" group-by="true"/>
        <alias name="weHierarchyTypeId" entity-alias="T" field="hierarchyAssocTypeId" group-by="true"/>
        <alias name="sourceReferenceId" entity-alias="W" group-by="true"/>
        <alias name="weTypeDescription" entity-alias="T" field="description" group-by="true"/>
        <alias name="orgUnitId" entity-alias="W" group-by="true"/>
        <alias name="orgUnitName" entity-alias="UO" field="partyName" group-by="true"/>
        <alias name="partyId" entity-alias="PA" group-by="true"/>
        <alias name="partyName" entity-alias="PA" group-by="true"/>
        <alias name="currentStatusId" entity-alias="W" group-by="true"/>
        <alias name="stDescription" entity-alias="ST" field="description" group-by="true"/>
        <alias name="stDescriptionLang" entity-alias="ST" field="descriptionLang" group-by="true"/>
        <alias name="orgUnitRoleCode" entity-alias="PPR" field="parentRoleCode" group-by="true"/>
        <alias name="weTypeDescriptionLang" entity-alias="T" field="descriptionLang" group-by="true"/>
        <alias name="weTypeEtch" entity-alias="T" field="etch" group-by="true"/>
        <alias name="weTypeEtchLang" entity-alias="T" field="etchLang" group-by="true"/>
        <alias name="sequenceId" entity-alias="ST" function="min"/>

        <view-link rel-entity-alias="T" entity-alias="W">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="parentTypeId" entity-alias="T" value="CTX_EP"/>
                    <condition-expr field-name="isRoot" entity-alias="T" value="Y"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="ST" entity-alias="W">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link rel-entity-alias="P" entity-alias="W">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="estimatedCompletionDate" rel-field-name="thruDate"/>
                    <condition-expr field-name="roleTypeId" entity-alias="P" value="WEM_EVAL_IN_CHARGE"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="U" entity-alias="P">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link rel-entity-alias="UO" entity-alias="W">
            <key-map rel-field-name="partyId" field-name="orgUnitId"/>
        </view-link>
        <view-link rel-entity-alias="O" entity-alias="W" rel-optional="true">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="estimatedCompletionDate" rel-field-name="thruDate"/>
                    <condition-expr field-name="roleTypeId" entity-alias="O" value="WEM_EVAL_MANAGER"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="PA" entity-alias="O" rel-optional="true">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link rel-entity-alias="PPR" entity-alias="W">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
            <entity-condition>
            	<condition-list>
            	    <condition-expr field-name="roleTypeId" entity-alias="PPR" value="ORGANIZATION_UNIT"/>
            	</condition-list>
            </entity-condition>
        </view-link>
    </view-entity>

    <!-- View per trovare le unit organizzative dei soggetti valutati che non nessuna scheda creata -->
    <view-entity entity-name="PartyEvalOrganizationView" package-name="org.ofbiz.party.party">
        <member-entity entity-name="PartyRoleView" entity-alias="V"/>
        <!-- <member-entity entity-name="PartyRole" entity-alias="V"/> -->
        <member-entity entity-name="PartyRelationship" entity-alias="AL"/>
        <member-entity entity-name="PartyEvaluationPlanOrgUnit" entity-alias="W"/>
        <!-- partyId del valutato -->
        <alias name="evalPartyId" field="partyIdTo" entity-alias="AL" group-by="true"/>
        <!-- campi di PartyRoleView dell'unit. org. del valutato da visualizzare -->
        <alias name="partyId" entity-alias="V" group-by="true"/>
        <alias name="roleTypeId" entity-alias="V" group-by="true"/>
        <alias name="parentRoleCode" entity-alias="V" group-by="true"/>
        <alias name="partyTypeId" entity-alias="V" group-by="true"/>
        <alias name="roleDescription" entity-alias="V" group-by="true"/>
        <alias name="parentRoleTypeId" entity-alias="V" group-by="true"/>
        <alias name="partyName" entity-alias="V" group-by="true"/>
        <alias name="statusId" entity-alias="V" group-by="true"/>
        <view-link entity-alias="AL" rel-entity-alias="V">
            <key-map field-name="partyIdFrom" rel-field-name="partyId"/>
            <key-map field-name="roleTypeIdFrom" rel-field-name="roleTypeId"/>
            <entity-condition>
                <condition-list>
                    <!-- GN-475
                        <condition-expr entity-alias="AL" value="ORG_ALLOCATION" field-name="partyRelationshipTypeId"/> -->
                    <condition-expr entity-alias="AL" value="ORG_EMPLOYMENT" field-name="partyRelationshipTypeId"/>
                    <condition-expr entity-alias="AL" value="null" field-name="thruDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="W" entity-alias="V" rel-optional="true">
            <key-map rel-field-name="orgUnitId" field-name="partyId"/>
            <key-map rel-field-name="orgUnitRoleTypeId" field-name="roleTypeId"/>
            <entity-condition>
                <condition-expr entity-alias="W" rel-field-name="partyIdTo" rel-entity-alias="AL" field-name="partyId"/>
            </entity-condition>
        </view-link>
        <entity-condition>
            <condition-expr entity-alias="W" value="null" field-name="orgUnitId"/>
        </entity-condition>
    </view-entity>
    
    <!-- GN-969 View per trovare le unit organizzative dei soggetti valutati senza controllo sulle schede gia create -->
    <view-entity entity-name="PartyEvalAllOrganizationView" package-name="org.ofbiz.party.party">
        <member-entity entity-name="PartyRoleView" entity-alias="V"/>
        <member-entity entity-name="PartyRelationship" entity-alias="AL"/>
        <!-- partyId del valutato -->
        <alias name="evalPartyId" field="partyIdTo" entity-alias="AL" group-by="true"/>
        <!-- campi di PartyRoleView dell'unit. org. del valutato da visualizzare -->
        <alias name="partyId" entity-alias="V" group-by="true"/>
        <alias name="roleTypeId" entity-alias="V" group-by="true"/>
        <alias name="parentRoleCode" entity-alias="V" group-by="true"/>
        <alias name="partyTypeId" entity-alias="V" group-by="true"/>
        <alias name="roleDescription" entity-alias="V" group-by="true"/>
        <alias name="parentRoleTypeId" entity-alias="V" group-by="true"/>
        <alias name="partyName" entity-alias="V" group-by="true"/>
        <alias name="statusId" entity-alias="V" group-by="true"/>
        <alias name="partyRelationshipTypeId" entity-alias="AL" group-by="true"/>
        <view-link entity-alias="AL" rel-entity-alias="V">
            <key-map field-name="partyIdFrom" rel-field-name="partyId"/>
            <key-map field-name="roleTypeIdFrom" rel-field-name="roleTypeId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr entity-alias="AL" value="null" field-name="thruDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="PartyEvalAllOrgView" package-name="org.ofbiz.party.party">
        <member-entity entity-name="PartyRoleView" entity-alias="V"/>
        <!-- <member-entity entity-name="PartyRole" entity-alias="V"/> -->
        <member-entity entity-name="PartyRelationship" entity-alias="AL"/>
        <member-entity entity-name="PartyEvaluationPlanOrgUnit" entity-alias="W"/>
        <!-- partyId del valutato -->
        <alias name="evalPartyId" field="partyIdTo" entity-alias="AL" group-by="true"/>
        <!-- campi di PartyRoleView dell'unit. org. del valutato da visualizzare -->
        <alias name="partyId" entity-alias="V" group-by="true"/>
        <alias name="roleTypeId" entity-alias="V" group-by="true"/>
        <alias name="parentRoleCode" entity-alias="V" group-by="true"/>
        <alias name="partyTypeId" entity-alias="V" group-by="true"/>
        <alias name="roleDescription" entity-alias="V" group-by="true"/>
        <alias name="parentRoleTypeId" entity-alias="V" group-by="true"/>
        <alias name="partyName" entity-alias="V" group-by="true"/>
        <alias name="statusId" entity-alias="V" group-by="true"/>
        <alias name="orgUnitIdParty" field="orgUnitId" entity-alias="W" group-by="true"/>
        <alias name="partyRelationshipTypeId" entity-alias="AL" group-by="true"/>
        <view-link entity-alias="AL" rel-entity-alias="V">
            <key-map field-name="partyIdFrom" rel-field-name="partyId"/>
            <key-map field-name="roleTypeIdFrom" rel-field-name="roleTypeId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr entity-alias="AL" value="null" field-name="thruDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link rel-entity-alias="W" entity-alias="V" rel-optional="true">
            <key-map rel-field-name="orgUnitId" field-name="partyId"/>
            <key-map rel-field-name="orgUnitRoleTypeId" field-name="roleTypeId"/>
            <entity-condition>
                <condition-expr entity-alias="W" rel-field-name="partyIdTo" rel-entity-alias="AL" field-name="partyId"/>
            </entity-condition>
        </view-link>        
    </view-entity>

    <!-- View per trovare le unit organizzative dei soggetti valutati legati all' utente loggato se  un Responsabile con controllo se gia sono state create delle schede -->
    <view-entity entity-name="PartyEvalOrganizationOrgPermissionView" package-name="org.ofbiz.party.party">
        <member-entity entity-name="PartyRoleView" entity-alias="V"/>
        <!-- <member-entity entity-name="PartyRole" entity-alias="V"/> -->
        <member-entity entity-name="PartyRelationship" entity-alias="AL"/>
        <member-entity entity-name="PartyRelationship" entity-alias="RESP"/>
        <member-entity entity-name="UserLogin" entity-alias="U"/>
        <member-entity entity-name="PartyEvaluationPlanOrgUnit" entity-alias="W"/>
        <!-- utente loggato -->
        <alias name="partyUserLoginId" field="userLoginId" entity-alias="U" group-by="true"/>
        <!-- partyId del valutato -->
        <alias name="evalPartyId" field="partyIdTo" entity-alias="AL" group-by="true"/>
        <!-- campi di PartyRoleView dell'unit. org. del valutato da visualizzare -->
        <alias name="partyId" entity-alias="V" group-by="true"/>
        <alias name="roleTypeId" entity-alias="V" group-by="true"/>
        <alias name="parentRoleTypeId" entity-alias="V" group-by="true"/>
        <alias name="parentRoleCode" entity-alias="V" group-by="true"/>
        <alias name="partyTypeId" entity-alias="V" group-by="true"/>
        <alias name="roleDescription" entity-alias="V" group-by="true"/>
        <alias name="partyName" entity-alias="V" group-by="true"/>
        <alias name="statusId" entity-alias="V" group-by="true"/>
        <view-link entity-alias="AL" rel-entity-alias="V">
            <key-map field-name="partyIdFrom" rel-field-name="partyId"/>
            <key-map field-name="roleTypeIdFrom" rel-field-name="roleTypeId"/>
            <entity-condition>
                <condition-list>
                    <!-- GN-475
                        <condition-expr entity-alias="AL" value="ORG_ALLOCATION" field-name="partyRelationshipTypeId"/> -->
                    <condition-expr entity-alias="AL" value="ORG_EMPLOYMENT" field-name="partyRelationshipTypeId"/>
                    <condition-expr entity-alias="AL" value="null" field-name="thruDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="AL" rel-entity-alias="RESP">
            <key-map field-name="partyIdFrom"/>
            <key-map field-name="roleTypeIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
                        <condition-expr entity-alias="RESP" value="ORG_RESPONSIBLE" field-name="partyRelationshipTypeId"/>
                        <condition-expr entity-alias="RESP" value="ORG_DELEGATE" field-name="partyRelationshipTypeId"/>
                    </condition-list>
                    <condition-expr entity-alias="RESP" value="null" field-name="thruDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="RESP" rel-entity-alias="U">
            <key-map field-name="partyIdTo" rel-field-name="partyId"/>
        </view-link>
        <view-link rel-entity-alias="W" entity-alias="V" rel-optional="true">
            <key-map rel-field-name="orgUnitId" field-name="partyId"/>
            <key-map rel-field-name="orgUnitRoleTypeId" field-name="roleTypeId"/>
            <entity-condition>
                <condition-expr entity-alias="W" rel-field-name="partyIdTo" rel-entity-alias="AL" field-name="partyId"/>
            </entity-condition>
        </view-link>
        <entity-condition>
            <condition-expr entity-alias="W" value="null" field-name="orgUnitId"/>
        </entity-condition>
    </view-entity>
    
    <!-- GN-969 View per trovare le unit organizzative dei soggetti valutati legati all' utente loggato se  un Responsabile senza controllo se gia sono state create delle schede -->
    <view-entity entity-name="PartyEvalAllOrganizationOrgPermissionView" package-name="org.ofbiz.party.party">
        <member-entity entity-name="PartyRoleView" entity-alias="V"/>
        <!-- <member-entity entity-name="PartyRole" entity-alias="V"/> -->
        <member-entity entity-name="PartyRelationship" entity-alias="AL"/>
        <member-entity entity-name="PartyRelationship" entity-alias="RESP"/>
        <member-entity entity-name="UserLogin" entity-alias="U"/>
        <!-- utente loggato -->
        <alias name="partyUserLoginId" field="userLoginId" entity-alias="U" group-by="true"/>
        <!-- partyId del valutato -->
        <alias name="evalPartyId" field="partyIdTo" entity-alias="AL" group-by="true"/>
        <!-- campi di PartyRoleView dell'unit. org. del valutato da visualizzare -->
        <alias name="partyId" entity-alias="V" group-by="true"/>
        <alias name="roleTypeId" entity-alias="V" group-by="true"/>
        <alias name="parentRoleTypeId" entity-alias="V" group-by="true"/>
        <alias name="parentRoleCode" entity-alias="V" group-by="true"/>
        <alias name="partyTypeId" entity-alias="V" group-by="true"/>
        <alias name="roleDescription" entity-alias="V" group-by="true"/>
        <alias name="partyName" entity-alias="V" group-by="true"/>
        <alias name="statusId" entity-alias="V" group-by="true"/>
        <alias name="partyRelationshipTypeId" entity-alias="AL" group-by="true"/>
        <view-link entity-alias="AL" rel-entity-alias="V">
            <key-map field-name="partyIdFrom" rel-field-name="partyId"/>
            <key-map field-name="roleTypeIdFrom" rel-field-name="roleTypeId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr entity-alias="AL" value="null" field-name="thruDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="AL" rel-entity-alias="RESP">
            <key-map field-name="partyIdFrom"/>
            <key-map field-name="roleTypeIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
	                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="RESP" operator="equals" value="ORG_RESPONSIBLE"/>
	                	<condition-list>
	                    	<condition-expr field-name="partyRelationshipTypeId" entity-alias="RESP" operator="equals" value="ORG_DELEGATE"/>
	                    	<condition-list combine="or">
	                    		<condition-expr field-name="ctxEnabled" entity-alias="RESP" operator="equals" value="CTX_EP"/>
	                    		<condition-expr field-name="ctxEnabled" entity-alias="RESP" value="null"/>
	                		</condition-list>
	                    </condition-list>
                	</condition-list>
                    <condition-expr entity-alias="RESP" value="null" field-name="thruDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="RESP" rel-entity-alias="U">
            <key-map field-name="partyIdTo" rel-field-name="partyId"/>
        </view-link>
    </view-entity>
    
    <!-- GN-969 View per trovare le unit organizzative dei soggetti valutati legati all' utente loggato se  un Responsabile senza controllo se gia sono state create delle schede -->
    <view-entity entity-name="PartyEvalAllOrgOrgPermissionView" package-name="org.ofbiz.party.party">
        <member-entity entity-name="PartyRoleView" entity-alias="V"/>
        <!-- <member-entity entity-name="PartyRole" entity-alias="V"/> -->
        <member-entity entity-name="PartyRelationship" entity-alias="AL"/>
        <member-entity entity-name="PartyRelationship" entity-alias="RESP"/>
        <member-entity entity-name="UserLogin" entity-alias="U"/>
        <member-entity entity-name="PartyEvaluationPlanOrgUnit" entity-alias="W"/>
        <!-- utente loggato -->
        <alias name="partyUserLoginId" field="userLoginId" entity-alias="U" group-by="true"/>
        <!-- partyId del valutato -->
        <alias name="evalPartyId" field="partyIdTo" entity-alias="AL" group-by="true"/>
        <!-- campi di PartyRoleView dell'unit. org. del valutato da visualizzare -->
        <alias name="partyId" entity-alias="V" group-by="true"/>
        <alias name="roleTypeId" entity-alias="V" group-by="true"/>
        <alias name="parentRoleTypeId" entity-alias="V" group-by="true"/>
        <alias name="parentRoleCode" entity-alias="V" group-by="true"/>
        <alias name="partyTypeId" entity-alias="V" group-by="true"/>
        <alias name="roleDescription" entity-alias="V" group-by="true"/>
        <alias name="partyName" entity-alias="V" group-by="true"/>
        <alias name="statusId" entity-alias="V" group-by="true"/>
        <alias name="orgUnitIdParty" field="orgUnitId" entity-alias="W" group-by="true"/>
        <alias name="partyRelationshipTypeId" entity-alias="AL" group-by="true"/>
        <view-link entity-alias="AL" rel-entity-alias="V">
            <key-map field-name="partyIdFrom" rel-field-name="partyId"/>
            <key-map field-name="roleTypeIdFrom" rel-field-name="roleTypeId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr entity-alias="AL" value="null" field-name="thruDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="AL" rel-entity-alias="RESP">
            <key-map field-name="partyIdFrom"/>
            <key-map field-name="roleTypeIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
                        <condition-expr entity-alias="RESP" value="ORG_RESPONSIBLE" field-name="partyRelationshipTypeId"/>
                        <condition-expr entity-alias="RESP" value="ORG_DELEGATE" field-name="partyRelationshipTypeId"/>
                    </condition-list>
                    <condition-expr entity-alias="RESP" value="null" field-name="thruDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="RESP" rel-entity-alias="U">
            <key-map field-name="partyIdTo" rel-field-name="partyId"/>
        </view-link>
        <view-link rel-entity-alias="W" entity-alias="V" rel-optional="true">
            <key-map rel-field-name="orgUnitId" field-name="partyId"/>
            <key-map rel-field-name="orgUnitRoleTypeId" field-name="roleTypeId"/>
            <entity-condition>
                <condition-expr entity-alias="W" rel-field-name="partyIdTo" rel-entity-alias="AL" field-name="partyId"/>
            </entity-condition>
        </view-link>        
    </view-entity>


    <view-entity entity-name="WorkEffortTemplAssoc" package-name="">
        <member-entity entity-name="WorkEffortAssoc" entity-alias="A"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="R"/>
        <alias name="fromDate" entity-alias="R" group-by="true"/>
        <alias name="thruDate" prim-key="false" entity-alias="R" group-by="true"/>
        <alias name="workEffortRootId" prim-key="false" field="workEffortIdFrom" entity-alias="R" group-by="true"/>
        <alias name="workEffortIdFrom" entity-alias="A" group-by="true"/>
        <alias name="workEffortIdTo" entity-alias="A" group-by="true"/>
        <view-link entity-alias="A" rel-entity-alias="R">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortIdTo"/>
            <key-map field-name="fromDate" rel-field-name="fromDate"/>
            <key-map field-name="thruDate" rel-field-name="thruDate"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="workEffortAssocTypeId" entity-alias="R" value="ROOT"/>
                    <condition-expr field-name="workEffortAssocTypeId" entity-alias="A" value="TEMPL"/>
                </condition-list>
            </entity-condition>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortOtherAssoc" package-name="org.ofbiz.party.party">
        <member-entity entity-name="WorkEffortTemplAssoc" entity-alias="AA"/>
        <member-entity entity-name="WorkEffortTemplAssoc" entity-alias="ADA"/>
        <member-entity entity-name="WorkEffort" entity-alias="WA"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="ORI"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="ORDA"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="ORA"/>
        <member-entity entity-name="WorkEffort" entity-alias="WDA"/>
        <member-entity entity-name="WorkEffortType" entity-alias="T"/>
        <member-entity entity-name="WorkEffort" entity-alias="ROOT"/>
        <alias name="workEffortAssocTypeId" field="hierarchyAssocTypeId" entity-alias="T" group-by="true"/>
        <alias name="workEffortRootIdFrom" field="workEffortRootId" entity-alias="ADA" group-by="true"/>
        <alias name="workEffortRootIdTo" field="workEffortRootId" entity-alias="AA" group-by="true"/>
        <alias name="fromDate" entity-alias="ADA" group-by="true"/>
        <alias name="thruDate" prim-key="false" entity-alias="ADA" group-by="true"/>
        <alias name="thruDateOriginalFrom" field="thruDate" prim-key="false" entity-alias="ORDA" group-by="true"/>
        <alias name="thruDateOriginalTo" field="thruDate" prim-key="false" entity-alias="ORA" group-by="true"/>
        <alias name="estimatedCompletionDateFrom" field="estimatedCompletionDate" prim-key="false" entity-alias="WDA" group-by="true"/>
        <alias name="estimatedCompletionDateTo" field="estimatedCompletionDate" prim-key="false" entity-alias="WA" group-by="true"/>
        <alias name="workEffortIdFrom" field="workEffortIdFrom" entity-alias="ADA" group-by="true"/>
        <alias name="workEffortIdTo" field="workEffortIdFrom" entity-alias="AA" group-by="true"/>
        <alias name="origWorkEffortIdFrom" field="workEffortIdFrom" entity-alias="ORI" group-by="true"/>
        <alias name="origWorkEffortIdTo" field="workEffortIdTo" entity-alias="ORI" group-by="true"/>
        <alias name="origWorkEffortAssocTypeId" field="workEffortAssocTypeId" entity-alias="ORI" group-by="true"/>

        <alias name="sequenceNum" entity-alias="ORI" group-by="true"/>
        <alias name="assocWeight" entity-alias="ORI" group-by="true"/>
        <view-link entity-alias="ORI" rel-entity-alias="WA">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="ORI" rel-entity-alias="ADA">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortIdTo"/>
        </view-link>
        <view-link entity-alias="ORI" rel-entity-alias="AA">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortIdTo"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="fromDate" entity-alias="AA" rel-field-name="fromDate" rel-entity-alias="ADA"/>
                    <condition-expr field-name="thruDate" entity-alias="AA" rel-field-name="thruDate" rel-entity-alias="ADA"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="ORI" rel-entity-alias="WDA">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="ORI" rel-entity-alias="ORA">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortIdTo"/>
            <entity-condition>
                <condition-expr entity-alias="ORA" field-name="workEffortAssocTypeId" operator="equals" value="ROOT"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="ORI" rel-entity-alias="ORDA">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortIdTo"/>
            <entity-condition>
                <condition-expr entity-alias="ORDA" field-name="workEffortAssocTypeId" operator="equals" value="ROOT"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="ADA" rel-entity-alias="ROOT">
            <key-map field-name="workEffortRootId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="ROOT" rel-entity-alias="T">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <relation rel-entity-name="WorkEffortAssocAttribute" type="many" title="Orig">
            <key-map field-name="origWorkEffortAssocTypeId" rel-field-name="workEffortAssocTypeId"/>
            <key-map field-name="origWorkEffortIdFrom" rel-field-name="workEffortIdFrom"/>
            <key-map field-name="origWorkEffortIdTo" rel-field-name="workEffortIdTo"/>
            <key-map field-name="fromDate"/>
        </relation>
        <entity-condition>
            <condition-list combine="and">
                <condition-expr entity-alias="ORI" field-name="workEffortAssocTypeId" operator="not-equals" value="ROOT"/>
                <condition-expr entity-alias="ORI" field-name="workEffortAssocTypeId" operator="not-equals" value="TEMPL"/>
                <condition-list combine="or">
                    <condition-expr field-name="thruDate" entity-alias="ORI" rel-field-name="estimatedCompletionDate" rel-entity-alias="WDA"/>
                    <condition-expr field-name="thruDate" entity-alias="ORI" rel-field-name="estimatedCompletionDate" rel-entity-alias="WA"/>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortOtherAssocAttribute" package-name="org.ofbiz.party.party">
        <member-entity entity-name="WorkEffortTemplAssoc" entity-alias="AA"/>
        <member-entity entity-name="WorkEffortTemplAssoc" entity-alias="ADA"/>
        <member-entity entity-name="WorkEffort" entity-alias="WA"/>
        <member-entity entity-name="WorkEffortAssocAttribute" entity-alias="ATT"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="ORI"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="ORDA"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="ORA"/>
        <member-entity entity-name="WorkEffort" entity-alias="WDA"/>
        <member-entity entity-name="WorkEffortType" entity-alias="T"/>
        <member-entity entity-name="WorkEffort" entity-alias="ROOT"/>
        <alias name="workEffortAssocTypeId" field="hierarchyAssocTypeId" entity-alias="T" group-by="true"/>
        <alias name="workEffortRootIdFrom" field="workEffortRootId" entity-alias="ADA" group-by="true"/>
        <alias name="workEffortRootIdTo" field="workEffortRootId" entity-alias="AA" group-by="true"/>
        <alias name="fromDate" entity-alias="ADA" group-by="true"/>
        <alias name="thruDate" prim-key="false" entity-alias="ADA" group-by="true"/>
        <alias name="thruDateOriginalFrom" field="thruDate" prim-key="false" entity-alias="ORDA" group-by="true"/>
        <alias name="thruDateOriginalTo" field="thruDate" prim-key="false" entity-alias="ORA" group-by="true"/>
        <alias name="estimatedCompletionDateFrom" field="estimatedCompletionDate" prim-key="false" entity-alias="WDA" group-by="true"/>
        <alias name="estimatedCompletionDateTo" field="estimatedCompletionDate" prim-key="false" entity-alias="WA" group-by="true"/>
        <alias name="workEffortIdFrom" field="workEffortIdFrom" entity-alias="ADA" group-by="true"/>
        <alias name="workEffortIdTo" field="workEffortIdFrom" entity-alias="AA" group-by="true"/>
        <alias name="origWorkEffortIdFrom" field="workEffortIdFrom" entity-alias="ORI" group-by="true"/>
        <alias name="origWorkEffortIdTo" field="workEffortIdTo" entity-alias="ORI" group-by="true"/>
        <alias name="origWorkEffortAssocTypeId" field="workEffortAssocTypeId" entity-alias="ORI" group-by="true"/>
        <alias name="isPosted" entity-alias="ORI" group-by="true"/>
        <alias name="attrName" entity-alias="ATT" group-by="true"/>
        <alias name="attrValue" entity-alias="ATT" group-by="true"/>

        <alias name="sequenceNum" entity-alias="ORI" group-by="true"/>
        <alias name="assocWeight" entity-alias="ORI" group-by="true"/>
        <view-link entity-alias="ORI" rel-entity-alias="ATT" rel-optional="true">
            <key-map field-name="workEffortIdFrom"/>
            <key-map field-name="workEffortIdTo"/>
            <key-map field-name="workEffortAssocTypeId"/>
            <key-map field-name="fromDate"/>
        </view-link>
        <view-link entity-alias="ORI" rel-entity-alias="WA">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="ORI" rel-entity-alias="ADA">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortIdTo"/>
        </view-link>
        <view-link entity-alias="ORI" rel-entity-alias="AA">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortIdTo"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="fromDate" entity-alias="AA" rel-field-name="fromDate" rel-entity-alias="ADA"/>
                    <condition-expr field-name="thruDate" entity-alias="AA" rel-field-name="thruDate" rel-entity-alias="ADA"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="ORI" rel-entity-alias="WDA">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="ORI" rel-entity-alias="ORA">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortIdTo"/>
            <entity-condition>
                <condition-expr entity-alias="ORA" field-name="workEffortAssocTypeId" operator="equals" value="ROOT"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="ORI" rel-entity-alias="ORDA">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortIdTo"/>
            <entity-condition>
                <condition-expr entity-alias="ORDA" field-name="workEffortAssocTypeId" operator="equals" value="ROOT"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="ADA" rel-entity-alias="ROOT">
            <key-map field-name="workEffortRootId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="ROOT" rel-entity-alias="T">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <entity-condition>
            <condition-list combine="and">
                <condition-expr entity-alias="ORI" field-name="workEffortAssocTypeId" operator="not-equals" value="ROOT"/>
                <condition-expr entity-alias="ORI" field-name="workEffortAssocTypeId" operator="not-equals" value="TEMPL"/>
                <condition-list combine="or">
                    <condition-expr field-name="thruDate" entity-alias="ORI" rel-field-name="estimatedCompletionDate" rel-entity-alias="WDA"/>
                    <condition-expr field-name="thruDate" entity-alias="ORI" rel-field-name="estimatedCompletionDate" rel-entity-alias="WA"/>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="AcctgTransAndEntry" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="AcctgTrans" entity-alias="A"/>
        <member-entity entity-name="AcctgTransEntry" entity-alias="B"/>
        <alias entity-alias="A" name="acctgTransId"/>
        <alias entity-alias="A" name="transactionDate"/>
        <alias entity-alias="A" name="voucherRef"/>
        <alias entity-alias="A" name="glFiscalTypeId"/>
        <alias entity-alias="B" name="description"/>
        <alias entity-alias="B" name="amount"/>
        <alias entity-alias="B" name="currencyUomId"/>
        <alias entity-alias="A" name="isPosted"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="acctgTransId" rel-field-name="acctgTransId"/>
            <key-map field-name="voucherRef" rel-field-name="voucherRef"/>
        </view-link>
    </view-entity>




    <!-- ========================================================
        Activity 2302 : Viste
        ======================================================== -->

    <view-entity entity-name="AcctgTransGroupIdBudget" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="AcctgTrans" entity-alias="A"/>
        <member-entity entity-name="AcctgTransEntry" entity-alias="B"/>
        <alias name="transactionId" entity-alias="A" field="acctgTransId" function="max"/>
        <alias name="transactionDate" entity-alias="A" field="transactionDate" group-by="true"/>
        <alias name="workEffortId" entity-alias="A" field="workEffortId" group-by="true"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="acctgTransId" rel-field-name="acctgTransId"/>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr entity-alias="A" field-name="glFiscalTypeId" value="BUDGET"/>
                <condition-expr entity-alias="B" field-name="glAccountId" value="SCORE"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="AcctgTransGroupByDate" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="AcctgTrans" entity-alias="A"/>
        <member-entity entity-name="AcctgTransEntry" entity-alias="B"/>
        <alias name="workEffortId" entity-alias="A" field="workEffortId" group-by="true"/>
        <alias name="maxTransactionDate" entity-alias="A" field="transactionDate" function="max"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="acctgTransId" rel-field-name="acctgTransId"/>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr entity-alias="A" field-name="glFiscalTypeId" value="ACTUAL"/>
                <condition-expr entity-alias="B" field-name="glAccountId" value="SCORE"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortTargetBudget" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="AcctgTrans" entity-alias="A"/>
        <member-entity entity-name="AcctgTransEntry" entity-alias="B"/>
        <member-entity entity-name="AcctgTransGroupIdBudget" entity-alias="C"/>
        <alias name="workEffortId" entity-alias="A" field="workEffortId"/>
        <alias name="transactionDate" entity-alias="A" field="transactionDate"/>
        <alias name="amount" entity-alias="B" field="amount"/>
        <alias name="hasAlert" entity-alias="B" field="hasScoreAlert"/>
        <alias name="glFiscalTypeIdBudget" entity-alias="A" field="glFiscalTypeId"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="acctgTransId" rel-field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="acctgTransId" rel-field-name="transactionId"/>
            <key-map field-name="transactionDate" rel-field-name="transactionDate"/>
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr entity-alias="A" field-name="glFiscalTypeId" value="BUDGET"/>
                <condition-expr entity-alias="B" field-name="glAccountId" value="SCORE"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortAssocChild" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAssoc" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="WorkEffort" entity-alias="C"/>
        <member-entity entity-name="WorkEffortType" entity-alias="D"/>
        <member-entity entity-name="WorkEffortAssocType" entity-alias="E"/>
        <alias name="workEffortIdFrom" entity-alias="A" group-by="true" field="workEffortIdFrom"/>
        <alias name="workEffortName" entity-alias="B" group-by="true" field="workEffortName"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr entity-alias="D" field-name="isTemplate" value="N"/>
                    <condition-expr entity-alias="D" field-name="parentTypeId" operator="like" value="CTX%"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E">
            <key-map field-name="workEffortAssocTypeId" rel-field-name="workEffortAssocTypeId"/>
            <entity-condition>
                <condition-list combine="or">
                    <condition-expr entity-alias="E" field-name="parentTypeId" value="HIE"/>
                    <condition-expr entity-alias="A" field-name="workEffortAssocTypeId" operator="equals" rel-entity-alias="C" rel-field-name="workEffortAssocTypeId"/>
                </condition-list>
            </entity-condition>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortMaxWeight" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="Z"/>
        <member-entity entity-name="WorkEffort" entity-alias="Y"/>
        <alias name="maxRoleTypeWeight" entity-alias="Z" field="roleTypeWeight" function="max"></alias>
        <alias name="workEffortId" entity-alias="Z" field="workEffortId" group-by="true"></alias>
        <view-link entity-alias="Z" rel-entity-alias="Y">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
            <key-map field-name="thruDate" rel-field-name="estimatedCompletionDate"/>
        </view-link>
        <entity-condition>
            <condition-expr field-name="roleTypeId" entity-alias="Z" operator="like" value="WEM%CHARGE"/>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortInCharge" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="A"/>
        <member-entity entity-name="Party" entity-alias="B"/>
        <member-entity entity-name="WorkEffort" entity-alias="C"/>
        <member-entity entity-name="WorkEffortMaxWeight" entity-alias="D"/>
        <alias name="workEffortId" entity-alias="A" field="workEffortId" group-by="true"></alias>
        <alias name="maxPartyName" entity-alias="B" field="partyName" function="max"></alias>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="partyId" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
            <key-map field-name="thruDate" rel-field-name="estimatedCompletionDate"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="roleTypeWeight" rel-field-name="maxRoleTypeWeight"/>
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </view-link>
        <entity-condition>
            <condition-expr field-name="roleTypeId" entity-alias="A" operator="like" value="WEM%CHARGE"/>
        </entity-condition>
    </view-entity>


    <!--
        View complessiva
    -->
    <view-entity entity-name="ScoreAccount" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="AcctgTrans" entity-alias="Q"/>
        <member-entity entity-name="AcctgTransEntry" entity-alias="R"/>

        <alias name="workEffortId" entity-alias="Q"/>
        <alias name="transactionDate" entity-alias="Q"/>
        <alias name="amount" entity-alias="R"/>
        <alias name="glFiscalTypeId" entity-alias="R"/>
        <alias name="hasScoreAlert" entity-alias="R"/>

        <view-link entity-alias="Q" rel-entity-alias="R">
            <key-map field-name="acctgTransId"/>
        </view-link>

        <entity-condition>
            <condition-list>
                <condition-expr field-name="glAccountId" entity-alias="R" value="SCORE"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortAchieveView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAnalysis" entity-alias="Y"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="AP"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="ScoreAccount" entity-alias="I"/>
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="M"/>
        <member-entity entity-name="UserLogin" entity-alias="N"/>
        <member-entity entity-name="StatusItem" entity-alias="S"/>

        <alias name="workEffortAnalysisId" entity-alias="Y"/>
        <alias name="workEffortId" entity-alias="A"/>
        <alias name="workEffortParentId" entity-alias="A"/>
        <alias name="etch" entity-alias="A"/>
        <alias name="sourceReferenceId" entity-alias="A"/>
        <alias name="workEffortSnapshotId" entity-alias="A"/>
        <alias name="workEffortTypeId" entity-alias="B"/>
        <alias name="parentTypeId" entity-alias="B"/>
        <alias name="comments" entity-alias="B" field="etch"/>
        <alias name="workEffortName" entity-alias="A"/>
        <alias name="description" entity-alias="A"/>
        <alias name="uomRangeScoreId" entity-alias="B"/>
        <alias field="uomRangeScoreId" name="weUomRangeScoreId" entity-alias="A"/>
        <alias name="estimatedStartDate" entity-alias="A"/>
        <alias name="estimatedCompletionDate" entity-alias="A"/>
        <alias name="actualStartDate" entity-alias="A"/>
        <alias name="actualCompletionDate" entity-alias="A"/>        
        <alias name="userLoginId" entity-alias="N" prim-key="false"/>
        <alias name="glFiscalTypeId" entity-alias="I"/>
        <alias name="amount" entity-alias="I"/>
        <alias name="hasScoreAlert" entity-alias="I"/>
        <alias field="referenceDate" entity-alias="Y" name="transactionDate"/>
        <alias field="sourceReferenceId" name="parentSourceReferenceId" entity-alias="AP"/>
        <alias name="actStEnumId" entity-alias="S"/>

        <view-link entity-alias="Y" rel-entity-alias="A">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>            
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="AP">
            <key-map field-name="workEffortParentId" rel-field-name="workEffortId"/>            
        </view-link>        
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="I" rel-optional="true">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="transactionDate" entity-alias="I" rel-field-name="referenceDate" rel-entity-alias="Y"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="M" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="N">
            <key-map field-name="userLoginId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="S">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>        

        <entity-condition>
            <condition-list combine="or">
                <condition-expr field-name="workEffortId" entity-alias="Y" value="null"/>
                <condition-expr field-name="workEffortId" entity-alias="Y" rel-field-name="workEffortId" rel-entity-alias="A"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortAchieveViewResponsible" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAnalysis" entity-alias="Y"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="ScoreAccount" entity-alias="I"/>
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="M"/>
        <member-entity entity-name="UserLogin" entity-alias="N"/>
        <member-entity entity-name="PartyRelationship" entity-alias="R"/>

        <alias name="workEffortAnalysisId" entity-alias="Y"/>
        <alias name="workEffortId" entity-alias="A"/>
        <alias name="sourceReferenceId" entity-alias="A"/>
        <alias name="workEffortSnapshotId" entity-alias="A"/>
        <alias name="workEffortTypeId" entity-alias="B"/>
        <alias name="parentTypeId" entity-alias="B"/>
        <alias name="comments" entity-alias="B" field="etch"/>
        <alias name="workEffortName" entity-alias="A"/>
        <alias name="description" entity-alias="A"/>
        <alias name="uomRangeScoreId" entity-alias="B"/>
        <alias field="uomRangeScoreId" name="weUomRangeScoreId" entity-alias="A"/>
        <alias name="estimatedStartDate" entity-alias="A"/>
        <alias name="estimatedCompletionDate" entity-alias="A"/>
        <alias name="userLoginId" entity-alias="N" prim-key="false"/>
        <alias name="glFiscalTypeId" entity-alias="I"/>
        <alias name="amount" entity-alias="I"/>
        <alias name="hasScoreAlert" entity-alias="I"/>

        <view-link entity-alias="Y" rel-entity-alias="A">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>            
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="I" rel-optional="true">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="transactionDate" entity-alias="I" rel-field-name="referenceDate" rel-entity-alias="Y"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="M" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="N">
            <key-map field-name="userLoginId"/>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="R">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeIdFrom"/>
            <key-map field-name="orgUnitId" rel-field-name="partyIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="partyIdTo" entity-alias="R" rel-entity-alias="N" rel-field-name="partyId"/>
                    <condition-expr field-name="thruDate" entity-alias="R" value="null"/>
                    <condition-list combine="or">
	                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="R" operator="equals" value="ORG_RESPONSIBLE"/>
	                	<condition-list>
	                    	<condition-expr field-name="partyRelationshipTypeId" entity-alias="R" operator="equals" value="ORG_DELEGATE"/>
	                    	<condition-list combine="or">
	                    		<condition-expr field-name="ctxEnabled" entity-alias="R" operator="equals" value="CTX_EP"/>
	                    		<condition-expr field-name="ctxEnabled" entity-alias="R" value="null"/>
	                		</condition-list>
	                    </condition-list>
                	</condition-list>
                </condition-list>
            </entity-condition>
        </view-link>

        <entity-condition>
            <condition-list combine="or">
                <condition-expr field-name="workEffortId" entity-alias="Y" value="null"/>
                <condition-expr field-name="workEffortId" entity-alias="Y" rel-field-name="workEffortId" rel-entity-alias="A"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortAchieveViewRole" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAnalysis" entity-alias="Y"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="ScoreAccount" entity-alias="I"/>
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="M"/>
        <member-entity entity-name="UserLogin" entity-alias="N"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="S"/>

        <alias name="workEffortAnalysisId" entity-alias="Y"/>
        <alias name="workEffortId" entity-alias="A"/>
        <alias name="sourceReferenceId" entity-alias="A"/>
        <alias name="workEffortSnapshotId" entity-alias="A"/>
        <alias name="workEffortTypeId" entity-alias="B"/>
        <alias name="parentTypeId" entity-alias="B"/>
        <alias name="comments" entity-alias="B" field="etch"/>
        <alias name="workEffortName" entity-alias="A"/>
        <alias name="description" entity-alias="A"/>
        <alias name="uomRangeScoreId" entity-alias="B"/>
        <alias field="uomRangeScoreId" name="weUomRangeScoreId" entity-alias="A"/>
        <alias name="estimatedStartDate" entity-alias="A"/>
        <alias name="estimatedCompletionDate" entity-alias="A"/>
        <alias name="userLoginId" entity-alias="N" prim-key="false"/>
        <alias name="glFiscalTypeId" entity-alias="I"/>
        <alias name="amount" entity-alias="I"/>
        <alias name="hasScoreAlert" entity-alias="I"/>

        <view-link entity-alias="Y" rel-entity-alias="A">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>            
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="I" rel-optional="true">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="transactionDate" entity-alias="I" rel-field-name="referenceDate" rel-entity-alias="Y"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="M">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="M" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="N">
            <key-map field-name="userLoginId"/>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="S">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="S" operator="like" value="WEM%"/>
            </entity-condition>
        </view-link>

        <entity-condition>
            <condition-list combine="or">
                <condition-expr field-name="workEffortId" entity-alias="Y" value="null"/>
                <condition-expr field-name="workEffortId" entity-alias="Y" rel-field-name="workEffortId" rel-entity-alias="A"/>
            </condition-list>
        </entity-condition>
    </view-entity>


    <view-entity entity-name="WorkEffortAchieveViewExt" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="AP"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="CustomTimePeriod" entity-alias="P"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="Z"/>
        <member-entity entity-name="WorkEffort" entity-alias="C"/>
        <member-entity entity-name="WorkEffortAssocType" entity-alias="D"/>
        <member-entity entity-name="ScoreAccount" entity-alias="I"/>
		<member-entity entity-name="PartyGroup" entity-alias="G"/>
		<member-entity entity-name="StatusItem" entity-alias="S"/>
        
        <alias name="workEffortId" entity-alias="A"/>
        <alias name="workEffortParentId" entity-alias="A"/>
        <alias name="sourceReferenceId" entity-alias="A"/>
        <alias name="workEffortTypeId" entity-alias="B"/>
        <alias name="parentTypeId" entity-alias="B"/>
        <alias name="comments" entity-alias="B" field="etch"/>
        <alias name="workEffortName" entity-alias="A"/>
        <alias name="description" entity-alias="A"/>
        <alias name="workEffortSnapshotId" entity-alias="A"/>
        <alias name="uomRangeScoreId" entity-alias="B"/>
        <alias field="uomRangeScoreId" name="weUomRangeScoreId" entity-alias="A"/>
        <alias name="estimatedStartDate" entity-alias="A"/>
        <alias name="estimatedCompletionDate" entity-alias="A"/>
        <alias name="actualStartDate" entity-alias="A"/>
        <alias name="actualCompletionDate" entity-alias="A"/> 
        <alias name="glFiscalTypeId" entity-alias="I"/>
        <alias name="amount" entity-alias="I"/>
        <alias name="hasScoreAlert" entity-alias="I"/>
        <alias name="sequenceNum" entity-alias="Z"/>
        <alias name="workEffortIdFrom" entity-alias="Z"/>
        <alias name="assocWeight" entity-alias="Z"/>
        <alias name="tpThruDate" entity-alias="P" field="thruDate"/>
        <alias name="transactionDate" entity-alias="I"/>        
        <alias name="etch" entity-alias="A"/>
		<alias field="groupName" name="weOrgPartyDescr" entity-alias="G"/>
		<alias field="sourceReferenceId" name="parentSourceReferenceId" entity-alias="AP"/>
		<alias name="actStEnumId" entity-alias="S"/>

        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="AP">
            <key-map field-name="workEffortParentId" rel-field-name="workEffortId"/>
        </view-link>        
        <view-link entity-alias="A" rel-entity-alias="G">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="P">
            <key-map field-name="periodTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="Z">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
        </view-link>
        <view-link entity-alias="Z" rel-entity-alias="C">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="Z" rel-entity-alias="D">
            <key-map field-name="workEffortAssocTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="I" rel-optional="true">
            <key-map field-name="workEffortId"/>            
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="S">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>            
        </view-link>        

        <relation rel-entity-name="WorkEffortAchieveView" type="one-nofk">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </relation>

        <entity-condition>
            <condition-list>
                <condition-list combine="or">
                    <condition-list>
                        <condition-expr field-name="parentTypeId" entity-alias="D" value="HIE"/>
                        <condition-expr field-name="workEffortParentId" entity-alias="A" rel-entity-alias="C" rel-field-name="workEffortParentId"/>
                    </condition-list>
                    <condition-expr field-name="workEffortAssocTypeId" entity-alias="Z" rel-entity-alias="C" rel-field-name="workEffortAssocTypeId"/>
                </condition-list>
                <condition-list combine="or">
                    <condition-expr field-name="thruDate" entity-alias="Z" rel-entity-alias="A" rel-field-name="estimatedCompletionDate"/>
                    <condition-expr field-name="thruDate" entity-alias="Z" rel-entity-alias="C" rel-field-name="estimatedCompletionDate"/>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAchieveExtAndWeTypeCntView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAchieveViewExt" entity-alias="A"/>
        <member-entity entity-name="WorkEffortTypeContent" entity-alias="B"/>
        
        <alias-all entity-alias="A"/>
        <alias entity-alias="B" field="params" name="weParams"/>
        
        <view-link entity-alias="A" rel-entity-alias="B" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-expr field-name="contentId" entity-alias="B" value="WEFLD_MAIN"/>
            </entity-condition>
        </view-link>
    </view-entity>    


    <view-entity entity-name="WorkEffortAchieveRespView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="A"/>
        <member-entity entity-name="Party" entity-alias="B"/>
        <member-entity entity-name="WorkEffort" entity-alias="C"/>
        <member-entity entity-name="RoleType" entity-alias="D"/>
        <alias name="partyName" entity-alias="B" field="partyName"></alias>
        <alias name="workEffortId" entity-alias="A" field="workEffortId"></alias>
        <alias name="roleDescription" entity-alias="D" field="description"></alias>
        <alias name="workEffortSnapshotId" entity-alias="C"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="partyId" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
            <key-map field-name="thruDate" rel-field-name="estimatedCompletionDate"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="roleTypeId"/>
        </view-link>
        <relation rel-entity-name="WorkEffortAchieveView" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list combine="or">
                <condition-expr field-name="roleTypeId" entity-alias="A" operator="like" value="WEM%"/>
                <condition-expr field-name="parentTypeId" entity-alias="D" operator="like" value="GOAL%"/>
            </condition-list>
        </entity-condition>
    </view-entity>


    <view-entity entity-name="WorkEffortAchieveChildView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="Z"/>
        <member-entity entity-name="WorkEffort" entity-alias="C"/>
        <member-entity entity-name="WorkEffortAssocType" entity-alias="D"/>
		<member-entity entity-name="PartyGroup" entity-alias="G"/>
        
        <alias name="workEffortId" entity-alias="A" group-by="true"/>
        <alias name="estimatedStartDate" entity-alias="A" group-by="true"/>
        <alias name="estimatedCompletionDate" entity-alias="A" group-by="true"/>
        <alias name="sourceReferenceId" entity-alias="A" group-by="true"/>
        <alias name="comments" entity-alias="B" field="etch" group-by="true"/>
        <alias name="workEffortName" entity-alias="A" group-by="true"/>
        <alias name="description" entity-alias="A" group-by="true"/>
        <alias name="sequenceNum" entity-alias="Z" group-by="true"/>
        <alias name="workEffortIdFrom" entity-alias="Z" group-by="true"/>
        <alias name="assocWeight" entity-alias="Z" group-by="true"/>
		<alias name="workEffortSnapshotId" entity-alias="A" group-by="true"/>
		<alias name="weOrgPartyDescr" field="groupName" entity-alias="G" group-by="true"/>
        
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="G">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="Z">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
        </view-link>
        <view-link entity-alias="Z" rel-entity-alias="C">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="Z" rel-entity-alias="D">
            <key-map field-name="workEffortAssocTypeId"/>
        </view-link>

        <relation rel-entity-name="WorkEffortAchieveView" type="one-nofk">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </relation>

        <entity-condition>
            <condition-list>
                <condition-list combine="or">
                    <condition-list>
                        <condition-expr field-name="parentTypeId" entity-alias="D" value="HIE"/>
                        <condition-expr field-name="workEffortParentId" entity-alias="A" rel-entity-alias="C" rel-field-name="workEffortParentId"/>
                    </condition-list>
                    <condition-expr field-name="workEffortAssocTypeId" entity-alias="Z" rel-entity-alias="C" rel-field-name="workEffortAssocTypeId"/>
                </condition-list>
                <condition-list combine="or">
                    <condition-expr field-name="thruDate" entity-alias="Z" rel-entity-alias="A" rel-field-name="estimatedCompletionDate"/>
                    <condition-expr field-name="thruDate" entity-alias="Z" rel-entity-alias="C" rel-field-name="estimatedCompletionDate"/>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortAchieveViewExtGrouped" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAchieveViewExt" entity-alias="A"/>
        <alias name="workEffortIdFrom" entity-alias="A" group-by="true"></alias>
        <alias name="workEffortId" entity-alias="A" group-by="true"></alias>
        <alias name="workEffortName" entity-alias="A" group-by="true"></alias>
        <alias name="comments" entity-alias="A" group-by="true"></alias>
        <alias name="description" entity-alias="A" group-by="true"></alias>
        <alias name="sourceReferenceId" entity-alias="A" group-by="true"></alias>
        <alias name="sequenceNum" entity-alias="A" group-by="true"></alias>
        <alias name="assocWeight" entity-alias="A" group-by="true"></alias>
        <alias name="workEffortSnapshotId" entity-alias="A" group-by="true"></alias>
        <alias name="weOrgPartyDescr" entity-alias="A" group-by="true"/>
        <alias name="weCounter" entity-alias="A" field="workEffortId" function="count"></alias>
    </view-entity>


    <view-entity entity-name="PartyRelationshipGroupedHelper" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="PartyRelationship" entity-alias="A"/>
        <alias name="roleTypeIdFrom" entity-alias="A" field="roleTypeIdFrom" group-by="true"></alias>
        <alias name="partyIdFrom" entity-alias="A" field="partyIdFrom" group-by="true"></alias>
        <alias name="partyIdTo" entity-alias="A" field="partyIdTo" group-by="true"></alias>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="partyRelationshipTypeId" entity-alias="A" operator="in" value="ORG_RESPONSIBLE,ORG_DELEGATE"/>
                <condition-expr field-name="thruDate" entity-alias="A" operator="equals" value="null"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortAchieveOrgMgrView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAchieveView" entity-alias="A"/>
        <member-entity entity-name="PartyRelationshipGroupedHelper" entity-alias="B"/>
        <alias-all entity-alias="A"></alias-all>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="orgRoleTypeId" rel-field-name="roleTypeIdFrom"/>
            <key-map field-name="orgUnitId" rel-field-name="partyIdFrom"/>
            <key-map field-name="partyId" rel-field-name="partyIdTo"/>
        </view-link>
    </view-entity>


    <!--
        FINE Activity 2302 : Viste
    -->

    <!--
        Activity 2314 - parte II di 2302
    -->

    <view-entity entity-name="AcctgTransMaxDate" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="AcctgTrans" entity-alias="AT"/>
        <member-entity entity-name="AcctgTransEntry" entity-alias="AE"/>
        <alias name="transactionDate" entity-alias="AT" function="max"></alias>
        <view-link entity-alias="AT" rel-entity-alias="AE">
            <key-map field-name="acctgTransId" rel-field-name="acctgTransId"/>
        </view-link>
        <entity-condition>
            <condition-list combine="and">
                <condition-expr entity-alias="AE" field-name="glFiscalTypeId" operator="equals" value="ACTUAL"/>
                <condition-expr entity-alias="AE" field-name="glAccountId" operator="equals" value="SCORE"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- Helper views per valri -->
    <view-entity entity-name="AcctgTransActualGrouped" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="AcctgTrans"/>
        <member-entity entity-alias="B" entity-name="AcctgTransEntry"/>
        <alias name="transactionId" entity-alias="A" field="acctgTransId" function="max"/>
        <alias name="transactionDate" entity-alias="A" field="transactionDate" group-by="true"/>
        <alias name="voucherRef" entity-alias="A" field="voucherRef" group-by="true"/> <!-- Sandro: aggiunto per bug su estrazione dati -->
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr entity-alias="B" field-name="glAccountId" operator="equals" value="SCOREKPI"/>
                <condition-expr entity-alias="A" field-name="glFiscalTypeId" operator="equals" value="ACTUAL"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="AcctgTransActual" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="AcctgTrans"/>
        <member-entity entity-alias="B" entity-name="AcctgTransEntry"/>
        <member-entity entity-alias="C" entity-name="AcctgTransActualGrouped"/>
        <alias name="voucherRef" entity-alias="A" field="voucherRef"/>
        <alias name="transactionDate" entity-alias="A" field="transactionDate"/>
        <alias name="score" entity-alias="B" field="amount"/>
        <alias name="hasScoreAlert" entity-alias="B" field="hasScoreAlert"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="transactionDate" rel-field-name="transactionDate"/>
            <key-map field-name="acctgTransId" rel-field-name="transactionId"/>
            <key-map field-name="voucherRef" rel-field-name="voucherRef"/> <!-- Sandro: aggiunto per bug su estrazione dati -->
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr entity-alias="B" field-name="glAccountId" operator="equals" value="SCOREKPI"/>
                <condition-expr entity-alias="A" field-name="glFiscalTypeId" operator="equals" value="ACTUAL"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- Helper views per valri -->
    <view-entity entity-name="AcctgTransBudgetGrouped" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="AcctgTrans"/>
        <member-entity entity-alias="B" entity-name="AcctgTransEntry"/>
        <alias name="transactionId" entity-alias="A" field="acctgTransId" function="max"/>
        <alias name="transactionDate" entity-alias="A" field="transactionDate" group-by="true"/>
        <alias name="voucherRef" entity-alias="A" field="voucherRef" group-by="true"/><!-- Sandro: aggiunto per bug su estrazione dati -->
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr entity-alias="B" field-name="glAccountId" operator="equals" value="SCOREKPI"/>
                <condition-expr entity-alias="A" field-name="glFiscalTypeId" operator="equals" value="BUDGET"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="AcctgTransBudget" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="AcctgTrans"/>
        <member-entity entity-alias="B" entity-name="AcctgTransEntry"/>
        <member-entity entity-alias="C" entity-name="AcctgTransBudgetGrouped"/>
        <alias name="voucherRef" entity-alias="A" field="voucherRef"/>
        <alias name="transactionDate" entity-alias="A" field="transactionDate"/>
        <alias name="score" entity-alias="B" field="amount"/>
        <alias name="hasScoreAlert" entity-alias="B" field="hasScoreAlert"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="transactionDate" rel-field-name="transactionDate"/>
            <key-map field-name="acctgTransId" rel-field-name="transactionId"/>
            <key-map field-name="voucherRef" rel-field-name="voucherRef"/> <!-- Sandro: aggiunto per bug su estrazione dati -->
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr entity-alias="B" field-name="glAccountId" operator="equals" value="SCOREKPI"/>
                <condition-expr entity-alias="A" field-name="glFiscalTypeId" operator="equals" value="BUDGET"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="GlAccountWithWorkEffortPurposeType" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="WA" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="WTI" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WTIC" entity-name="WorkEffortTypeContent"/>
        <member-entity entity-alias="WTR" entity-name="WorkEffortType"/>
        <member-entity entity-alias="U" entity-name="Uom"/>
        <member-entity entity-alias="WPT" entity-name="WorkEffortPurposeType"/>
        <member-entity entity-alias="GT" entity-name="GlAccountType"/>
        <member-entity entity-alias="UR" entity-name="UomRange"/>
        <member-entity entity-alias="PT" entity-name="PeriodType"/>
        <member-entity entity-alias="GO" entity-name="GlAccountOrganization"/>
        <alias-all entity-alias="G"/>
        <alias name="workEffortPurposeTypeId" entity-alias="WA"/>
        <alias name="workEffortTypeIdInd" entity-alias="WTIC" field="workEffortTypeId"/>
        <alias name="contentIdInd" entity-alias="WTIC" field="contentId"/>
        <alias name="workEffortPurposeTypeIdInd" entity-alias="WTIC" field="workEffortPurposeTypeId"/>
        <alias name="wetDescriptionInd" entity-alias="WTI" field="description"/>
        <alias name="workEffortTypeIdRes" entity-alias="WTR" field="workEffortTypeId"/>
        <alias name="wetDescriptionRes" entity-alias="WTR" field="description"/>
        <alias entity-alias="U" name="uomDescr" field="description"/>
        <alias entity-alias="WPT" name="purposeTypeEnumId"/>
        <alias entity-alias="GT" field="description" name="glAccountTypeDescription"/>
        <alias entity-alias="UR" name="uomRangeDescription" field="description"/>
        <alias name="periodTypeDescription" entity-alias="PT" field="description"/>
        <alias entity-alias="GO" name="organizationPartyId"/>

        <view-link rel-entity-alias="WA" entity-alias="G">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="WA" rel-entity-alias="WPT">
            <key-map field-name="workEffortPurposeTypeId"/>
        </view-link>
        <view-link rel-entity-alias="WTR" entity-alias="WA" rel-optional="true">
            <key-map field-name="workEffortPurposeTypeId" rel-field-name="wePurposeTypeIdRes"/>
        </view-link>
        <view-link rel-entity-alias="WTIC" entity-alias="WA" rel-optional="true">
            <key-map field-name="workEffortPurposeTypeId"/>
        </view-link>
        <view-link rel-entity-alias="WTI" entity-alias="WTIC" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="U" rel-optional="true">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="UR" rel-optional="true">
            <key-map field-name="uomRangeId" rel-field-name="uomRangeId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="GT">
            <key-map field-name="glAccountTypeId"/>
        </view-link>
        <view-link rel-entity-alias="PT" entity-alias="G" rel-optional="true">
            <key-map field-name="periodTypeId"/>
        </view-link>
        <view-link rel-entity-alias="GO" entity-alias="G">
            <key-map field-name="glAccountId"/>
        </view-link>
        <entity-condition>
            <condition-list combine="or">
                <condition-expr field-name="wePurposeTypeIdRes" entity-alias="WTR" operator="not-equals" value="null"/>
                <condition-expr field-name="workEffortPurposeTypeId" entity-alias="WTIC" operator="not-equals" value="null"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- aggiunta nuova entity per lookup INDICATORI bug 4901 -->
    <view-entity entity-name="GlAccountWithWorkEffortPurposeTypeIndSubQuery" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WM" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="PR" entity-name="Product"/>

        <alias entity-alias="WM" name="glAccountId" field="glAccountId"/>
        <alias entity-alias="PR" name="internalName" field="internalName"/>
        <alias entity-alias="PR" name="productId" field="productId"/>
        <alias entity-alias="PR" name="productMainCode" field="productMainCode"/>
        <alias entity-alias="WM" name="uomDescr" field="uomDescr"/>
        <alias entity-alias="WM" name="detailEnumId" field="detailEnumId"/>

        <view-link entity-alias="WM" rel-entity-alias="PR">
            <key-map field-name="productId"/>
        </view-link>
        <entity-condition>
            <condition-expr field-name="workEffortId" entity-alias="WM" operator="equals" value="null"/>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="GlAccountWithWorkEffortPurposeTypeIndLook" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="WA" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="WTI" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WTIC" entity-name="WorkEffortTypeContent"/>
        <member-entity entity-alias="WTR" entity-name="WorkEffortType"/>
        <member-entity entity-alias="U" entity-name="Uom"/>
        <member-entity entity-alias="WPT" entity-name="WorkEffortPurposeType"/>
        <member-entity entity-alias="GT" entity-name="GlAccountType"/>
        <member-entity entity-alias="UR" entity-name="UomRange"/>
        <member-entity entity-alias="PT" entity-name="PeriodType"/>
        <member-entity entity-alias="GS" entity-name="GlAccountWithWorkEffortPurposeTypeIndSubQuery"/>

        <alias-all entity-alias="G"/>
        <alias-all entity-alias="GS" prefix="IND"/>

        <alias name="workEffortPurposeTypeId" entity-alias="WA"/>
        <alias name="workEffortTypeIdInd" entity-alias="WTIC" field="workEffortTypeId"/>
        <alias name="contentIdInd" entity-alias="WTIC" field="contentId"/>
        <alias name="workEffortPurposeTypeIdInd" entity-alias="WTIC" field="workEffortPurposeTypeId"/>
        <alias name="wetDescriptionInd" entity-alias="WTI" field="description"/>
        <alias name="workEffortTypeIdRes" entity-alias="WTR" field="workEffortTypeId"/>
        <alias name="wetDescriptionRes" entity-alias="WTR" field="description"/>
        <alias entity-alias="U" name="uomDescr" field="description"/>
        <alias entity-alias="WPT" name="purposeTypeEnumId"/>
        <alias entity-alias="GT" field="description" name="glAccountTypeDescription"/>
        <alias entity-alias="UR" name="uomRangeDescription" field="description"/>
        <alias name="periodTypeDescription" entity-alias="PT" field="description"/>


        <view-link rel-entity-alias="WA" entity-alias="G">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="WA" rel-entity-alias="WPT">
            <key-map field-name="workEffortPurposeTypeId"/>
        </view-link>
        <view-link rel-entity-alias="WTR" entity-alias="WA" rel-optional="true">
            <key-map field-name="workEffortPurposeTypeId" rel-field-name="wePurposeTypeIdRes"/>
        </view-link>
        <view-link rel-entity-alias="WTIC" entity-alias="WA" rel-optional="true">
            <key-map field-name="workEffortPurposeTypeId"/>
        </view-link>
        <view-link rel-entity-alias="WTI" entity-alias="WTIC" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="U" rel-optional="true">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="UR" rel-optional="true">
            <key-map field-name="uomRangeId" rel-field-name="uomRangeId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="GT">
            <key-map field-name="glAccountTypeId"/>
        </view-link>
        <view-link rel-entity-alias="PT" entity-alias="G" rel-optional="true">
            <key-map field-name="periodTypeId"/>
        </view-link>
        <view-link rel-entity-alias="GS" entity-alias="G" rel-optional="true">
            <key-map field-name="glAccountId"/>
        </view-link>

        <entity-condition>
            <condition-list combine="or">
                <condition-expr field-name="wePurposeTypeIdRes" entity-alias="WTR" operator="not-equals" value="null"/>
                <condition-expr field-name="workEffortPurposeTypeId" entity-alias="WTIC" operator="not-equals" value="null"/>
            </condition-list>
        </entity-condition>
    </view-entity>


    <!-- BUG 5194 aggiungere alla lookup anche i valore di finalit del prodotto servizio -->
    <view-entity entity-name="GlAccountWithWorkEffortPurposeMeasureIndLook" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WPM" entity-name="WorkEffortPurposeMeasure"/>
        <member-entity entity-alias="WM" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="WTI" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WTIC" entity-name="WorkEffortTypeContent"/>
        <member-entity entity-alias="WTR" entity-name="WorkEffortType"/>
        <member-entity entity-alias="U" entity-name="Uom"/>
        <member-entity entity-alias="WPT" entity-name="WorkEffortPurposeType"/>
        <member-entity entity-alias="GT" entity-name="GlAccountType"/>
        <member-entity entity-alias="UR" entity-name="UomRange"/>
        <member-entity entity-alias="PT" entity-name="PeriodType"/>
        <member-entity entity-alias="PR" entity-name="Product"/>

        <alias-all entity-alias="G"/>

        <alias entity-alias="WM" name="INDGlAccountId" field="glAccountId"/>
        <alias entity-alias="PR" name="INDInternalName" field="internalName"/>
        <alias entity-alias="PR" name="INDProductId" field="productId"/>
        <alias entity-alias="PR" name="INDProductMainCode" field="productMainCode"/>
        <alias entity-alias="WM" name="INDUomDescr" field="uomDescr"/>
        <alias entity-alias="WM" name="INDDetailEnumId" field="detailEnumId"/>

        <alias name="workEffortPurposeTypeId" entity-alias="WPM"/>

        <alias name="workEffortTypeIdInd" entity-alias="WTIC" field="workEffortTypeId"/>
        <alias name="contentIdInd" entity-alias="WTIC" field="contentId"/>
        <alias name="workEffortPurposeTypeIdInd" entity-alias="WTIC" field="workEffortPurposeTypeId"/>
        <alias name="wetDescriptionInd" entity-alias="WTI" field="description"/>
        <alias name="workEffortTypeIdRes" entity-alias="WTR" field="workEffortTypeId"/>
        <alias name="wetDescriptionRes" entity-alias="WTR" field="description"/>
        <alias entity-alias="U" name="uomDescr" field="description"/>
        <alias entity-alias="WPT" name="purposeTypeEnumId"/>
        <alias entity-alias="GT" field="description" name="glAccountTypeDescription"/>
        <alias entity-alias="UR" name="uomRangeDescription" field="description"/>
        <alias name="periodTypeDescription" entity-alias="PT" field="description"/>


        <view-link rel-entity-alias="WM" entity-alias="WPM">
            <key-map field-name="workEffortMeasureId"/>
        </view-link>
        <view-link entity-alias="WM" rel-entity-alias="PR">
            <key-map field-name="productId"/>
        </view-link>
        <view-link rel-entity-alias="G" entity-alias="WM">
            <key-map field-name="glAccountId"/>
            <entity-condition>
                <condition-expr entity-alias="G" field-name="inputEnumId" value="ACCINP_PRD"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WPM" rel-entity-alias="WPT">
            <key-map field-name="workEffortPurposeTypeId"/>
        </view-link>
        <view-link rel-entity-alias="WTR" entity-alias="WPM" rel-optional="true">
            <key-map field-name="workEffortPurposeTypeId" rel-field-name="wePurposeTypeIdRes"/>
        </view-link>
        <view-link rel-entity-alias="WTIC" entity-alias="WPM" rel-optional="true">
            <key-map field-name="workEffortPurposeTypeId"/>
        </view-link>
        <view-link rel-entity-alias="WTI" entity-alias="WTIC" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="U" rel-optional="true">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="UR" rel-optional="true">
            <key-map field-name="uomRangeId" rel-field-name="uomRangeId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="GT">
            <key-map field-name="glAccountTypeId"/>
        </view-link>
        <view-link rel-entity-alias="PT" entity-alias="G" rel-optional="true">
            <key-map field-name="periodTypeId"/>
        </view-link>

        <entity-condition>
            <condition-expr field-name="workEffortId" entity-alias="WM" operator="equals" value="null"/>
        </entity-condition>

    </view-entity>

    <view-entity entity-name="GlAccountWithWorkEffortPurposeMeasure" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="WA" entity-name="WorkEffortPurposeMeasure"/>
        <member-entity entity-alias="WM" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="WTI" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WTIC" entity-name="WorkEffortTypeContent"/>
        <member-entity entity-alias="WTR" entity-name="WorkEffortType"/>
        <member-entity entity-alias="U" entity-name="Uom"/>
        <member-entity entity-alias="WPT" entity-name="WorkEffortPurposeType"/>
        <member-entity entity-alias="GT" entity-name="GlAccountType"/>
        <member-entity entity-alias="UR" entity-name="UomRange"/>
        <member-entity entity-alias="PT" entity-name="PeriodType"/>
        <alias-all entity-alias="G"/>
        <alias name="workEffortPurposeTypeId" entity-alias="WA"/>
        <alias name="workEffortTypeIdInd" entity-alias="WTIC" field="workEffortTypeId"/>
        <alias name="contentIdInd" entity-alias="WTIC" field="contentId"/>
        <alias name="workEffortPurposeTypeIdInd" entity-alias="WTIC" field="workEffortPurposeTypeId"/>
        <alias name="wetDescriptionInd" entity-alias="WTI" field="description"/>
        <alias name="workEffortTypeIdRes" entity-alias="WTR" field="workEffortTypeId"/>
        <alias name="wetDescriptionRes" entity-alias="WTR" field="description"/>
        <alias entity-alias="U" name="uomDescr" field="description"/>
        <alias entity-alias="WPT" name="purposeTypeEnumId"/>
        <alias entity-alias="GT" field="description" name="glAccountTypeDescription"/>
        <alias entity-alias="UR" name="uomRangeDescription" field="description"/>
        <alias name="periodTypeDescription" entity-alias="PT" field="description"/>

        <view-link rel-entity-alias="WA" entity-alias="WM">
            <key-map field-name="workEffortMeasureId"/>
        </view-link>
        <view-link rel-entity-alias="G" entity-alias="WM">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="WA" rel-entity-alias="WPT">
            <key-map field-name="workEffortPurposeTypeId"/>
        </view-link>
        <view-link rel-entity-alias="WTR" entity-alias="WA" rel-optional="true">
            <key-map field-name="workEffortPurposeTypeId" rel-field-name="wePurposeTypeIdRes"/>
        </view-link>
        <view-link rel-entity-alias="WTIC" entity-alias="WA" rel-optional="true">
            <key-map field-name="workEffortPurposeTypeId"/>
        </view-link>
        <view-link rel-entity-alias="WTI" entity-alias="WTIC" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="U" rel-optional="true">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="UR" rel-optional="true">
            <key-map field-name="uomRangeId" rel-field-name="uomRangeId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="GT">
            <key-map field-name="glAccountTypeId"/>
        </view-link>
        <view-link rel-entity-alias="PT" entity-alias="G" rel-optional="true">
            <key-map field-name="periodTypeId"/>
        </view-link>
        <entity-condition>
            <condition-list combine="or">
                <condition-expr field-name="wePurposeTypeIdRes" entity-alias="WTR" operator="not-equals" value="null"/>
                <condition-expr field-name="workEffortPurposeTypeId" entity-alias="WTIC" operator="not-equals" value="null"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- -->

    <view-entity entity-name="GlAccountWithWorkEffortPurposeTypeResource" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="WA" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <member-entity entity-alias="U" entity-name="Uom"/>

        <alias-all entity-alias="G"/>
        <alias name="workEffortPurposeTypeId" entity-alias="WA"/>
        <alias name="workEffortTypeId" entity-alias="WT"/>
        <alias name="wetDescription" entity-alias="WT" field="description"/>
        <alias entity-alias="U" name="uomDescr" field="description"/>

        <view-link rel-entity-alias="WA" entity-alias="G">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link rel-entity-alias="WT" entity-alias="WA">
            <key-map field-name="workEffortPurposeTypeId" rel-field-name="wePurposeTypeIdRes"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="U" rel-optional="true">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="GlAccountWithWorkEffortPurposeTypeIndicator" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="WA" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <member-entity entity-alias="U" entity-name="Uom"/>

        <alias-all entity-alias="G"/>
        <alias name="workEffortPurposeTypeId" entity-alias="WA"/>
        <alias name="workEffortTypeId" entity-alias="WT"/>
        <alias name="wetDescription" entity-alias="WT" field="description"/>
        <alias entity-alias="U" name="uomDescr" field="description"/>

        <view-link rel-entity-alias="WA" entity-alias="G">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link rel-entity-alias="WT" entity-alias="WA">
            <key-map field-name="workEffortPurposeTypeId" rel-field-name="wePurposeTypeIdInd"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="U" rel-optional="true">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="GlAccountTypeFromWorkEffortPurposeTypeResource" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WEPA" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="WTR" entity-name="WorkEffortType"/>
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="GAT" entity-name="GlAccountType"/>

        <alias name="glAccountTypeId" entity-alias="GAT" group-by="true"/>
        <alias name="parentTypeId" entity-alias="GAT" group-by="true"/>
        <alias name="description" entity-alias="GAT" group-by="true"/>
        <alias name="descriptionLang" entity-alias="GAT" group-by="true"/>
        <alias name="accountTypeEnumId" entity-alias="GAT" group-by="true"/>
        <alias name="workEffortPurposeTypeId" entity-alias="WEPA" group-by="true"/>
        <alias name="workEffortTypeIdRes" field="workEffortTypeId" entity-alias="WTR" group-by="true"/>
        <view-link rel-entity-alias="WTR" entity-alias="WEPA" rel-optional="true">
            <key-map field-name="workEffortPurposeTypeId" rel-field-name="wePurposeTypeIdRes"/>
        </view-link>
        <view-link rel-entity-alias="G" entity-alias="WEPA">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link rel-entity-alias="GAT" entity-alias="G">
            <key-map field-name="glAccountTypeId"/>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="GlAccountTypeFromWorkEffortPurposeTypeIndicator" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WEPA" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="WC" entity-name="WorkEffortTypeContent"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="GAT" entity-name="GlAccountType"/>

        <alias name="glAccountTypeId" entity-alias="GAT" group-by="true"/>
        <alias name="parentTypeId" entity-alias="GAT" group-by="true"/>
        <alias name="description" entity-alias="GAT" group-by="true"/>
        <alias name="accountTypeEnumId" entity-alias="GAT" group-by="true"/>
        <alias name="workEffortPurposeTypeId" entity-alias="WEPA" group-by="true"/>
        <alias name="contentId" entity-alias="WC" group-by="true"/>
        <alias name="workEffortTypeId" entity-alias="WC" group-by="true"/>
        <view-link rel-entity-alias="WC" entity-alias="WEPA" rel-optional="true">
            <key-map field-name="workEffortPurposeTypeId"/>
        </view-link>
        <view-link rel-entity-alias="G" entity-alias="WEPA">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link rel-entity-alias="GAT" entity-alias="G">
            <key-map field-name="glAccountTypeId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="ScoreAccountIndicator" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="AT" entity-name="AcctgTrans"/>
        <member-entity entity-alias="AE" entity-name="AcctgTransEntry"/>

        <alias name="workEffortId" entity-alias="AT"/>
        <alias name="transactionDate" entity-alias="AT"/>
        <alias name="roleTypeId" entity-alias="AT"/>
        <alias name="partyId" entity-alias="AT"/>
        <alias name="voucherRef" entity-alias="AT"/>
        <alias name="amount" entity-alias="AE"/>
        <alias name="currencyUomId" entity-alias="AE"/>
        <alias name="entryRoleTypeId" entity-alias="AE" field="roleTypeId"/>
        <alias name="entryPartyId" entity-alias="AE" field="partyId"/>
        <alias name="organizationPartyId" entity-alias="AE"/>
        <alias name="glAccountId" entity-alias="AE"/>
        <alias name="productId" entity-alias="AE"/>
        <alias name="emplPositionTypeId" entity-alias="AE"/>
        <alias name="glFiscalTypeId" entity-alias="AE"/>
        <alias name="hasScoreAlert" entity-alias="AE"/>
        <alias name="description" entity-alias="AE"/>
        <alias name="perfAmountCalc" entity-alias="AE"/>
        <alias name="workEffortSnapshotId" entity-alias="AE"/>
        <alias entity-alias="AE" name="workEffortRevisionId"/>
        <view-link rel-entity-alias="AE" entity-alias="AT">
            <key-map field-name="acctgTransId"/>
        </view-link>
    </view-entity>


    <!-- View principale acticity 2314 -->
    <view-entity entity-name="WorkEffortAchieveInqMeasView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortMeasure" entity-alias="WM"/>
        <member-entity entity-name="WorkEffortAnalysis" entity-alias="WA"/>
        <member-entity entity-name="GlAccount" entity-alias="AC"/>
        <member-entity entity-name="WorkEffortPurposeAccount" entity-alias="WP"/>
        <member-entity entity-name="GlResourceType" entity-alias="RT"/>
        <member-entity entity-name="WorkEffort" entity-alias="WE"/>
        <member-entity entity-name="WorkEffortType" entity-alias="WT"/>
        <member-entity entity-name="ScoreAccountIndicator" entity-alias="VAL"/>
        <member-entity entity-name="WorkEffortMeasRatSc" entity-alias="WR"/>
        <member-entity entity-name="Uom" entity-alias="UM"/>

        <alias name="workEffortAnalysisId" entity-alias="WA"/>
        <alias name="workEffortId" entity-alias="WM"/>
        <alias name="description" entity-alias="RT"/>
        <alias name="accountName" entity-alias="AC"/>
        <alias name="accountDescription" entity-alias="AC" field="description"/>
        <alias name="detailEnumId" entity-alias="AC"/>
        <alias name="inputEnumId" entity-alias="AC"/>
        <alias name="uomDescr" entity-alias="WM"/>
        <alias name="uomCode" entity-alias="WR"/>
        <alias name="abbreviation" entity-alias="UM"/>
        <alias name="decimalScale" entity-alias="UM"/>
        <alias name="uomTypeId" entity-alias="UM"/>
        <alias name="glResourceTypeId" entity-alias="RT"/>
        <alias name="accountCode" entity-alias="AC"/>
        <alias name="workEffortMeasureId" entity-alias="WM"/>
        <alias name="glFiscalTypeId" entity-alias="VAL"/>
        <alias name="glAccountId" entity-alias="VAL"/>
        <alias name="amount" entity-alias="VAL"/>
        <alias name="perfAmountCalc" entity-alias="VAL"/>
        <alias name="transactionDate" entity-alias="VAL"/>
        <alias name="fromDate" entity-alias="WM"/>
        <alias name="thruDate" entity-alias="WM"/>
        <alias name="workEffortTypeId" entity-alias="WT" prim-key="false"/>
        <alias name="periodTypeId" entity-alias="WT"/>
        <alias name="uomRangeScoreId" entity-alias="WT"/>
        <alias field="uomRangeScoreId" name="weUomRangeScoreId" entity-alias="WE"/>
        <alias name="hasScoreAlert" entity-alias="VAL"/>
        <alias name="indicatorDescription" entity-alias="VAL" field="description"/>
        <alias name="workEffortSnapshotId" entity-alias="VAL"/>
        <alias entity-alias="VAL" name="workEffortRevisionId"/>
        <alias name="referenceDate" entity-alias="WA"/>
        <alias name="yearPrev" entity-alias="WA"/>
        <alias name="yearReal" entity-alias="WA"/>
        <alias name="yearP1Prev" entity-alias="WA"/>
        <alias name="yearP1Real" entity-alias="WA"/>
        <alias name="yearP2Prev" entity-alias="WA"/>
        <alias name="yearP2Real" entity-alias="WA"/>
        <alias name="yearP3Prev" entity-alias="WA"/>
        <alias name="yearP3Real" entity-alias="WA"/>
        <alias name="yearP4Prev" entity-alias="WA"/>
        <alias name="yearP4Real" entity-alias="WA"/>
        <alias name="yearM1Prev" entity-alias="WA"/>
        <alias name="yearM1Real" entity-alias="WA"/>
        <alias name="yearM2Prev" entity-alias="WA"/>
        <alias name="yearM2Real" entity-alias="WA"/>
        <alias name="yearM3Prev" entity-alias="WA"/>
        <alias name="yearM3Real" entity-alias="WA"/>
        <alias name="yearM4Prev" entity-alias="WA"/>
        <alias name="yearM4Real" entity-alias="WA"/>
        <alias name="labelPrev" entity-alias="WA"/>
        <alias name="labelReal" entity-alias="WA"/>
        <alias name="labelP1Prev" entity-alias="WA"/>
        <alias name="labelP1Real" entity-alias="WA"/>
        <alias name="labelP2Prev" entity-alias="WA"/>
        <alias name="labelP2Real" entity-alias="WA"/>
        <alias name="labelP3Prev" entity-alias="WA"/>
        <alias name="labelP3Real" entity-alias="WA"/>
        <alias name="labelP4Prev" entity-alias="WA"/>
        <alias name="labelP4Real" entity-alias="WA"/>
        <alias name="labelM1Prev" entity-alias="WA"/>
        <alias name="labelM1Real" entity-alias="WA"/>
        <alias name="labelM2Prev" entity-alias="WA"/>
        <alias name="labelM2Real" entity-alias="WA"/>
        <alias name="labelM3Prev" entity-alias="WA"/>
        <alias name="labelM3Real" entity-alias="WA"/>
        <alias name="labelM4Prev" entity-alias="WA"/>
        <alias name="labelM4Real" entity-alias="WA"/>
        <alias name="typeBalanceTarIndId" entity-alias="WA"/>
        <alias name="typeBalanceConsIndId" entity-alias="WA"/>
        <alias name="typeBalanceScoreTarId" entity-alias="WA"/>
        <alias name="typeBalanceScoreConId" entity-alias="WA"/>

        <view-link entity-alias="WM" rel-entity-alias="WA">
            <entity-condition>
                <condition-expr field-name="workEffortAnalysisId" entity-alias="WA" rel-field-name="workEffortAnalysisId" rel-entity-alias="WA"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WM" rel-entity-alias="AC">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="WM" rel-entity-alias="WP">
            <key-map field-name="glAccountId"/>
            <entity-condition>
                <condition-expr field-name="workEffortPurposeTypeId" entity-alias="WP" rel-field-name="workEffortPurposeTypeId" rel-entity-alias="WA"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="AC" rel-entity-alias="RT" rel-optional="true">
            <key-map field-name="glResourceTypeId"/>
        </view-link>
        <view-link entity-alias="AC" rel-entity-alias="UM">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="WM" rel-entity-alias="WE">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="WM" rel-entity-alias="VAL" rel-optional="true">
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="glAccountId" entity-alias="VAL" rel-field-name="glAccountId" rel-entity-alias="WM"/>
                        <condition-expr field-name="glAccountId" entity-alias="VAL" value="SCOREKPI"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-list combine="or">
                                <condition-expr field-name="inputEnumId" entity-alias="AC" value="ACCINP_OBJ"/>
                                <condition-expr field-name="glAccountId" entity-alias="VAL" value="SCOREKPI"/>
                            </condition-list>
                            <condition-expr field-name="voucherRef" entity-alias="VAL" rel-field-name="workEffortMeasureId" rel-entity-alias="WM"/>
                        </condition-list>
                        <condition-list>
                            <condition-expr field-name="inputEnumId" entity-alias="AC" operator="not-equals" value="ACCINP_OBJ"/>
                            <condition-expr field-name="glAccountId" entity-alias="VAL" operator="not-equals" value="SCOREKPI"/>
                            <condition-expr field-name="organizationPartyId" entity-alias="VAL" rel-field-name="organizationId" rel-entity-alias="WE"/>
                            <condition-list combine="or">
                                <condition-list>
                                    <condition-expr field-name="productId" entity-alias="VAL" value="null"/>
                                    <condition-expr field-name="productId" entity-alias="WM" value="null"/>
                                </condition-list>
                                <condition-expr field-name="productId" entity-alias="VAL" rel-field-name="productId" rel-entity-alias="WM"/>
                            </condition-list>
                            <condition-list combine="or">
                                <condition-list>
                                    <condition-expr field-name="emplPositionTypeId" entity-alias="VAL" value="null"/>
                                    <condition-expr field-name="emplPositionTypeId" entity-alias="WM" value="null"/>
                                </condition-list>
                                <condition-expr field-name="emplPositionTypeId" entity-alias="VAL" rel-field-name="emplPositionTypeId" rel-entity-alias="WM"/>
                            </condition-list>
                            <condition-list combine="or">
                                <condition-list>
                                    <condition-expr field-name="entryRoleTypeId" entity-alias="VAL" value="null"/>
                                    <condition-expr field-name="entryPartyId" entity-alias="VAL" value="null"/>
                                    <condition-expr field-name="roleTypeId" entity-alias="WM" value="null"/>
                                    <condition-expr field-name="partyId" entity-alias="WM" value="null"/>
                                </condition-list>
                                <condition-list>
                                    <condition-expr field-name="entryRoleTypeId" entity-alias="VAL" rel-field-name="roleTypeId" rel-entity-alias="WM"/>
                                    <condition-expr field-name="entryPartyId" entity-alias="VAL" rel-field-name="partyId" rel-entity-alias="WM"/>
                                </condition-list>
                            </condition-list>
                            <condition-list combine="or">
                                <condition-list>
                                    <condition-expr field-name="weOtherGoalEnumId" entity-alias="WM" value="WEMOMG_ORG"/>
                                    <condition-expr field-name="orgUnitRoleTypeId" entity-alias="WE" rel-field-name="roleTypeId" rel-entity-alias="VAL"/>
                                    <condition-expr field-name="orgUnitId" entity-alias="WE" rel-field-name="partyId" rel-entity-alias="VAL"/>
                                </condition-list>
                                <condition-list>
                                    <condition-expr field-name="weOtherGoalEnumId" entity-alias="WM" value="WEMOMG_WEFF"/>
                                    <condition-list combine="or">
                                        <condition-list>
                                            <condition-expr field-name="otherWorkEffortId" entity-alias="WM" operator="not-equals" value="null"/>
                                            <condition-expr field-name="workEffortId" entity-alias="VAL" rel-field-name="otherWorkEffortId" rel-entity-alias="WM"/>
                                        </condition-list>
                                        <condition-list>
                                            <condition-expr field-name="otherWorkEffortId" entity-alias="WM" value="null"/>
                                            <condition-expr field-name="workEffortId" entity-alias="VAL" rel-field-name="workEffortId" rel-entity-alias="WM"/>
                                        </condition-list>
                                    </condition-list>
                                </condition-list>
                                <condition-expr field-name="weOtherGoalEnumId" entity-alias="WM" value="WEMOMG_NONE"/>
                            </condition-list>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr field-name="glAccountId" entity-alias="VAL" value="SCOREKPI"/>
                            <condition-expr field-name="transactionDate" entity-alias="VAL" rel-field-name="referenceDate" rel-entity-alias="WA"/>
                        </condition-list>
                        <condition-list>
                            <condition-expr field-name="glAccountId" entity-alias="VAL" operator="not-equals" value="SCOREKPI"/>
                            <condition-list combine="or">
                                <condition-list>
                                    <condition-expr field-name="referenceDate" entity-alias="WA" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="WM"/>
                                    <condition-expr field-name="transactionDate" entity-alias="VAL" rel-field-name="referenceDate" rel-entity-alias="WA"/>
                                </condition-list>
                                <condition-list>
                                    <condition-expr field-name="referenceDate" entity-alias="WA" operator="greater" rel-field-name="thruDate" rel-entity-alias="WM"/>
                                    <condition-expr field-name="transactionDate" entity-alias="VAL" rel-field-name="referenceDate" rel-entity-alias="WA"/>
                                </condition-list>
                                <condition-list>
                                    <!-- <condition-expr field-name="glFiscalTypeId" entity-alias="VAL" value="ACTUAL"/> -->
                                    <condition-list combine="or">
                                        <condition-expr field-name="transactionDate" entity-alias="VAL" rel-field-name="yearReal" rel-entity-alias="WA"/>
                                        <condition-expr field-name="transactionDate" entity-alias="VAL" rel-field-name="yearM4Real" rel-entity-alias="WA"/>
                                        <condition-expr field-name="transactionDate" entity-alias="VAL" rel-field-name="yearM3Real" rel-entity-alias="WA"/>
                                        <condition-expr field-name="transactionDate" entity-alias="VAL" rel-field-name="yearM2Real" rel-entity-alias="WA"/>
                                        <condition-expr field-name="transactionDate" entity-alias="VAL" rel-field-name="yearM1Real" rel-entity-alias="WA"/>
                                        <condition-expr field-name="transactionDate" entity-alias="VAL" rel-field-name="yearP4Real" rel-entity-alias="WA"/>
                                        <condition-expr field-name="transactionDate" entity-alias="VAL" rel-field-name="yearP3Real" rel-entity-alias="WA"/>
                                        <condition-expr field-name="transactionDate" entity-alias="VAL" rel-field-name="yearP2Real" rel-entity-alias="WA"/>
                                        <condition-expr field-name="transactionDate" entity-alias="VAL" rel-field-name="yearP1Real" rel-entity-alias="WA"/>
                                    </condition-list>
                                </condition-list>
                            </condition-list>
                        </condition-list>
                    </condition-list>
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="WM" rel-entity-alias="WR" rel-optional="true">
            <key-map field-name="workEffortMeasureId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="uomId" entity-alias="WR" rel-field-name="defaultUomId" rel-entity-alias="AC"/>
                    <condition-expr field-name="uomRatingValue" entity-alias="WR" rel-field-name="amount" rel-entity-alias="VAL"/>
                </condition-list>
            </entity-condition>
        </view-link>

        <relation rel-entity-name="WorkEffortAchieveViewExt" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <relation rel-entity-name="WorkEffortAchieveView" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>

        <entity-condition>
            <condition-expr field-name="weMeasureTypeEnumId" entity-alias="WM" operator="not-equals" value="WEMT_SCORE"/>
        </entity-condition>
    </view-entity>

    <!-- ======================
        FINE Activity 2314
        ======================== -->



    <view-entity entity-name="WorkEffortTypeStatusView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="W" entity-name="WorkEffortTypeStatus"/>
        <member-entity entity-alias="S" entity-name="StatusItem"/>
        <member-entity entity-alias="ST" entity-name="StatusType"/>
        <alias-all entity-alias="W"/>
        <alias name="sequenceId" entity-alias="S"/>
        <alias name="description" entity-alias="S"/>
        <alias name="statusTypeId" entity-alias="S"/>
        <alias name="statusTypeDescription" field="description" entity-alias="ST"/>
        <view-link rel-entity-alias="S" entity-alias="W">
            <key-map rel-field-name="statusId" field-name="currentStatusId"/>
        </view-link>
        <view-link rel-entity-alias="ST" entity-alias="S">
            <key-map field-name="statusTypeId"/>
        </view-link>
        <relation rel-entity-name="WorkEffortType" type="one-nofk" title="Root">
            <key-map field-name="workEffortTypeRootId" rel-field-name="workEffortTypeId"/>
        </relation>
    </view-entity>

    <!-- ToDo 2104 WorkEffortTransDashView -->

    <view-entity entity-name="AcctgTransAndEntryAndGlAcc" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="AcctgTrans" entity-alias="A"/>
        <member-entity entity-name="AcctgTransEntry" entity-alias="B"/>
        <member-entity entity-name="GlAccount" entity-alias="C"/>

        <alias name="workEffortId" entity-alias="A"/>
        <alias name="transactionDate" entity-alias="A"/>
        <alias name="orgUnitRoleTypeId" entity-alias="A" field="roleTypeId"/>
        <alias name="orgUnitId" entity-alias="A" field="partyId"/>
        <alias name="glFiscalTypeId" entity-alias="A"/>
        <alias name="transDescription" entity-alias="B" field="description"/>
        <alias name="transValue" entity-alias="B" field="amount"/>
        <alias name="uomId" entity-alias="B" field="currencyUomId"/>
        <alias name="roleTypeId" entity-alias="B"/>
        <alias name="partyId" entity-alias="B"/>
        <alias name="organizationPartyId" entity-alias="B"/>
        <alias name="glAccountId" entity-alias="B"/>
        <alias name="glAccountFinId" entity-alias="B"/>
        <alias name="productId" entity-alias="B"/>
        <alias name="emplPositionTypeId" entity-alias="B"/>

        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="C">
            <key-map field-name="glAccountId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortTransDashView1" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortMeasure" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="WorkEffortType" entity-alias="C"/>
        <member-entity entity-name="GlAccount" entity-alias="D"/>
        <member-entity entity-name="Uom" entity-alias="E"/>
        <member-entity entity-name="GlFiscalType" entity-alias="F1"/>
        <member-entity entity-name="Product" entity-alias="G"/>
        <member-entity entity-name="EmplPositionType" entity-alias="H"/>
        <member-entity entity-name="RoleType" entity-alias="I"/>
        <member-entity entity-name="Party" entity-alias="J"/>
        <member-entity entity-name="PartyRoleAndPartyParentRole" entity-alias="K"/>
        <member-entity entity-name="CustomTimePeriod" entity-alias="L"/>
        <member-entity entity-name="AcctgTransAndEntryAndGlAcc" entity-alias="M1"/>
        <member-entity entity-name="WorkEffortMeasRatSc" entity-alias="N1"/>

        <alias name="wtDashWeId" entity-alias="B" field="workEffortId" group-by="true" prim-key="false"/>
        <alias name="wtDashMeasureId" entity-alias="A" field="workEffortMeasureId" group-by="true" prim-key="true"/>
        <alias name="wtDashWeCode" entity-alias="B" field="sourceReferenceId" group-by="true"/>
        <alias name="wtDashWeName" entity-alias="B" field="workEffortName" group-by="true"/>
        <alias name="wtDashMeasureType" entity-alias="A" field="weMeasureTypeEnumId" group-by="true"/>
        <alias name="wtDashPeriodDate" entity-alias="L" field="thruDate" group-by="true" prim-key="true"/>
        <alias name="wtDashUomId" entity-alias="D" field="defaultUomId" group-by="true"/>
        <alias name="wtDashUomDescr" entity-alias="E" field="description" group-by="true"/>
        <alias name="wtDashUomType" entity-alias="E" field="uomTypeId" group-by="true"/>
        <alias name="wtDashAccountId" entity-alias="A" field="glAccountId" group-by="true"/>
        <alias name="wtDashAccountCode" entity-alias="D" field="accountCode" group-by="true"/>
        <alias name="wtDashAccountDescr" entity-alias="D" field="accountName" group-by="true"/>
        <alias name="wtDashProductId" entity-alias="A" field="productId" group-by="true"/>
        <alias name="wtDashProductDescr" entity-alias="G" field="internalName" group-by="true"/>
        <alias name="wtDashEmplPositionTypeId" entity-alias="A" field="emplPositionTypeId" group-by="true"/>
        <alias name="wtDashEmplPositionTypeDescr" entity-alias="H" field="description" group-by="true"/>
        <alias name="wtDashRoleId" entity-alias="A" field="roleTypeId" group-by="true"/>
        <alias name="wtDashRoleDescr" entity-alias="I" field="description" group-by="true"/>
        <alias name="wtDashPartyId" entity-alias="A" field="partyId" group-by="true"/>
        <alias name="wtDashPartyCode" entity-alias="K" field="parentRoleCode" group-by="true"/>
        <alias name="wtDashPartyDescr" entity-alias="J" field="partyName" group-by="true"/>
        <alias name="wtDashKpiScoreWeight" entity-alias="A" field="kpiScoreWeight" group-by="true"/>
        <alias name="wtDashValue1" function="sum" entity-alias="M1" field="transValue" group-by="false"/>
        <alias name="wtDashValue1Descr" entity-alias="N1" field="uomDescr" group-by="true"/>
        <alias name="wtDashValue1Code" entity-alias="N1" field="uomCode" group-by="true"/>
        <alias name="wtDashValue1Label" entity-alias="F1" field="description" group-by="true"/>

        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="C">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="glAccountId" rel-field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="D" rel-entity-alias="E">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="F1">
            <key-map field-name="typeId1" rel-field-name="glFiscalTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="G" rel-optional="true">
            <key-map field-name="productId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="H" rel-optional="true">
            <key-map field-name="emplPositionTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="I" rel-optional="true">
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="J" rel-optional="true">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="K" rel-optional="true">
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="L" rel-optional="true">
            <key-map field-name="periodTypeId"/>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="M1" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-entity-alias="M1"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="not-equals" value="FINANCIAL"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-field-name="glAccountFinId" rel-entity-alias="M1"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="equals" value="FINANCIAL"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="transactionDate" entity-alias="M1" operator="greater-equals" rel-field-name="fromDate" rel-entity-alias="A"/>
                    <condition-expr field-name="transactionDate" entity-alias="M1" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="A"/>
                    <condition-expr field-name="organizationId" entity-alias="B" rel-field-name="organizationPartyId" rel-entity-alias="M1"/>
                    <condition-expr field-name="defaultUomId" entity-alias="D" rel-field-name="uomId" rel-entity-alias="M1"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="workEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="not-equals" value="null"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="weOtherGoalEnumId" operator="not-equals" value="WEMOMG_ORG"/>
                        <condition-list combine="and">
                            <condition-expr field-name="orgUnitRoleTypeId" entity-alias="B" rel-field-name="orgUnitRoleTypeId" rel-entity-alias="M1"/>
                            <condition-expr field-name="orgUnitId" entity-alias="B" rel-field-name="orgUnitId" rel-entity-alias="M1"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="productId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="productId" entity-alias="A" rel-field-name="productId" rel-entity-alias="M1"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" rel-field-name="emplPositionTypeId" rel-entity-alias="M1"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" operator="equals" value="null"/>
                            <condition-expr field-name="partyId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" rel-field-name="roleTypeId" rel-entity-alias="M1"/>
                            <condition-expr field-name="partyId" entity-alias="A" rel-field-name="partyId" rel-entity-alias="M1"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="typeId1" entity-alias="C" rel-field-name="glFiscalTypeId" rel-entity-alias="M1"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="ALL"/>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F1" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F1" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F1" operator="equals" value="ALL"/>
                        </condition-list>
                    </condition-list>
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="N1" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr field-name="workEffortMeasureId" entity-alias="A" rel-entity-alias="N1"/>
                    <condition-expr field-name="uomId" entity-alias="N1" rel-entity-alias="M1"/>
                    <condition-expr field-name="uomRatingValue" entity-alias="N1" rel-field-name="transValue" rel-entity-alias="M1"/>
                </condition-list>
            </entity-condition>
        </view-link>

        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="wtDashWeId" rel-field-name="workEffortId"/>
        </relation>
    </view-entity>

    <view-entity entity-name="WorkEffortTransDashView2" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortMeasure" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="WorkEffortType" entity-alias="C"/>
        <member-entity entity-name="GlAccount" entity-alias="D"/>
        <member-entity entity-name="Uom" entity-alias="E"/>
        <member-entity entity-name="GlFiscalType" entity-alias="F1"/>
        <member-entity entity-name="GlFiscalType" entity-alias="F2"/>
        <member-entity entity-name="Product" entity-alias="G"/>
        <member-entity entity-name="EmplPositionType" entity-alias="H"/>
        <member-entity entity-name="RoleType" entity-alias="I"/>
        <member-entity entity-name="Party" entity-alias="J"/>
        <member-entity entity-name="PartyRoleAndPartyParentRole" entity-alias="K"/>
        <member-entity entity-name="CustomTimePeriod" entity-alias="L"/>
        <member-entity entity-name="AcctgTransAndEntryAndGlAcc" entity-alias="M1"/>
        <member-entity entity-name="AcctgTransAndEntryAndGlAcc" entity-alias="M2"/>
        <member-entity entity-name="WorkEffortMeasRatSc" entity-alias="N1"/>
        <member-entity entity-name="WorkEffortMeasRatSc" entity-alias="N2"/>

        <alias name="wtDashWeId" entity-alias="B" field="workEffortId" group-by="true" prim-key="false"/>
        <alias name="wtDashMeasureId" entity-alias="A" field="workEffortMeasureId" group-by="true" prim-key="true"/>
        <alias name="wtDashWeCode" entity-alias="B" field="sourceReferenceId" group-by="true"/>
        <alias name="wtDashWeName" entity-alias="B" field="workEffortName" group-by="true"/>
        <alias name="wtDashMeasureType" entity-alias="A" field="weMeasureTypeEnumId" group-by="true"/>
        <alias name="wtDashPeriodDate" entity-alias="L" field="thruDate" group-by="true" prim-key="true"/>
        <alias name="wtDashUomId" entity-alias="D" field="defaultUomId" group-by="true"/>
        <alias name="wtDashUomDescr" entity-alias="E" field="description" group-by="true"/>
        <alias name="wtDashUomType" entity-alias="E" field="uomTypeId" group-by="true"/>
        <alias name="wtDashAccountId" entity-alias="A" field="glAccountId" group-by="true"/>
        <alias name="wtDashAccountCode" entity-alias="D" field="accountCode" group-by="true"/>
        <alias name="wtDashAccountDescr" entity-alias="D" field="accountName" group-by="true"/>
        <alias name="wtDashProductId" entity-alias="A" field="productId" group-by="true"/>
        <alias name="wtDashProductDescr" entity-alias="G" field="internalName" group-by="true"/>
        <alias name="wtDashEmplPositionTypeId" entity-alias="A" field="emplPositionTypeId" group-by="true"/>
        <alias name="wtDashEmplPositionTypeDescr" entity-alias="H" field="description" group-by="true"/>
        <alias name="wtDashRoleId" entity-alias="A" field="roleTypeId" group-by="true"/>
        <alias name="wtDashRoleDescr" entity-alias="I" field="description" group-by="true"/>
        <alias name="wtDashPartyId" entity-alias="A" field="partyId" group-by="true"/>
        <alias name="wtDashPartyCode" entity-alias="K" field="parentRoleCode" group-by="true"/>
        <alias name="wtDashPartyDescr" entity-alias="J" field="partyName" group-by="true"/>
        <alias name="wtDashKpiScoreWeight" entity-alias="A" field="kpiScoreWeight" group-by="true"/>
        <alias name="wtDashValue1" function="sum" entity-alias="M1" field="transValue" group-by="false"/>
        <alias name="wtDashValue2" function="sum" entity-alias="M2" field="transValue" group-by="false"/>
        <alias name="wtDashValue1Descr" entity-alias="N1" field="uomDescr" group-by="true"/>
        <alias name="wtDashValue2Descr" entity-alias="N2" field="uomDescr" group-by="true"/>
        <alias name="wtDashValue1Code" entity-alias="N1" field="uomCode" group-by="true"/>
        <alias name="wtDashValue2Code" entity-alias="N2" field="uomCode" group-by="true"/>
        <alias name="wtDashValue1Label" entity-alias="F1" field="description" group-by="true"/>
        <alias name="wtDashValue2Label" entity-alias="F2" field="description" group-by="true"/>

        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="C">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="glAccountId" rel-field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="D" rel-entity-alias="E">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="F1">
            <key-map field-name="typeId1" rel-field-name="glFiscalTypeId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="F2">
            <key-map field-name="typeId2" rel-field-name="glFiscalTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="G" rel-optional="true">
            <key-map field-name="productId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="H" rel-optional="true">
            <key-map field-name="emplPositionTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="I" rel-optional="true">
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="J" rel-optional="true">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="K" rel-optional="true">
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="L" rel-optional="true">
            <key-map field-name="periodTypeId"/>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="M1" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-entity-alias="M1"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="not-equals" value="FINANCIAL"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-field-name="glAccountFinId" rel-entity-alias="M1"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="equals" value="FINANCIAL"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="transactionDate" entity-alias="M1" operator="greater-equals" rel-field-name="fromDate" rel-entity-alias="A"/>
                    <condition-expr field-name="transactionDate" entity-alias="M1" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="A"/>
                    <condition-expr field-name="organizationId" entity-alias="B" rel-field-name="organizationPartyId" rel-entity-alias="M1"/>
                    <condition-expr field-name="defaultUomId" entity-alias="D" rel-field-name="uomId" rel-entity-alias="M1"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="workEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="not-equals" value="null"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="weOtherGoalEnumId" operator="not-equals" value="WEMOMG_ORG"/>
                        <condition-list combine="and">
                            <condition-expr field-name="orgUnitRoleTypeId" entity-alias="B" rel-field-name="orgUnitRoleTypeId" rel-entity-alias="M1"/>
                            <condition-expr field-name="orgUnitId" entity-alias="B" rel-field-name="orgUnitId" rel-entity-alias="M1"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="productId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="productId" entity-alias="A" rel-field-name="productId" rel-entity-alias="M1"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" rel-field-name="emplPositionTypeId" rel-entity-alias="M1"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" operator="equals" value="null"/>
                            <condition-expr field-name="partyId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" rel-field-name="roleTypeId" rel-entity-alias="M1"/>
                            <condition-expr field-name="partyId" entity-alias="A" rel-field-name="partyId" rel-entity-alias="M1"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="typeId1" entity-alias="C" rel-field-name="glFiscalTypeId" rel-entity-alias="M1"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="ALL"/>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F1" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F1" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F1" operator="equals" value="ALL"/>
                        </condition-list>
                    </condition-list>
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="M2" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-entity-alias="M2"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="not-equals" value="FINANCIAL"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-field-name="glAccountFinId" rel-entity-alias="M2"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="equals" value="FINANCIAL"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="transactionDate" entity-alias="M2" operator="greater-equals" rel-field-name="fromDate" rel-entity-alias="A"/>
                    <condition-expr field-name="transactionDate" entity-alias="M2" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="A"/>
                    <condition-expr field-name="organizationId" entity-alias="B" rel-field-name="organizationPartyId" rel-entity-alias="M2"/>
                    <condition-expr field-name="defaultUomId" entity-alias="D" rel-field-name="uomId" rel-entity-alias="M2"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="workEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="not-equals" value="null"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="weOtherGoalEnumId" operator="not-equals" value="WEMOMG_ORG"/>
                        <condition-list combine="and">
                            <condition-expr field-name="orgUnitRoleTypeId" entity-alias="B" rel-field-name="orgUnitRoleTypeId" rel-entity-alias="M2"/>
                            <condition-expr field-name="orgUnitId" entity-alias="B" rel-field-name="orgUnitId" rel-entity-alias="M2"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="productId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="productId" entity-alias="A" rel-field-name="productId" rel-entity-alias="M2"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" rel-field-name="emplPositionTypeId" rel-entity-alias="M2"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" operator="equals" value="null"/>
                            <condition-expr field-name="partyId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" rel-field-name="roleTypeId" rel-entity-alias="M2"/>
                            <condition-expr field-name="partyId" entity-alias="A" rel-field-name="partyId" rel-entity-alias="M2"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="typeId2" entity-alias="C" rel-field-name="glFiscalTypeId" rel-entity-alias="M2"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="ALL"/>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F2" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F2" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F2" operator="equals" value="ALL"/>
                        </condition-list>
                    </condition-list>
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="N1" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr field-name="workEffortMeasureId" entity-alias="A" rel-entity-alias="N1"/>
                    <condition-expr field-name="uomId" entity-alias="N1" rel-entity-alias="M1"/>
                    <condition-expr field-name="uomRatingValue" entity-alias="N1" rel-field-name="transValue" rel-entity-alias="M1"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="N2" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr field-name="workEffortMeasureId" entity-alias="A" rel-entity-alias="N2"/>
                    <condition-expr field-name="uomId" entity-alias="N2" rel-entity-alias="M2"/>
                    <condition-expr field-name="uomRatingValue" entity-alias="N2" rel-field-name="transValue" rel-entity-alias="M2"/>
                </condition-list>
            </entity-condition>
        </view-link>

        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="wtDashWeId" rel-field-name="workEffortId"/>
        </relation>
    </view-entity>

    <view-entity entity-name="WorkEffortTransDashView3" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortMeasure" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="WorkEffortType" entity-alias="C"/>
        <member-entity entity-name="GlAccount" entity-alias="D"/>
        <member-entity entity-name="Uom" entity-alias="E"/>
        <member-entity entity-name="GlFiscalType" entity-alias="F1"/>
        <member-entity entity-name="GlFiscalType" entity-alias="F2"/>
        <member-entity entity-name="GlFiscalType" entity-alias="F3"/>
        <member-entity entity-name="Product" entity-alias="G"/>
        <member-entity entity-name="EmplPositionType" entity-alias="H"/>
        <member-entity entity-name="RoleType" entity-alias="I"/>
        <member-entity entity-name="Party" entity-alias="J"/>
        <member-entity entity-name="PartyRoleAndPartyParentRole" entity-alias="K"/>
        <member-entity entity-name="CustomTimePeriod" entity-alias="L"/>
        <member-entity entity-name="AcctgTransAndEntryAndGlAcc" entity-alias="M1"/>
        <member-entity entity-name="AcctgTransAndEntryAndGlAcc" entity-alias="M2"/>
        <member-entity entity-name="AcctgTransAndEntryAndGlAcc" entity-alias="M3"/>
        <member-entity entity-name="WorkEffortMeasRatSc" entity-alias="N1"/>
        <member-entity entity-name="WorkEffortMeasRatSc" entity-alias="N2"/>
        <member-entity entity-name="WorkEffortMeasRatSc" entity-alias="N3"/>

        <alias name="wtDashWeId" entity-alias="B" field="workEffortId" group-by="true" prim-key="false"/>
        <alias name="wtDashMeasureId" entity-alias="A" field="workEffortMeasureId" group-by="true" prim-key="true"/>
        <alias name="wtDashWeCode" entity-alias="B" field="sourceReferenceId" group-by="true"/>
        <alias name="wtDashWeName" entity-alias="B" field="workEffortName" group-by="true"/>
        <alias name="wtDashMeasureType" entity-alias="A" field="weMeasureTypeEnumId" group-by="true"/>
        <alias name="wtDashPeriodDate" entity-alias="L" field="thruDate" group-by="true" prim-key="true"/>
        <alias name="wtDashUomId" entity-alias="D" field="defaultUomId" group-by="true"/>
        <alias name="wtDashUomDescr" entity-alias="E" field="description" group-by="true"/>
        <alias name="wtDashUomType" entity-alias="E" field="uomTypeId" group-by="true"/>
        <alias name="wtDashAccountId" entity-alias="A" field="glAccountId" group-by="true"/>
        <alias name="wtDashAccountCode" entity-alias="D" field="accountCode" group-by="true"/>
        <alias name="wtDashAccountDescr" entity-alias="D" field="accountName" group-by="true"/>
        <alias name="wtDashProductId" entity-alias="A" field="productId" group-by="true"/>
        <alias name="wtDashProductDescr" entity-alias="G" field="internalName" group-by="true"/>
        <alias name="wtDashEmplPositionTypeId" entity-alias="A" field="emplPositionTypeId" group-by="true"/>
        <alias name="wtDashEmplPositionTypeDescr" entity-alias="H" field="description" group-by="true"/>
        <alias name="wtDashRoleId" entity-alias="A" field="roleTypeId" group-by="true"/>
        <alias name="wtDashRoleDescr" entity-alias="I" field="description" group-by="true"/>
        <alias name="wtDashPartyId" entity-alias="A" field="partyId" group-by="true"/>
        <alias name="wtDashPartyCode" entity-alias="K" field="parentRoleCode" group-by="true"/>
        <alias name="wtDashPartyDescr" entity-alias="J" field="partyName" group-by="true"/>
        <alias name="wtDashKpiScoreWeight" entity-alias="A" field="kpiScoreWeight" group-by="true"/>
        <alias name="wtDashValue1" function="sum" entity-alias="M1" field="transValue" group-by="false"/>
        <alias name="wtDashValue2" function="sum" entity-alias="M2" field="transValue" group-by="false"/>
        <alias name="wtDashValue3" function="sum" entity-alias="M3" field="transValue" group-by="false"/>
        <alias name="wtDashValue1Descr" entity-alias="N1" field="uomDescr" group-by="true"/>
        <alias name="wtDashValue2Descr" entity-alias="N2" field="uomDescr" group-by="true"/>
        <alias name="wtDashValue3Descr" entity-alias="N3" field="uomDescr" group-by="true"/>
        <alias name="wtDashValue1Code" entity-alias="N1" field="uomCode" group-by="true"/>
        <alias name="wtDashValue2Code" entity-alias="N2" field="uomCode" group-by="true"/>
        <alias name="wtDashValue3Code" entity-alias="N3" field="uomCode" group-by="true"/>
        <alias name="wtDashValue1Label" entity-alias="F1" field="description" group-by="true"/>
        <alias name="wtDashValue2Label" entity-alias="F2" field="description" group-by="true"/>
        <alias name="wtDashValue3Label" entity-alias="F3" field="description" group-by="true"/>

        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="C">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="glAccountId" rel-field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="D" rel-entity-alias="E">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="F1">
            <key-map field-name="typeId1" rel-field-name="glFiscalTypeId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="F2">
            <key-map field-name="typeId2" rel-field-name="glFiscalTypeId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="F3">
            <key-map field-name="typeId3" rel-field-name="glFiscalTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="G" rel-optional="true">
            <key-map field-name="productId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="H" rel-optional="true">
            <key-map field-name="emplPositionTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="I" rel-optional="true">
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="J" rel-optional="true">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="K" rel-optional="true">
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="L" rel-optional="true">
            <key-map field-name="periodTypeId"/>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="M1" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-entity-alias="M1"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="not-equals" value="FINANCIAL"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-field-name="glAccountFinId" rel-entity-alias="M1"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="equals" value="FINANCIAL"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="transactionDate" entity-alias="M1" operator="greater-equals" rel-field-name="fromDate" rel-entity-alias="A"/>
                    <condition-expr field-name="transactionDate" entity-alias="M1" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="A"/>
                    <condition-expr field-name="organizationId" entity-alias="B" rel-field-name="organizationPartyId" rel-entity-alias="M1"/>
                    <condition-expr field-name="defaultUomId" entity-alias="D" rel-field-name="uomId" rel-entity-alias="M1"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="workEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="not-equals" value="null"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="weOtherGoalEnumId" operator="not-equals" value="WEMOMG_ORG"/>
                        <condition-list combine="and">
                            <condition-expr field-name="orgUnitRoleTypeId" entity-alias="B" rel-field-name="orgUnitRoleTypeId" rel-entity-alias="M1"/>
                            <condition-expr field-name="orgUnitId" entity-alias="B" rel-field-name="orgUnitId" rel-entity-alias="M1"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="productId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="productId" entity-alias="A" rel-field-name="productId" rel-entity-alias="M1"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" rel-field-name="emplPositionTypeId" rel-entity-alias="M1"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" operator="equals" value="null"/>
                            <condition-expr field-name="partyId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" rel-field-name="roleTypeId" rel-entity-alias="M1"/>
                            <condition-expr field-name="partyId" entity-alias="A" rel-field-name="partyId" rel-entity-alias="M1"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="typeId1" entity-alias="C" rel-field-name="glFiscalTypeId" rel-entity-alias="M1"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="ALL"/>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F1" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F1" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F1" operator="equals" value="ALL"/>
                        </condition-list>
                    </condition-list>
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="M2" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-entity-alias="M2"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="not-equals" value="FINANCIAL"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-field-name="glAccountFinId" rel-entity-alias="M2"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="equals" value="FINANCIAL"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="transactionDate" entity-alias="M2" operator="greater-equals" rel-field-name="fromDate" rel-entity-alias="A"/>
                    <condition-expr field-name="transactionDate" entity-alias="M2" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="A"/>
                    <condition-expr field-name="organizationId" entity-alias="B" rel-field-name="organizationPartyId" rel-entity-alias="M2"/>
                    <condition-expr field-name="defaultUomId" entity-alias="D" rel-field-name="uomId" rel-entity-alias="M2"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="workEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="not-equals" value="null"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="weOtherGoalEnumId" operator="not-equals" value="WEMOMG_ORG"/>
                        <condition-list combine="and">
                            <condition-expr field-name="orgUnitRoleTypeId" entity-alias="B" rel-field-name="orgUnitRoleTypeId" rel-entity-alias="M2"/>
                            <condition-expr field-name="orgUnitId" entity-alias="B" rel-field-name="orgUnitId" rel-entity-alias="M2"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="productId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="productId" entity-alias="A" rel-field-name="productId" rel-entity-alias="M2"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" rel-field-name="emplPositionTypeId" rel-entity-alias="M2"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" operator="equals" value="null"/>
                            <condition-expr field-name="partyId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" rel-field-name="roleTypeId" rel-entity-alias="M2"/>
                            <condition-expr field-name="partyId" entity-alias="A" rel-field-name="partyId" rel-entity-alias="M2"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="typeId2" entity-alias="C" rel-field-name="glFiscalTypeId" rel-entity-alias="M2"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="ALL"/>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F2" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F2" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F2" operator="equals" value="ALL"/>
                        </condition-list>
                    </condition-list>
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="M3" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-entity-alias="M3"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="not-equals" value="FINANCIAL"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-field-name="glAccountFinId" rel-entity-alias="M3"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="equals" value="FINANCIAL"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="transactionDate" entity-alias="M3" operator="greater-equals" rel-field-name="fromDate" rel-entity-alias="A"/>
                    <condition-expr field-name="transactionDate" entity-alias="M3" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="A"/>
                    <condition-expr field-name="organizationId" entity-alias="B" rel-field-name="organizationPartyId" rel-entity-alias="M3"/>
                    <condition-expr field-name="defaultUomId" entity-alias="D" rel-field-name="uomId" rel-entity-alias="M3"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="workEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M3"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="not-equals" value="null"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M3"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="weOtherGoalEnumId" operator="not-equals" value="WEMOMG_ORG"/>
                        <condition-list combine="and">
                            <condition-expr field-name="orgUnitRoleTypeId" entity-alias="B" rel-field-name="orgUnitRoleTypeId" rel-entity-alias="M3"/>
                            <condition-expr field-name="orgUnitId" entity-alias="B" rel-field-name="orgUnitId" rel-entity-alias="M3"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="productId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="productId" entity-alias="A" rel-field-name="productId" rel-entity-alias="M3"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" rel-field-name="emplPositionTypeId" rel-entity-alias="M3"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" operator="equals" value="null"/>
                            <condition-expr field-name="partyId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" rel-field-name="roleTypeId" rel-entity-alias="M3"/>
                            <condition-expr field-name="partyId" entity-alias="A" rel-field-name="partyId" rel-entity-alias="M3"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="typeId3" entity-alias="C" rel-field-name="glFiscalTypeId" rel-entity-alias="M3"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M3"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M3"/>
                        </condition-list>
                        <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="ALL"/>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F3" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M3"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F3" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M3"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F3" operator="equals" value="ALL"/>
                        </condition-list>
                    </condition-list>
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="N1" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr field-name="workEffortMeasureId" entity-alias="A" rel-entity-alias="N1"/>
                    <condition-expr field-name="uomId" entity-alias="N1" rel-entity-alias="M1"/>
                    <condition-expr field-name="uomRatingValue" entity-alias="N1" rel-field-name="transValue" rel-entity-alias="M1"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="N2" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr field-name="workEffortMeasureId" entity-alias="A" rel-entity-alias="N2"/>
                    <condition-expr field-name="uomId" entity-alias="N2" rel-entity-alias="M2"/>
                    <condition-expr field-name="uomRatingValue" entity-alias="N2" rel-field-name="transValue" rel-entity-alias="M2"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="N3" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr field-name="workEffortMeasureId" entity-alias="A" rel-entity-alias="N3"/>
                    <condition-expr field-name="uomId" entity-alias="N3" rel-entity-alias="M3"/>
                    <condition-expr field-name="uomRatingValue" entity-alias="N3" rel-field-name="transValue" rel-entity-alias="M3"/>
                </condition-list>
            </entity-condition>
        </view-link>

        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="wtDashWeId" rel-field-name="workEffortId"/>
        </relation>
    </view-entity>

    <view-entity entity-name="WorkEffortTransDashView4" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortMeasure" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="WorkEffortType" entity-alias="C"/>
        <member-entity entity-name="GlAccount" entity-alias="D"/>
        <member-entity entity-name="Uom" entity-alias="E"/>
        <member-entity entity-name="GlFiscalType" entity-alias="F1"/>
        <member-entity entity-name="GlFiscalType" entity-alias="F2"/>
        <member-entity entity-name="GlFiscalType" entity-alias="F3"/>
        <member-entity entity-name="GlFiscalType" entity-alias="F4"/>
        <member-entity entity-name="Product" entity-alias="G"/>
        <member-entity entity-name="EmplPositionType" entity-alias="H"/>
        <member-entity entity-name="RoleType" entity-alias="I"/>
        <member-entity entity-name="Party" entity-alias="J"/>
        <member-entity entity-name="PartyRoleAndPartyParentRole" entity-alias="K"/>
        <member-entity entity-name="CustomTimePeriod" entity-alias="L"/>
        <member-entity entity-name="AcctgTransAndEntryAndGlAcc" entity-alias="M1"/>
        <member-entity entity-name="AcctgTransAndEntryAndGlAcc" entity-alias="M2"/>
        <member-entity entity-name="AcctgTransAndEntryAndGlAcc" entity-alias="M3"/>
        <member-entity entity-name="AcctgTransAndEntryAndGlAcc" entity-alias="M4"/>
        <member-entity entity-name="WorkEffortMeasRatSc" entity-alias="N1"/>
        <member-entity entity-name="WorkEffortMeasRatSc" entity-alias="N2"/>
        <member-entity entity-name="WorkEffortMeasRatSc" entity-alias="N3"/>
        <member-entity entity-name="WorkEffortMeasRatSc" entity-alias="N4"/>

        <alias name="wtDashWeId" entity-alias="B" field="workEffortId" group-by="true" prim-key="false"/>
        <alias name="wtDashMeasureId" entity-alias="A" field="workEffortMeasureId" group-by="true" prim-key="true"/>
        <alias name="wtDashWeCode" entity-alias="B" field="sourceReferenceId" group-by="true"/>
        <alias name="wtDashWeName" entity-alias="B" field="workEffortName" group-by="true"/>
        <alias name="wtDashMeasureType" entity-alias="A" field="weMeasureTypeEnumId" group-by="true"/>
        <alias name="wtDashPeriodDate" entity-alias="L" field="thruDate" group-by="true" prim-key="true"/>
        <alias name="wtDashUomId" entity-alias="D" field="defaultUomId" group-by="true"/>
        <alias name="wtDashUomDescr" entity-alias="E" field="description" group-by="true"/>
        <alias name="wtDashUomType" entity-alias="E" field="uomTypeId" group-by="true"/>
        <alias name="wtDashAccountId" entity-alias="A" field="glAccountId" group-by="true"/>
        <alias name="wtDashAccountCode" entity-alias="D" field="accountCode" group-by="true"/>
        <alias name="wtDashAccountDescr" entity-alias="D" field="accountName" group-by="true"/>
        <alias name="wtDashProductId" entity-alias="A" field="productId" group-by="true"/>
        <alias name="wtDashProductDescr" entity-alias="G" field="internalName" group-by="true"/>
        <alias name="wtDashEmplPositionTypeId" entity-alias="A" field="emplPositionTypeId" group-by="true"/>
        <alias name="wtDashEmplPositionTypeDescr" entity-alias="H" field="description" group-by="true"/>
        <alias name="wtDashRoleId" entity-alias="A" field="roleTypeId" group-by="true"/>
        <alias name="wtDashRoleDescr" entity-alias="I" field="description" group-by="true"/>
        <alias name="wtDashPartyId" entity-alias="A" field="partyId" group-by="true"/>
        <alias name="wtDashPartyCode" entity-alias="K" field="parentRoleCode" group-by="true"/>
        <alias name="wtDashPartyDescr" entity-alias="J" field="partyName" group-by="true"/>
        <alias name="wtDashKpiScoreWeight" entity-alias="A" field="kpiScoreWeight" group-by="true"/>
        <alias name="wtDashValue1" function="sum" entity-alias="M1" field="transValue" group-by="false"/>
        <alias name="wtDashValue2" function="sum" entity-alias="M2" field="transValue" group-by="false"/>
        <alias name="wtDashValue3" function="sum" entity-alias="M3" field="transValue" group-by="false"/>
        <alias name="wtDashValue4" function="sum" entity-alias="M4" field="transValue" group-by="false"/>
        <alias name="wtDashValue1Descr" entity-alias="N1" field="uomDescr" group-by="true"/>
        <alias name="wtDashValue2Descr" entity-alias="N2" field="uomDescr" group-by="true"/>
        <alias name="wtDashValue3Descr" entity-alias="N3" field="uomDescr" group-by="true"/>
        <alias name="wtDashValue4Descr" entity-alias="N4" field="uomDescr" group-by="true"/>
        <alias name="wtDashValue1Code" entity-alias="N1" field="uomCode" group-by="true"/>
        <alias name="wtDashValue2Code" entity-alias="N2" field="uomCode" group-by="true"/>
        <alias name="wtDashValue3Code" entity-alias="N3" field="uomCode" group-by="true"/>
        <alias name="wtDashValue4Code" entity-alias="N4" field="uomCode" group-by="true"/>
        <alias name="wtDashValue1Label" entity-alias="F1" field="description" group-by="true"/>
        <alias name="wtDashValue2Label" entity-alias="F2" field="description" group-by="true"/>
        <alias name="wtDashValue3Label" entity-alias="F3" field="description" group-by="true"/>
        <alias name="wtDashValue4Label" entity-alias="F4" field="description" group-by="true"/>

        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="C">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="glAccountId" rel-field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="D" rel-entity-alias="E">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="F1">
            <key-map field-name="typeId1" rel-field-name="glFiscalTypeId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="F2">
            <key-map field-name="typeId2" rel-field-name="glFiscalTypeId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="F3">
            <key-map field-name="typeId3" rel-field-name="glFiscalTypeId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="F4">
            <key-map field-name="typeId4" rel-field-name="glFiscalTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="G" rel-optional="true">
            <key-map field-name="productId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="H" rel-optional="true">
            <key-map field-name="emplPositionTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="I" rel-optional="true">
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="J" rel-optional="true">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="K" rel-optional="true">
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="L" rel-optional="true">
            <key-map field-name="periodTypeId"/>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="M1" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-entity-alias="M1"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="not-equals" value="FINANCIAL"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-field-name="glAccountFinId" rel-entity-alias="M1"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="equals" value="FINANCIAL"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="transactionDate" entity-alias="M1" operator="greater-equals" rel-field-name="fromDate" rel-entity-alias="A"/>
                    <condition-expr field-name="transactionDate" entity-alias="M1" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="A"/>
                    <condition-expr field-name="organizationId" entity-alias="B" rel-field-name="organizationPartyId" rel-entity-alias="M1"/>
                    <condition-expr field-name="defaultUomId" entity-alias="D" rel-field-name="uomId" rel-entity-alias="M1"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="workEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="not-equals" value="null"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="weOtherGoalEnumId" operator="not-equals" value="WEMOMG_ORG"/>
                        <condition-list combine="and">
                            <condition-expr field-name="orgUnitRoleTypeId" entity-alias="B" rel-field-name="orgUnitRoleTypeId" rel-entity-alias="M1"/>
                            <condition-expr field-name="orgUnitId" entity-alias="B" rel-field-name="orgUnitId" rel-entity-alias="M1"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="productId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="productId" entity-alias="A" rel-field-name="productId" rel-entity-alias="M1"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" rel-field-name="emplPositionTypeId" rel-entity-alias="M1"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" operator="equals" value="null"/>
                            <condition-expr field-name="partyId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" rel-field-name="roleTypeId" rel-entity-alias="M1"/>
                            <condition-expr field-name="partyId" entity-alias="A" rel-field-name="partyId" rel-entity-alias="M1"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="typeId1" entity-alias="C" rel-field-name="glFiscalTypeId" rel-entity-alias="M1"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="ALL"/>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F1" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F1" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M1"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F1" operator="equals" value="ALL"/>
                        </condition-list>
                    </condition-list>
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="M2" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-entity-alias="M2"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="not-equals" value="FINANCIAL"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-field-name="glAccountFinId" rel-entity-alias="M2"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="equals" value="FINANCIAL"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="transactionDate" entity-alias="M2" operator="greater-equals" rel-field-name="fromDate" rel-entity-alias="A"/>
                    <condition-expr field-name="transactionDate" entity-alias="M2" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="A"/>
                    <condition-expr field-name="organizationId" entity-alias="B" rel-field-name="organizationPartyId" rel-entity-alias="M2"/>
                    <condition-expr field-name="defaultUomId" entity-alias="D" rel-field-name="uomId" rel-entity-alias="M2"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="workEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="not-equals" value="null"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="weOtherGoalEnumId" operator="not-equals" value="WEMOMG_ORG"/>
                        <condition-list combine="and">
                            <condition-expr field-name="orgUnitRoleTypeId" entity-alias="B" rel-field-name="orgUnitRoleTypeId" rel-entity-alias="M2"/>
                            <condition-expr field-name="orgUnitId" entity-alias="B" rel-field-name="orgUnitId" rel-entity-alias="M2"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="productId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="productId" entity-alias="A" rel-field-name="productId" rel-entity-alias="M2"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" rel-field-name="emplPositionTypeId" rel-entity-alias="M2"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" operator="equals" value="null"/>
                            <condition-expr field-name="partyId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" rel-field-name="roleTypeId" rel-entity-alias="M2"/>
                            <condition-expr field-name="partyId" entity-alias="A" rel-field-name="partyId" rel-entity-alias="M2"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="typeId1" entity-alias="C" rel-field-name="glFiscalTypeId" rel-entity-alias="M2"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="ALL"/>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F2" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F2" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M2"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F2" operator="equals" value="ALL"/>
                        </condition-list>
                    </condition-list>
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="M3" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-entity-alias="M3"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="not-equals" value="FINANCIAL"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-field-name="glAccountFinId" rel-entity-alias="M3"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="equals" value="FINANCIAL"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="transactionDate" entity-alias="M3" operator="greater-equals" rel-field-name="fromDate" rel-entity-alias="A"/>
                    <condition-expr field-name="transactionDate" entity-alias="M3" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="A"/>
                    <condition-expr field-name="organizationId" entity-alias="B" rel-field-name="organizationPartyId" rel-entity-alias="M3"/>
                    <condition-expr field-name="defaultUomId" entity-alias="D" rel-field-name="uomId" rel-entity-alias="M3"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="workEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M3"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="not-equals" value="null"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M3"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="weOtherGoalEnumId" operator="not-equals" value="WEMOMG_ORG"/>
                        <condition-list combine="and">
                            <condition-expr field-name="orgUnitRoleTypeId" entity-alias="B" rel-field-name="orgUnitRoleTypeId" rel-entity-alias="M3"/>
                            <condition-expr field-name="orgUnitId" entity-alias="B" rel-field-name="orgUnitId" rel-entity-alias="M3"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="productId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="productId" entity-alias="A" rel-field-name="productId" rel-entity-alias="M3"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" rel-field-name="emplPositionTypeId" rel-entity-alias="M3"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" operator="equals" value="null"/>
                            <condition-expr field-name="partyId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" rel-field-name="roleTypeId" rel-entity-alias="M3"/>
                            <condition-expr field-name="partyId" entity-alias="A" rel-field-name="partyId" rel-entity-alias="M3"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="typeId3" entity-alias="C" rel-field-name="glFiscalTypeId" rel-entity-alias="M3"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M3"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M3"/>
                        </condition-list>
                        <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="ALL"/>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F3" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M3"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F3" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M3"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F3" operator="equals" value="ALL"/>
                        </condition-list>
                    </condition-list>
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="M4" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-entity-alias="M4"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="not-equals" value="FINANCIAL"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="glAccountId" entity-alias="A" rel-field-name="glAccountFinId" rel-entity-alias="M4"/>
                            <condition-expr field-name="accountTypeEnumId" entity-alias="D" operator="equals" value="FINANCIAL"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="transactionDate" entity-alias="M4" operator="greater-equals" rel-field-name="fromDate" rel-entity-alias="A"/>
                    <condition-expr field-name="transactionDate" entity-alias="M4" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="A"/>
                    <condition-expr field-name="organizationId" entity-alias="B" rel-field-name="organizationPartyId" rel-entity-alias="M4"/>
                    <condition-expr field-name="defaultUomId" entity-alias="D" rel-field-name="uomId" rel-entity-alias="M4"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="workEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M4"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="not-equals" value="null"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" rel-field-name="workEffortId" rel-entity-alias="M4"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="A" operator="not-equals" value="WEMOMG_WEFF"/>
                            <condition-expr field-name="otherWorkEffortId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="weOtherGoalEnumId" operator="not-equals" value="WEMOMG_ORG"/>
                        <condition-list combine="and">
                            <condition-expr field-name="orgUnitRoleTypeId" entity-alias="B" rel-field-name="orgUnitRoleTypeId" rel-entity-alias="M4"/>
                            <condition-expr field-name="orgUnitId" entity-alias="B" rel-field-name="orgUnitId" rel-entity-alias="M4"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="productId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="productId" entity-alias="A" rel-field-name="productId" rel-entity-alias="M4"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" operator="equals" value="null"/>
                        <condition-expr field-name="emplPositionTypeId" entity-alias="A" rel-field-name="emplPositionTypeId" rel-entity-alias="M4"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" operator="equals" value="null"/>
                            <condition-expr field-name="partyId" entity-alias="A" operator="equals" value="null"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="roleTypeId" entity-alias="A" rel-field-name="roleTypeId" rel-entity-alias="M4"/>
                            <condition-expr field-name="partyId" entity-alias="A" rel-field-name="partyId" rel-entity-alias="M4"/>
                        </condition-list>
                    </condition-list>
                    <condition-expr field-name="typeId4" entity-alias="C" rel-field-name="glFiscalTypeId" rel-entity-alias="M4"/>
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M4"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M4"/>
                        </condition-list>
                        <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="ALL"/>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F4" operator="equals" value="PRDABS_ABSOLUTE"/>
                            <condition-expr field-name="thruDate" entity-alias="L" rel-field-name="transactionDate" rel-entity-alias="M4"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F4" operator="equals" value="PRDABS_PERIODICAL"/>
                            <condition-expr field-name="thruDate" entity-alias="L" operator="greater-equals" rel-field-name="transactionDate" rel-entity-alias="M4"/>
                        </condition-list>
                        <condition-list combine="and">
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="D" operator="equals" value="null"/>
                            <condition-expr field-name="periodicalAbsoluteEnumId" entity-alias="F4" operator="equals" value="ALL"/>
                        </condition-list>
                    </condition-list>
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="A" rel-entity-alias="N1" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr field-name="workEffortMeasureId" entity-alias="A" rel-entity-alias="N1"/>
                    <condition-expr field-name="uomId" entity-alias="N1" rel-entity-alias="M1"/>
                    <condition-expr field-name="uomRatingValue" entity-alias="N1" rel-field-name="transValue" rel-entity-alias="M1"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="N2" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr field-name="workEffortMeasureId" entity-alias="A" rel-entity-alias="N2"/>
                    <condition-expr field-name="uomId" entity-alias="N2" rel-entity-alias="M2"/>
                    <condition-expr field-name="uomRatingValue" entity-alias="N2" rel-field-name="transValue" rel-entity-alias="M2"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="N3" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr field-name="workEffortMeasureId" entity-alias="A" rel-entity-alias="N3"/>
                    <condition-expr field-name="uomId" entity-alias="N3" rel-entity-alias="M3"/>
                    <condition-expr field-name="uomRatingValue" entity-alias="N3" rel-field-name="transValue" rel-entity-alias="M3"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="N4" rel-optional="true">
            <entity-condition>
                <condition-list combine="and">
                    <condition-expr field-name="workEffortMeasureId" entity-alias="A" rel-entity-alias="N4"/>
                    <condition-expr field-name="uomId" entity-alias="N4" rel-entity-alias="M4"/>
                    <condition-expr field-name="uomRatingValue" entity-alias="N4" rel-field-name="transValue" rel-entity-alias="M4"/>
                </condition-list>
            </entity-condition>
        </view-link>

        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="wtDashWeId" rel-field-name="workEffortId"/>
        </relation>
    </view-entity>

    <view-entity entity-name="WEffTransDashViewDateHelper" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="CustomTimePeriod" entity-alias="C"/>

        <alias name="wtDashWeId" field="workEffortId" entity-alias="A" group-by="true"/>
        <alias name="wtDashWeTId" field="workEffortTypeId" entity-alias="B" group-by="true"/>
        <alias name="wtDashCtpMaxThruDate" field="thruDate" entity-alias="C" function="max"/>

        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="periodTypeId" entity-alias="B" rel-entity-alias="C"/>
                    <condition-expr field-name="estimatedCompletionDate" entity-alias="A" operator="greater-equals" rel-field-name="thruDate" rel-entity-alias="C"/>
                </condition-list>
            </entity-condition>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortCommunicationEventAndRoleView" package-name="org.ofbiz.workeffort.workeffort" title="Work Effort And CommunicationEvent">
        <description>Ties WECommEvent to CommunicationEvent.</description>
        <member-entity entity-alias="CEWE" entity-name="CommunicationEventWorkEff"/>
        <member-entity entity-alias="CR" entity-name="CommunicationEventRole"/>
        <member-entity entity-alias="CE" entity-name="CommunicationEvent"/>
        <alias-all entity-alias="CEWE"/>
        <alias-all entity-alias="CE"/>
        <alias entity-alias="CR" name="partyId"/>
        <alias entity-alias="CR" name="roleTypeId"/>
        <alias entity-alias="CR" name="roleStatusId" field="statusId"/>
        <alias entity-alias="CR" name="contactMechId"/>
        <view-link entity-alias="CEWE" rel-entity-alias="CE">
            <key-map field-name="communicationEventId"/>
        </view-link>
        <view-link entity-alias="CE" rel-entity-alias="CR">
            <key-map field-name="communicationEventId"/>
        </view-link>
        <relation type="one-nofk" rel-entity-name="WorkEffort">
            <key-map field-name="workEffortId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="CommunicationEvent">
            <key-map field-name="communicationEventId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="Party">
            <key-map field-name="partyId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="RoleType">
            <key-map field-name="roleTypeId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="PartyRole">
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="CommunicationEventType">
            <key-map field-name="communicationEventTypeId"/>
        </relation>
        <relation type="many" rel-entity-name="CommunicationEventPurpose">
            <key-map field-name="communicationEventId"/>
        </relation>
        <relation type="one-nofk" title="To" rel-entity-name="Party">
            <key-map field-name="partyIdTo" rel-field-name="partyId"/>
        </relation>
        <relation type="one-nofk" title="To" rel-entity-name="RoleType">
            <key-map field-name="roleTypeIdTo" rel-field-name="roleTypeId"/>
        </relation>
        <relation type="one-nofk" title="To" rel-entity-name="PartyRole">
            <key-map field-name="partyIdTo" rel-field-name="partyId"/>
            <key-map field-name="roleTypeIdTo" rel-field-name="roleTypeId"/>
        </relation>
        <relation type="one-nofk" title="From" rel-entity-name="Party">
            <key-map field-name="partyIdFrom" rel-field-name="partyId"/>
        </relation>
        <relation type="one-nofk" title="From" rel-entity-name="RoleType">
            <key-map field-name="roleTypeIdFrom" rel-field-name="roleTypeId"/>
        </relation>
        <relation type="one-nofk" title="From" rel-entity-name="PartyRole">
            <key-map field-name="partyIdFrom" rel-field-name="partyId"/>
            <key-map field-name="roleTypeIdFrom" rel-field-name="roleTypeId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="StatusItem">
            <key-map field-name="statusId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="ContactMechType">
            <key-map field-name="contactMechTypeId"/>
        </relation>
    </view-entity>

    <!-- Gestione contenuti ToDo: 2023 -->
    <view-entity entity-name="WorkEffortAndContentDataResourceExtended" package-name="org.ofbiz.workeffort.workeffort" title="WorkEffort and Content and DataResource View Entity">
        <member-entity entity-alias="WECO" entity-name="WorkEffortContent"/>
        <member-entity entity-alias="CO" entity-name="Content"/>
        <member-entity entity-alias="DR" entity-name="DataResource"/>
        <member-entity entity-alias="CT" entity-name="ContentType"/>
        <alias-all entity-alias="WECO">
            <exclude field="contentId"/>
        </alias-all>
        <alias-all entity-alias="CO">
            <exclude field="dataResourceId"/>
            <exclude field="createdDate"/>
            <exclude field="createdByUserLogin"/>
            <exclude field="lastModifiedDate"/>
            <exclude field="lastModifiedByUserLogin"/>
        </alias-all>
        <alias-all entity-alias="DR">
            <exclude field="dataSourceId"/>
            <exclude field="statusId"/>
            <exclude field="localeString"/>
            <exclude field="mimeTypeId"/>
            <exclude field="characterSetId"/>
            <exclude field="createdDate"/>
            <exclude field="createdByUserLogin"/>
            <exclude field="lastModifiedDate"/>
            <exclude field="lastModifiedByUserLogin"/>
        </alias-all>
        <alias name="drDataSourceId" entity-alias="DR" field="dataSourceId"/>
        <alias name="drStatusId" entity-alias="DR" field="statusId"/>
        <alias name="drLocaleString" entity-alias="DR" field="localeString"/>
        <alias name="drCharacterSetId" entity-alias="DR" field="characterSetId"/>
        <alias name="contentTypeDescription" entity-alias="CT" field="description"/>
        <view-link entity-alias="WECO" rel-entity-alias="CO" rel-optional="false">
            <key-map field-name="contentId"/>
        </view-link>
        <view-link entity-alias="CO" rel-entity-alias="DR" rel-optional="true">
            <key-map field-name="dataResourceId"/>
        </view-link>
        <view-link entity-alias="CO" rel-entity-alias="CT">
            <key-map field-name="contentTypeId"/>
        </view-link>
        <relation type="one-nofk" rel-entity-name="ElectronicText">
            <key-map field-name="dataResourceId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="WorkEffortView">
            <key-map field-name="workEffortId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="ImageDataResource">
            <key-map field-name="dataResourceId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="OtherDataResource">
            <key-map field-name="dataResourceId"/>
        </relation>
        <relation type="many" rel-entity-name="ContentAssocDataResourceViewFrom">
            <key-map field-name="contentId" rel-field-name="contentIdStart"/>
        </relation>
        <relation type="many" rel-entity-name="ContentAssocDataResourceViewTo">
            <key-map field-name="contentId" rel-field-name="contentIdStart"/>
        </relation>
        <relation type="many" title="From" rel-entity-name="ContentAssoc">
            <key-map field-name="contentId"/>
        </relation>
        <relation type="many" title="To" rel-entity-name="ContentAssoc">
            <key-map field-name="contentId" rel-field-name="contentIdTo"/>
        </relation>
        <relation type="many" rel-entity-name="ContentPurpose">
            <key-map field-name="contentId"/>
        </relation>
        <relation type="many" rel-entity-name="ContentRole">
            <key-map field-name="contentId"/>
        </relation>
    </view-entity>
    
    <view-entity entity-name="WorkEffortContentAndWorkEffort" package-name="org.ofbiz.workeffort.workeffort">
    	<member-entity entity-alias="A" entity-name="WorkEffortContent"/>
    	<member-entity entity-alias="B" entity-name="WorkEffort"/>
    	<alias-all entity-alias="A"/>
    	<alias name="workEffortTypeId" entity-alias="B"/>
    	<view-link rel-entity-alias="A" entity-alias="B">
    		<key-map field-name="workEffortId"/>
    	</view-link>
    </view-entity>

    <view-entity entity-name="ContentTypeAndWorkEffortContentType" package-name="org.ofbiz.workeffort.workeffort" title="ContentType and WorkEffortContentType View Entity">
        <member-entity entity-alias="WCT" entity-name="WorkEffortContentType"/>
        <member-entity entity-alias="CT" entity-name="ContentType"/>
        <alias-all entity-alias="CT"/>
        <alias-all entity-alias="WCT">
            <exclude field="parentTypeId"/>
            <exclude field="description"/>
        </alias-all>
        <alias entity-alias="WCT" field="description" name="wctDescription"/>
        <alias entity-alias="WCT" field="descriptionLang" name="wctDescriptionLang"/>
        <alias entity-alias="WCT" field="parentTypeId" name="wctParentTypeId"/>
        <view-link entity-alias="WCT" rel-entity-alias="CT" rel-optional="true">
            <key-map field-name="contentTypeId"/>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="ContentTypeAndWorkEffortTypeContentType" package-name="org.ofbiz.workeffort.workeffort">       
        <member-entity entity-alias="A" entity-name="WorkEffortContentType"/>
        <member-entity entity-alias="B" entity-name="WorkEffortTypeContentType"/>
        <member-entity entity-alias="C" entity-name="ContentType"/>
        
        <alias entity-alias="A" name="workEffortContentTypeId"/>
        <alias entity-alias="C" name="contentTypeId"/>
        <alias entity-alias="A" field="description" name="wctDescription"/>
        <alias entity-alias="A" field="descriptionLang" name="wctDescriptionLang"/>
        <alias entity-alias="C" name="description"/>
        <alias entity-alias="B" name="workEffortTypeId"/>
        <alias entity-alias="B" name="sequenceNum"/>

        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortContentTypeId"/>
        </view-link>        
        <view-link entity-alias="A" rel-entity-alias="C" rel-optional="true">
            <key-map field-name="contentTypeId"/>
        </view-link>       
    </view-entity>

    <view-entity entity-name="WorkEffortMeasRatScAvailView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortMeasure" entity-alias="A"/>
        <member-entity entity-name="GlAccount" entity-alias="B"/>
        <member-entity entity-name="UomRatingScale" entity-alias="C"/>
        <alias-all entity-alias="C"/>
        <alias entity-alias="B" name="glAccountId"/>
        <alias entity-alias="A" name="workEffortMeasureId"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="glAccountId" rel-field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="C">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
    </view-entity>

    <!-- Viste di ausilio per la visualizzazione del punteggio nelle stampe della scheda di valutazione -->
    <view-entity entity-name="WorkEffortScoreView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="E" entity-name="AcctgTransEntry"/>
        <member-entity entity-alias="T" entity-name="AcctgTrans"/>
        <member-entity entity-alias="M" entity-name="WorkEffortMeasure"/>
        <alias entity-alias="M" name="workEffortId" group-by="true" prim-key="true"/>
        <alias entity-alias="T" name="transactionDate" group-by="true" prim-key="true"/>
        <alias entity-alias="T" name="glFiscalTypeId" group-by="true" prim-key="true"/>
        <alias entity-alias="E" name="score" field="amount" function="min"/>
        <alias entity-alias="E" name="alert" field="hasScoreAlert" function="max"/>
        <view-link rel-entity-alias="T" entity-alias="E">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link rel-entity-alias="M" entity-alias="T">
            <key-map field-name="voucherRef" rel-field-name="workEffortMeasureId"/>
            <entity-condition>
                <condition-expr field-name="glAccountId" entity-alias="E" rel-field-name="glAccountId" rel-entity-alias="M"/>
            </entity-condition>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr entity-alias="M" field-name="weMeasureTypeEnumId" value="WEMT_SCORE"/>
                <condition-expr entity-alias="E" field-name="glAccountId" value="SCORE"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortScorekpiView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="M" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="U" entity-name="Uom"/>
        <member-entity entity-alias="T" entity-name="AcctgTrans"/>
        <member-entity entity-alias="E" entity-name="AcctgTransEntry"/>
        <alias entity-alias="M" name="workEffortId" group-by="true" prim-key="true"/>
        <alias entity-alias="G" name="accountName" group-by="true"/>
        <alias entity-alias="G" name="accountDescription" field="description" group-by="true"/>
        <alias entity-alias="U" name="uomId" group-by="true"/>
        <alias entity-alias="U" name="uomTypeId" group-by="true"/>
        <alias entity-alias="M" name="weMeasureFromDate" field="fromDate" group-by="true" prim-key="true"/>
        <alias entity-alias="M" name="weMeasureThruDate" field="thruDate" group-by="true"/>
        <alias entity-alias="E" name="voucherRef" group-by="true"/>
        <alias entity-alias="T" name="transactionDate" group-by="true" prim-key="true"/>
        <alias entity-alias="T" name="glFiscalTypeId" group-by="true" prim-key="true"/>
        <alias entity-alias="E" name="score" field="amount" function="min"/>
        <alias entity-alias="E" name="alert" field="hasScoreAlert" function="max"/>
        <alias entity-alias="E" name="perfAmountTarget" field="perfAmountTarget" function="min"/>
        <alias entity-alias="E" name="perfAmountActual" field="perfAmountActual" function="min"/>
        <view-link rel-entity-alias="G" entity-alias="M">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link rel-entity-alias="U" entity-alias="G">
            <key-map rel-field-name="uomId" field-name="defaultUomId"/>
        </view-link>
        <view-link rel-entity-alias="T" entity-alias="M" rel-optional="true">
            <key-map rel-field-name="voucherRef" field-name="workEffortMeasureId"/>
        </view-link>
        <view-link rel-entity-alias="E" entity-alias="T" rel-optional="true">
            <key-map field-name="acctgTransId"/>
            <entity-condition>
                <condition-expr entity-alias="E" field-name="glAccountId" value="SCOREKPI"/>
            </entity-condition>
        </view-link>
        <entity-condition>
            <condition-expr entity-alias="M" field-name="weMeasureTypeEnumId" value="WEMT_PERF"/>
        </entity-condition>
    </view-entity>


    <!--
        ========================
        Calcolo punteggio 2278
        ========================
    -->


    <!-- View per cancellazione testata KPI -->
    <view-entity entity-name="WorkEffortMeasureDeleteKpiHead" package-name="org.ofbiz.workeffort.workeffort">
        <description>Kpi to delete</description>
        <member-entity entity-name="AcctgTrans" entity-alias="T"/>
        <member-entity entity-name="WorkEffortMeasure" entity-alias="M"/>
        <member-entity entity-name="WorkEffort" entity-alias="W"/>
        <!-- Id per cancellazione -->
        <alias name="acctgTransId" entity-alias="T"></alias>
        <!-- campi per where -->
        <alias name="transactionDate" entity-alias="T"></alias>
        <alias name="glFiscalTypeId" entity-alias="T"></alias>
        <alias name="workEffortParentId" entity-alias="W"></alias>
        <view-link entity-alias="T" rel-entity-alias="M">
            <key-map field-name="voucherRef" rel-field-name="workEffortMeasureId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
            <!-- GN-899
            <entity-condition>
                <condition-expr field-name="weMeasureTypeEnumId" entity-alias="M" value="WEMT_PERF"/>
            </entity-condition> -->
        </view-link>
        <entity-condition>
            <condition-expr field-name="acctgTransTypeId" entity-alias="T" value="SCOREKPI"/>
        </entity-condition>
    </view-entity>

    <!-- View per cancellazione righe KPI -->
    <view-entity entity-name="WorkEffortMeasureDeleteKpiRow" package-name="org.ofbiz.workeffort.workeffort">
        <description>Kpi to delete</description>
        <member-entity entity-name="AcctgTransEntry" entity-alias="D"/>
        <member-entity entity-name="AcctgTrans" entity-alias="T"/>
        <member-entity entity-name="WorkEffortMeasure" entity-alias="M"/>
        <member-entity entity-name="WorkEffort" entity-alias="W"/>
        <!-- Id per cancellazione -->
        <alias name="acctgTransEntrySeqId" entity-alias="D"></alias>
        <alias name="acctgTransId" entity-alias="T"></alias>
        <!-- campi per where -->
        <alias name="transactionDate" entity-alias="T"></alias>
        <alias name="glFiscalTypeId" entity-alias="T"></alias>
        <alias name="workEffortParentId" entity-alias="W"></alias>
        <alias name="amountLocked" entity-alias="D"/>
        <view-link entity-alias="D" rel-entity-alias="T">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="T" rel-entity-alias="M">
            <key-map field-name="voucherRef" rel-field-name="workEffortMeasureId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
            <!-- GN-899 
            <entity-condition>
                <condition-expr field-name="weMeasureTypeEnumId" entity-alias="M" value="WEMT_PERF"/>
            </entity-condition> -->
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="glAccountId" entity-alias="D" value="SCOREKPI"/>
                <condition-list combine="or">
                    <condition-expr field-name="amountLocked" entity-alias="D" value="null"/>
                    <condition-expr field-name="amountLocked" entity-alias="D" operator="not-equals" value="Y"/>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- Cancella testate obiettivi -->
    <view-entity entity-name="WorkEffortMeasureDeleteAchieveHead" package-name="org.ofbiz.workeffort.workeffort">
        <description>Obbiettivi da cancellare</description>
        <member-entity entity-name="AcctgTrans" entity-alias="T"/>
        <member-entity entity-name="WorkEffortMeasure" entity-alias="M"/>
        <member-entity entity-name="WorkEffort" entity-alias="W"/>
        <!-- Id per cancellazione -->
        <alias name="acctgTransId" entity-alias="T"></alias>
        <!-- campi per where -->
        <alias name="transactionDate" entity-alias="T"></alias>
        <alias name="glFiscalTypeId" entity-alias="T"></alias>
        <alias name="workEffortParentId" entity-alias="W"></alias>
        <view-link entity-alias="T" rel-entity-alias="M">
            <key-map field-name="voucherRef" rel-field-name="workEffortMeasureId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="weMeasureTypeEnumId" entity-alias="M" value="WEMT_SCORE"/>
                    <condition-expr field-name="glAccountId" entity-alias="M" value="SCORE"/>
                </condition-list>
            </entity-condition>
        </view-link>
    </view-entity>

    <!-- Cancella righe obiettivi -->
    <view-entity entity-name="WorkEffortMeasureDeleteAchieveRow" package-name="org.ofbiz.workeffort.workeffort">
        <description>Kpi to delete</description>
        <member-entity entity-name="AcctgTransEntry" entity-alias="D"/>
        <member-entity entity-name="AcctgTrans" entity-alias="T"/>
        <member-entity entity-name="WorkEffortMeasure" entity-alias="M"/>
        <member-entity entity-name="WorkEffort" entity-alias="W"/>
        <!-- Id per cancellazione -->
        <alias name="acctgTransEntrySeqId" entity-alias="D"></alias>
        <alias name="amountLocked" entity-alias="D"/>
        <alias name="acctgTransId" entity-alias="T"></alias>
        <!-- campi per where -->
        <alias name="transactionDate" entity-alias="T"></alias>
        <alias name="glFiscalTypeId" entity-alias="T"></alias>
        <alias name="workEffortParentId" entity-alias="W"></alias>
        <view-link entity-alias="D" rel-entity-alias="T">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="T" rel-entity-alias="M">
            <key-map field-name="voucherRef" rel-field-name="workEffortMeasureId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="weMeasureTypeEnumId" entity-alias="M" value="WEMT_SCORE"/>
                    <condition-expr field-name="glAccountId" entity-alias="M" value="SCORE"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="glAccountId" entity-alias="D" operator="equals" value="SCORE"/>
                <condition-list combine="or">
                    <condition-expr field-name="amountLocked" entity-alias="D" value="null"/>
                    <condition-expr field-name="amountLocked" entity-alias="D" operator="not-equals" value="Y"/>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!--
        Helper Lettura figli senza punteggio
    -->
    <view-entity entity-name="WorkEffortMeasureChildNoScore" package-name="org.ofbiz.workeffort.workeffort" title="Obiettivi figli senza punteggio">
        <member-entity entity-alias="M" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="T" entity-name="AcctgTrans"/>
        <alias name="workEffortId" entity-alias="M" group-by="true"></alias>
        <alias name="fromDate" entity-alias="M" group-by="true"></alias>
        <alias name="thruDate" entity-alias="M" group-by="true"></alias>
        <alias name="glFiscalTypeId" entity-alias="T" group-by="true"></alias>
        <alias name="transactionDate" entity-alias="T" group-by="true"></alias>
        <view-link entity-alias="M" rel-entity-alias="T">
            <key-map field-name="workEffortMeasureId" rel-field-name="voucherRef"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="weMeasureTypeEnumId" value="WEMT_SCORE"/>
                    <condition-expr field-name="glAccountId" value="SCORE"/>
                </condition-list>
            </entity-condition>
        </view-link>
    </view-entity>

    <!--
        Lettura figli senza punteggio
    -->
    <view-entity entity-name="WorkEffortAssocNoScore" package-name="org.ofbiz.workeffort.workeffort" title="Obiettivi figli senza punteggio">
        <member-entity entity-alias="A" entity-name="WorkEffortAssoc"/>
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="WF" entity-name="WorkEffort"/>
        <member-entity entity-alias="T" entity-name="WorkEffortType"/>
        <member-entity entity-alias="S" entity-name="StatusItem"/>

        <alias name="workEffortId" entity-alias="W"></alias>
        <alias name="workEffortParentId" entity-alias="W"></alias>
        <alias name="workEffortParentIdFrom" field="workEffortParentId" entity-alias="WF"></alias>
        <alias name="workEffortIdFrom" entity-alias="A"></alias>
        <alias name="workEffortIdTo" entity-alias="A"></alias>
        <alias name="assocWeight" entity-alias="A"></alias>
        <alias name="workEffortAssocTypeId" entity-alias="A"></alias>
        <alias name="hierarchyAssocTypeId" entity-alias="T"></alias>
        <alias name="fromDate" entity-alias="A"></alias>
        <alias name="thruDate" entity-alias="A"></alias>
        <alias name="weightKpi" entity-alias="W"></alias>
        <alias name="weightSons" entity-alias="W"></alias>
        <alias name="weightReview" entity-alias="W"></alias>
        <alias name="actStEnumId" entity-alias="S"></alias>
        <view-link entity-alias="A" rel-entity-alias="W">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="WF">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WF" rel-entity-alias="T">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="W" rel-entity-alias="S">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>        
        <entity-condition>
            <!-- Bug 3852 4 -->
            <condition-list>
                <condition-expr field-name="assocWeight" entity-alias="A" operator="not-equals" value="null"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- Lettura figli CON punteggio -->
    <view-entity entity-name="WorkEffortMeasureChildWithScore" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="M" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="E" entity-name="AcctgTransEntry"/>
        <member-entity entity-alias="T" entity-name="AcctgTrans"/>
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="S" entity-name="StatusItem"/>
        <alias name="workEffortId" entity-alias="M" group-by="true" prim-key="true"/>
        <alias name="minAmount" entity-alias="E" field="amount" function="min"/>
        <alias name="maxAlert" entity-alias="E" field="hasScoreAlert" function="max"/>
        <alias name="transactionDate" entity-alias="T" group-by="true"/>
        <alias name="fromDate" entity-alias="M" group-by="true"/>
        <alias name="thruDate" entity-alias="M" group-by="true"/>
        <alias name="glFiscalTypeId" entity-alias="T" group-by="true"/>
        <alias name="organizationPartyId" entity-alias="E" group-by="true"/>
        <alias name="actStEnumId" entity-alias="S" group-by="true"/>
        <view-link entity-alias="E" rel-entity-alias="T">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="T" rel-entity-alias="M">
            <key-map field-name="voucherRef" rel-field-name="workEffortMeasureId"/>
            <entity-condition>
                <condition-expr field-name="glAccountId" entity-alias="M" operator="equals" rel-field-name="glAccountId" rel-entity-alias="E"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="W" rel-entity-alias="S">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>                
        <entity-condition>
            <condition-list>
                <condition-expr field-name="weMeasureTypeEnumId" entity-alias="M" operator="equals" value="WEMT_SCORE"/>
                <condition-expr field-name="glAccountId" entity-alias="M" operator="equals" value="SCORE"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!--
        Helper per lettura KPI
    -->
    <view-entity entity-name="WorkEffortMeasureInnerKpi" package-name="org.ofbiz.workeffort.workeffort">
        <description>Kpi Helper class</description>
        <member-entity entity-name="AcctgTrans" entity-alias="T"/>
        <member-entity entity-name="AcctgTransEntry" entity-alias="M"/>
        <member-entity entity-name="GlFiscalType" entity-alias="F"/>
        <alias entity-alias="T" name="acctgTransId"></alias>
        <alias entity-alias="T" name="glFiscalTypeId"></alias>
        <alias entity-alias="T" name="transactionDate"></alias>
        <alias entity-alias="F" name="periodicalAbsoluteEnumId"></alias>
        <alias entity-alias="M" name="amount"></alias>
        <alias entity-alias="M" name="debitCreditFlag"></alias>
        <alias entity-alias="T" name="workEffortId"></alias>
        <alias entity-alias="T" name="orgRoleId" field="roleTypeId"></alias>
        <alias entity-alias="T" name="orgUnitId" field="partyId"></alias>
        <alias entity-alias="M" name="currencyUomId"></alias>
        <alias entity-alias="M" name="roleTypeId"></alias>
        <alias entity-alias="M" name="partyId"></alias>
        <alias entity-alias="M" name="productId"></alias>
        <alias entity-alias="M" name="glAccountId"></alias>
        <alias entity-alias="M" name="organizationPartyId"></alias>
        <alias entity-alias="M" name="glAccountFinId"></alias>
        <alias entity-alias="M" name="emplPositionTypeId"></alias>
        <view-link entity-alias="T" rel-entity-alias="M">
            <key-map field-name="acctgTransId" rel-field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="T" rel-entity-alias="F">
            <key-map field-name="glFiscalTypeId" rel-field-name="glFiscalTypeId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortMeasureKpi" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="K" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="F" entity-name="GlAccountTypeGlFiscalType" />
        <alias name="glAccountId" entity-alias="K"/>
        <alias name="kpiScoreWeight" entity-alias="K"/>
        <alias name="weScoreRangeEnumId" entity-alias="K"/>
        <alias name="weScoreConvEnumId" entity-alias="K"/>
        <alias name="weWithoutPerf" entity-alias="K"/>
        <alias name="weOtherGoalEnumId" entity-alias="K"/>
        <alias name="fromDate" entity-alias="K"/>
        <alias name="thruDate" entity-alias="K"/>
        <alias name="workEffortMeasureId" entity-alias="K"/>
        <alias name="workEffortId" entity-alias="K"/>
        <alias name="otherWorkEffortId" entity-alias="K"/>
        <alias name="productId" entity-alias="K"/>
        <alias name="emplPositionTypeId" entity-alias="K"/>
        <alias name="roleTypeId" entity-alias="K"/>
        <alias name="partyId" entity-alias="K"/>
        <alias name="weMeasureUomId" field="uomRangeId" entity-alias="K"/>
        <alias name="glFiscalTypeEnumId" entity-alias="K"/>
        <alias name="weMeasureTypeEnumId" entity-alias="K"/>
        <alias name="periodicalAbsoluteEnumId" entity-alias="G"/>
        <alias name="targetPeriodEnumId" entity-alias="G"/>
        <alias name="weWithoutTarget" entity-alias="G"/>
        <alias name="accountTypeEnumId" entity-alias="G"/>
        <alias name="defaultUomId" entity-alias="G"/>
        <alias name="debitCreditDefault" entity-alias="G"/>
        <alias name="organizationId" entity-alias="W"/>
        <alias name="orgUnitRoleTypeId" entity-alias="W"/>
        <alias name="orgUnitId" entity-alias="W"/>
        <alias name="accountName" entity-alias="G"/>
        <alias name="accountDescription" entity-alias="G" field="description"/>
        <alias name="accountCode" entity-alias="G"/>
        <alias name="glFiscalTypeId" entity-alias="F"/>
        <view-link entity-alias="K" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="K" rel-entity-alias="G">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="F">
            <key-map field-name="glAccountTypeId"/>
        </view-link>
        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <!-- Sandro: relazione aggiunta per velocizzare la presentazione del tab di calcolo -->
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="weMeasureTypeEnumId" entity-alias="K" value="WEMT_PERF"/>
            </condition-list>
        </entity-condition>
    </view-entity>
       
    <view-entity entity-name="WorkEffortMeasureKpiScoreAndOther" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="K" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="F" entity-name="GlAccountTypeGlFiscalType" />
        <alias name="glAccountId" entity-alias="K"/>
        <alias name="kpiScoreWeight" entity-alias="K"/>
        <alias name="kpiOtherWeight" entity-alias="K"/>
        <alias name="weScoreRangeEnumId" entity-alias="K"/>
        <alias name="weScoreConvEnumId" entity-alias="K"/>
        <alias name="weWithoutPerf" entity-alias="K"/>
        <alias name="weOtherGoalEnumId" entity-alias="K"/>
        <alias name="fromDate" entity-alias="K"/>
        <alias name="thruDate" entity-alias="K"/>
        <alias name="workEffortMeasureId" entity-alias="K"/>
        <alias name="workEffortId" entity-alias="K"/>
        <alias name="otherWorkEffortId" entity-alias="K"/>
        <alias name="productId" entity-alias="K"/>
        <alias name="emplPositionTypeId" entity-alias="K"/>
        <alias name="roleTypeId" entity-alias="K"/>
        <alias name="partyId" entity-alias="K"/>
        <alias name="weMeasureUomId" field="uomRangeId" entity-alias="K"/>
        <alias name="glFiscalTypeEnumId" entity-alias="K"/>
        <alias name="weMeasureTypeEnumId" entity-alias="K"/>
        <alias name="periodicalAbsoluteEnumId" entity-alias="G"/>
        <alias name="targetPeriodEnumId" entity-alias="G"/>
        <alias name="weWithoutTarget" entity-alias="G"/>
        <alias name="accountTypeEnumId" entity-alias="G"/>
        <alias name="defaultUomId" entity-alias="G"/>
        <alias name="debitCreditDefault" entity-alias="G"/>
        <alias name="organizationId" entity-alias="W"/>
        <alias name="orgUnitRoleTypeId" entity-alias="W"/>
        <alias name="orgUnitId" entity-alias="W"/>
        <alias name="workEffortParentId" entity-alias="W"/>
        <alias name="accountName" entity-alias="G"/>
        <alias name="accountDescription" entity-alias="G" field="description"/>
        <alias name="accountCode" entity-alias="G"/>
        <alias name="glFiscalTypeId" entity-alias="F"/>
        <view-link entity-alias="K" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="K" rel-entity-alias="G">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="F">
            <key-map field-name="glAccountTypeId"/>
        </view-link>
        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
    </view-entity>
    
    <view-entity entity-name="WorkEffortMeasureKpiAndOpenPeriod" package-name="org.ofbiz.workeffort.workeffort">
    	<!-- <member-entity entity-alias="A" entity-name="WorkEffortMeasureKpiScoreAndOther"/> -->
    	<member-entity entity-alias="B" entity-name="WorkEffort"/>
    	<member-entity entity-alias="C" entity-name="WorkEffortTypePeriod"/>
    	<member-entity entity-alias="D" entity-name="CustomTimePeriod"/>
    	<member-entity entity-alias="K" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="F" entity-name="GlAccountTypeGlFiscalType" />
        <alias name="glAccountId" entity-alias="K"/>
        <alias name="kpiScoreWeight" entity-alias="K"/>
        <alias name="kpiOtherWeight" entity-alias="K"/>
        <alias name="weScoreRangeEnumId" entity-alias="K"/>
        <alias name="weScoreConvEnumId" entity-alias="K"/>
        <alias name="weWithoutPerf" entity-alias="K"/>
        <alias name="weOtherGoalEnumId" entity-alias="K"/>
        <alias name="fromDate" entity-alias="K"/>
        <alias name="thruDate" entity-alias="K"/>
        <alias name="workEffortMeasureId" entity-alias="K"/>
        <alias name="workEffortId" entity-alias="K"/>
        <alias name="otherWorkEffortId" entity-alias="K"/>
        <alias name="productId" entity-alias="K"/>
        <alias name="emplPositionTypeId" entity-alias="K"/>
        <alias name="roleTypeId" entity-alias="K"/>
        <alias name="partyId" entity-alias="K"/>
        <alias name="weMeasureUomId" field="uomRangeId" entity-alias="K"/>
        <alias name="glFiscalTypeEnumId" entity-alias="K"/>
        <alias name="weMeasureTypeEnumId" entity-alias="K"/>
        <alias name="periodicalAbsoluteEnumId" entity-alias="G"/>
        <alias name="targetPeriodEnumId" entity-alias="G"/>
        <alias name="weWithoutTarget" entity-alias="G"/>
        <alias name="accountTypeEnumId" entity-alias="G"/>
        <alias name="defaultUomId" entity-alias="G"/>
        <alias name="debitCreditDefault" entity-alias="G"/>
        <alias name="organizationId" entity-alias="W"/>
        <alias name="orgUnitRoleTypeId" entity-alias="W"/>
        <alias name="orgUnitId" entity-alias="W"/>
        <alias name="workEffortParentId" entity-alias="W"/>
        <alias name="accountName" entity-alias="G"/>
        <alias name="accountDescription" entity-alias="G" field="description"/>
        <alias name="accountCode" entity-alias="G"/>
        <alias name="glFiscalTypeId" entity-alias="F"/>
        <view-link entity-alias="C" rel-entity-alias="D">
            <key-map field-name="customTimePeriodId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="B">
            <key-map field-name="workEffortTypePeriodId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="W">
    		<key-map field-name="workEffortId" rel-field-name="workEffortParentId"/>
    	</view-link>
    	<view-link entity-alias="W" rel-entity-alias="K">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="K" rel-entity-alias="G">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="F">
            <key-map field-name="glAccountTypeId"/>
        </view-link>
        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
    		<condition-list>
    			<condition-expr field-name="fromDate" entity-alias="K" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="D"/>
    			<condition-expr field-name="thruDate" entity-alias="K" operator="greater-equals" rel-field-name="fromDate" rel-entity-alias="D"/>
    		</condition-list>
    	</entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortMeasureKpiAndOpenPeriodWithParent" package-name="org.ofbiz.workeffort.workeffort">
    	<!-- <member-entity entity-alias="A" entity-name="WorkEffortMeasureKpiScoreAndOther"/> -->
    	<member-entity entity-alias="B" entity-name="WorkEffort"/>
    	<member-entity entity-alias="C" entity-name="WorkEffortTypePeriod"/>
    	<member-entity entity-alias="D" entity-name="CustomTimePeriod"/>
    	<member-entity entity-alias="E" entity-name="CustomTimePeriod"/>
    	<member-entity entity-alias="K" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="F" entity-name="GlAccountTypeGlFiscalType" />
        <alias name="glAccountId" entity-alias="K"/>
        <alias name="kpiScoreWeight" entity-alias="K"/>
        <alias name="kpiOtherWeight" entity-alias="K"/>
        <alias name="weScoreRangeEnumId" entity-alias="K"/>
        <alias name="weScoreConvEnumId" entity-alias="K"/>
        <alias name="weWithoutPerf" entity-alias="K"/>
        <alias name="weOtherGoalEnumId" entity-alias="K"/>
        <alias name="fromDate" entity-alias="K"/>
        <alias name="thruDate" entity-alias="K"/>
        <alias name="workEffortMeasureId" entity-alias="K"/>
        <alias name="workEffortId" entity-alias="K"/>
        <alias name="otherWorkEffortId" entity-alias="K"/>
        <alias name="productId" entity-alias="K"/>
        <alias name="emplPositionTypeId" entity-alias="K"/>
        <alias name="roleTypeId" entity-alias="K"/>
        <alias name="partyId" entity-alias="K"/>
        <alias name="weMeasureUomId" field="uomRangeId" entity-alias="K"/>
        <alias name="glFiscalTypeEnumId" entity-alias="K"/>
        <alias name="weMeasureTypeEnumId" entity-alias="K"/>
        <alias name="periodicalAbsoluteEnumId" entity-alias="G"/>
        <alias name="targetPeriodEnumId" entity-alias="G"/>
        <alias name="weWithoutTarget" entity-alias="G"/>
        <alias name="accountTypeEnumId" entity-alias="G"/>
        <alias name="defaultUomId" entity-alias="G"/>
        <alias name="debitCreditDefault" entity-alias="G"/>
        <alias name="organizationId" entity-alias="W"/>
        <alias name="orgUnitRoleTypeId" entity-alias="W"/>
        <alias name="orgUnitId" entity-alias="W"/>
        <alias name="workEffortParentId" entity-alias="W"/>
        <alias name="accountName" entity-alias="G"/>
        <alias name="accountDescription" entity-alias="G" field="description"/>
        <alias name="accountCode" entity-alias="G"/>
        <alias name="glFiscalTypeId" entity-alias="F"/>
        <view-link entity-alias="D" rel-entity-alias="E">
            <key-map field-name="parentPeriodId" rel-field-name="customTimePeriodId"/>
        </view-link>        
        <view-link entity-alias="D" rel-entity-alias="C">
            <key-map field-name="customTimePeriodId"/>
        </view-link>        
        <view-link entity-alias="C" rel-entity-alias="B">
            <key-map field-name="workEffortTypePeriodId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="W">
    		<key-map field-name="workEffortId" rel-field-name="workEffortParentId"/>
    	</view-link>
    	<view-link entity-alias="W" rel-entity-alias="K">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="K" rel-entity-alias="G">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="F">
            <key-map field-name="glAccountTypeId"/>
        </view-link>
        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
    	<entity-condition>
    		<condition-list combine="and">
    			<condition-expr field-name="fromDate" entity-alias="K" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="E"/>
    			<condition-expr field-name="thruDate" entity-alias="K" operator="greater-equals" rel-field-name="fromDate" rel-entity-alias="E"/>
    		</condition-list>
    	</entity-condition>
    </view-entity>

    <!--
        Lettura obiettivi collegati (inner select)
    -->
    <view-entity entity-name="WorkEffortAchieveConnectedInner" package-name="org.ofbiz.workeffort.workeffort" title="Lettura obiettivi collegati">
        <member-entity entity-alias="E" entity-name="AcctgTransEntry"/>
        <member-entity entity-alias="T" entity-name="AcctgTrans"/>
        <member-entity entity-alias="M" entity-name="WorkEffortMeasure"/>
        <alias name="workEffortId" entity-alias="M" group-by="true"></alias>
        <alias name="amount" entity-alias="E" function="min"></alias>
        <alias name="hasScoreAlert" entity-alias="E" function="max"></alias>
        <!-- campi per where parametrica -->
        <alias name="fromDate" entity-alias="M" group-by="true"></alias>
        <alias name="thruDate" entity-alias="M" group-by="true"></alias>
        <alias name="transactionDate" entity-alias="T" group-by="true"></alias>
        <alias name="glFiscalTypeId" entity-alias="T" group-by="true"></alias>
        <view-link entity-alias="T" rel-entity-alias="E">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="T" rel-entity-alias="M">
            <key-map field-name="voucherRef" rel-field-name="workEffortMeasureId"/>
            <entity-condition>
                <condition-expr entity-alias="E" field-name="glAccountId" rel-entity-alias="M" rel-field-name="glAccountId"/>
            </entity-condition>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="weMeasureTypeEnumId" entity-alias="M" operator="equals" value="WEMT_SCORE"/>
                <condition-expr field-name="glAccountId" entity-alias="M" operator="equals" value="SCORE"/>
            </condition-list>
        </entity-condition>
    </view-entity>


    <view-entity entity-name="WorkEffortAchieveConnected" package-name="org.ofbiz.workeffort.workeffort" title="Lettura obiettivi collegati">
        <member-entity entity-alias="A" entity-name="WorkEffortAssoc"/>
        <member-entity entity-alias="W_DA" entity-name="WorkEffort"/>
        <member-entity entity-alias="W_A" entity-name="WorkEffort"/>
        <member-entity entity-alias="STA" entity-name="StatusItem"/>
        <member-entity entity-alias="MOV" entity-name="WorkEffortAchieveConnectedInner"/>
        <alias name="assocWeight" entity-alias="A"/>
        <alias name="workEffortIdTo" entity-alias="A"/>
        <alias name="workEffortIdFrom" entity-alias="A"/>
        <alias name="workEffortAssocTypeId" entity-alias="A"/>
        <alias name="fromDate" entity-alias="A"/>
        <alias name="thruDate" entity-alias="A"/>
        <!-- Campi di MOV per calcoli -->
        <alias name="workEffortId" field="workEffortId" entity-alias="MOV"></alias>
        <alias name="amount" field="amount" entity-alias="MOV"></alias>
        <alias name="hasScoreAlert" field="hasScoreAlert" entity-alias="MOV"></alias>
        <!-- Campi di MOV per where -->
        <alias name="movFromDate" field="fromDate" entity-alias="MOV"></alias>
        <alias name="movThruDate" field="thruDate" entity-alias="MOV"></alias>
        <alias name="movTransactionDate" field="transactionDate" entity-alias="MOV"></alias>
        <alias name="movGlFiscalTypeId" field="glFiscalTypeId" entity-alias="MOV"></alias>
        <!-- Serve per il caso di obiettivo esterno -->
        <alias name="parentTo" entity-alias="W_A" field="workEffortParentId"/>
        <alias name="actStEnumId" entity-alias="STA"/>

        <view-link entity-alias="A" rel-entity-alias="W_DA">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="W_A">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="W_A" rel-entity-alias="STA">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>        
        <view-link entity-alias="A" rel-entity-alias="MOV" rel-optional="true">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-list combine="or">
                    <condition-expr field-name="thruDate" entity-alias="A" operator="equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="W_DA"/>
                    <condition-expr field-name="thruDate" entity-alias="A" operator="equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="W_A"/>
                </condition-list>
                <condition-expr field-name="assocWeight" entity-alias="A" operator="not-equals" value="null"/>
                <condition-expr field-name="workEffortSnapshotId" entity-alias="W_DA" operator="equals" value="null"/>
                <condition-expr field-name="workEffortSnapshotId" entity-alias="W_A" operator="equals" value="null"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="ResponsibilityView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="PartyRelationship" entity-alias="PR"/>
        <member-entity entity-name="Party" entity-alias="P"/>
        <alias entity-alias="PR" name="partyIdTo"/>
        <alias entity-alias="PR" name="partyIdFrom"/>
        <alias entity-alias="PR" name="fromDate"/>
        <alias entity-alias="PR" name="roleTypeIdFrom"/>
        <alias entity-alias="PR" name="roleTypeIdTo"/>
        <alias entity-alias="P" name="partyId"/>
        <alias entity-alias="P" name="partyName"/>

        <view-link entity-alias="PR" rel-entity-alias="P" rel-optional="false">
            <key-map field-name="partyIdFrom" rel-field-name="partyId"/>
        </view-link>

        <entity-condition>
            <condition-list>
                <condition-expr field-name="thruDate" entity-alias="PR" operator="equals" value="null"/>
                <condition-expr field-name="partyRelationshipTypeId" entity-alias="PR" operator="equals" value="ORG_RESPONSIBLE"/>
            </condition-list>
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortTypeParentRelView" package-name="org.ofbiz.workeffort.workeffort">
    	<member-entity entity-alias="C" entity-name="RoleType"/>
    	<member-entity entity-alias="A" entity-name="WorkEffortType"/>
    	<member-entity entity-alias="B" entity-name="WorkEffortTypeAssoc"/>
    	
    	<alias-all entity-alias="A"/>
    	<alias entity-alias="B" field="workEffortAssocTypeId" name="parentRelTypeId"/>
    	<alias entity-alias="B" field="workEffortTypeIdRef" name="parentRelTypeIdRef"/>
    	<alias entity-alias="B" field="comments" name="parentRelTypeDesc"/>
    	<alias entity-alias="B" field="commentsLang" name="parentRelTypeDescLang"/>
		<alias entity-alias="C" field="description" name="orgUnitRoleTypeDesc"/>
		<alias entity-alias="C" field="descriptionLang" name="orgUnitRoleTypeDescLang"/>

        <view-link entity-alias="A" rel-entity-alias="B" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
        		<condition-list combine="and">
        	    	<condition-expr entity-alias="B" field-name="wefromWetoEnumId" operator="equals" value="WETATO"/>
    				<condition-expr entity-alias="B" field-name="isParentRel" operator="equals" value="Y"/>
        		</condition-list>
        	</entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C" rel-optional="true">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeId"/>
        </view-link>
    </view-entity>      

    <view-entity entity-name="WorkEffortTypeTypeParentRelView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffortType"/>
        <member-entity entity-alias="B" entity-name="WorkEffortTypeType"/>
        <member-entity entity-alias="C" entity-name="WorkEffortTypeAssoc"/>
        <member-entity entity-alias="D" entity-name="RoleType"/>
        
        <alias-all entity-alias="B"/>
        <alias entity-alias="A" name="workEffortTypeId" prim-key="false"/>
        <alias entity-alias="A" name="description"/>
        <alias entity-alias="A" name="etch"/>
        <alias entity-alias="A" name="descriptionLang"/>
        <alias entity-alias="A" name="etchLang"/>
        <alias entity-alias="A" name="frameEnumId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId2"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId3"/>
        <alias entity-alias="A" name="forAllUsers"/>
        <alias entity-alias="A" name="isRootActive"/>       
        <alias entity-alias="A" name="wePurposeTypeIdWe"/>
        <alias entity-alias="A" name="purposeEtch"/> 
        <alias entity-alias="A" name="seqEsp"/> 
        <alias entity-alias="A" name="gpMenuEnumId"/>      
        <alias entity-alias="C" field="workEffortAssocTypeId" name="parentRelTypeId"/>
        <alias entity-alias="C" field="workEffortTypeIdRef" name="parentRelTypeIdRef"/>
        <alias entity-alias="C" field="comments" name="parentRelTypeDesc"/>
        <alias entity-alias="C" field="commentsLang" name="parentRelTypeDescLang"/>
		<alias entity-alias="D" field="description" name="orgUnitRoleTypeDesc"/>
		<alias entity-alias="D" field="descriptionLang" name="orgUnitRoleTypeDescLang"/>
        
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeIdTo"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
        	<entity-condition>
        		<condition-list combine="and">
        	    	<condition-expr entity-alias="C" field-name="wefromWetoEnumId" operator="equals" value="WETATO"/>
    				<condition-expr entity-alias="C" field-name="isParentRel" operator="equals" value="Y"/>
        		</condition-list>
        	</entity-condition>             
        </view-link>        
        <view-link entity-alias="A" rel-entity-alias="D" rel-optional="true">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeId"/>
        </view-link>
        
        <relation rel-entity-name="WorkEffortType" type="one-nofk" fk-name="FK_WTTV_WT">
            <key-map field-name="workEffortTypeId"/>
        </relation>
        <relation rel-entity-name="WorkEffortType" type="one-nofk" title="Root" fk-name="FK_WTTV_R">
            <key-map field-name="workEffortTypeIdRoot" rel-field-name="workEffortTypeId"/>
        </relation>
        <relation rel-entity-name="WorkEffortType" type="one-nofk" title="From" fk-name="FK_WTTV_F">
            <key-map field-name="workEffortTypeIdFrom" rel-field-name="workEffortTypeId"/>
        </relation>
        <relation rel-entity-name="WorkEffortType" type="one-nofk" title="To" fk-name="FK_WTTV_T">
            <key-map field-name="workEffortTypeIdTo" rel-field-name="workEffortTypeId"/>
        </relation>       
    </view-entity>
    
    <view-entity entity-name="WorkEffortTypeTypeToView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffortType"/>
        <member-entity entity-alias="B" entity-name="WorkEffortTypeType"/>       
        <alias-all entity-alias="B"/>
        <alias entity-alias="A" name="workEffortTypeId"/>
        <alias entity-alias="A" name="description"/>
        <alias entity-alias="A" name="etch"/>
        <alias entity-alias="A" name="descriptionLang"/>
        <alias entity-alias="A" name="etchLang"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>        
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeIdTo"/>
            <entity-condition>
                <condition-list>              
                    <condition-expr entity-alias="A" field-name="isRoot" operator="equals" value="Y"/>
                </condition-list>
            </entity-condition>
        </view-link>       
        <relation rel-entity-name="WorkEffortType" type="one-nofk" fk-name="FK_WETTTV_WTID">
            <key-map field-name="workEffortTypeId"/>
        </relation>
        <relation rel-entity-name="WorkEffortType" type="one-nofk" title="Root" fk-name="FK_WETTTV_ROOT">
            <key-map field-name="workEffortTypeIdRoot" rel-field-name="workEffortTypeId"/>
        </relation>
        <relation rel-entity-name="WorkEffortType" type="one-nofk" title="From" fk-name="FK_WETTTV_FROM">
            <key-map field-name="workEffortTypeIdFrom" rel-field-name="workEffortTypeId"/>
        </relation>
        <relation rel-entity-name="WorkEffortType" type="one-nofk" title="To" fk-name="FK_WETTTV_TO">
            <key-map field-name="workEffortTypeIdTo" rel-field-name="workEffortTypeId"/>
        </relation>       
    </view-entity>
    
     <view-entity entity-name="WorkEffortTypeTypeRootView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffortType"/>
        <member-entity entity-alias="B" entity-name="WorkEffortTypeType"/>       
        <alias-all entity-alias="B"/>
        <alias entity-alias="A" name="workEffortTypeId" group-by="true"/>
        <alias entity-alias="A" name="description" group-by="true"/>
        <alias entity-alias="A" name="etch" group-by="true"/>
        <alias entity-alias="A" name="descriptionLang" group-by="true"/>
        <alias entity-alias="A" name="etchLang" group-by="true"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId" group-by="true"/>      
        <alias entity-alias="A" name="parentTypeId" group-by="true"/>  
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeIdRoot"/>
        </view-link>       
        <relation rel-entity-name="WorkEffortType" type="one-nofk" fk-name="FK_WTTRV_WTID">
            <key-map field-name="workEffortTypeId"/>
        </relation>
        <relation rel-entity-name="WorkEffortType" type="one-nofk" title="Root" fk-name="FK_WTTRV_ROOT">
            <key-map field-name="workEffortTypeIdRoot" rel-field-name="workEffortTypeId"/>
        </relation>
        <relation rel-entity-name="WorkEffortType" type="one-nofk" title="From" fk-name="FK_WTTRV_FROM">
            <key-map field-name="workEffortTypeIdFrom" rel-field-name="workEffortTypeId"/>
        </relation>
        <relation rel-entity-name="WorkEffortType" type="one-nofk" title="To" fk-name="FK_WTTRV_TO">
            <key-map field-name="workEffortTypeIdTo" rel-field-name="workEffortTypeId"/>
        </relation>       
    </view-entity>

    <!-- ToDo 3490 -->
    <view-entity entity-name="WorkEffortTransactionSimplifiedView" package-name="org.ofbiz.workeffort.workeffort" never-cache="true">
        <description>Vista utilizzata per estrarre i movimenti per le risorse</description>
        <member-entity entity-alias="M" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="TM" entity-name="AcctgTrans"/>
        <member-entity entity-alias="TR" entity-name="AcctgTransEntry"/>
        <member-entity entity-alias="GA" entity-name="GlAccount"/>
        <member-entity entity-alias="GF" entity-name="GlFiscalType"/>
        <member-entity entity-alias="RS" entity-name="WorkEffortMeasRatSc"/>
        <member-entity entity-alias="U" entity-name="Uom"/>
        <member-entity entity-alias="CT" entity-name="CustomTimePeriod"/> <!-- Relation with WorkEffortMeasure -->
        <member-entity entity-alias="WDS" entity-name="DataSource"/>
        <member-entity entity-alias="GDS" entity-name="DataSource"/>
        <alias name="weTransWeId" entity-alias="M" field="workEffortId"/>
        <alias name="weTransMeasureId" entity-alias="M" field="workEffortMeasureId"/>
        <alias name="weTransId" entity-alias="TM" field="acctgTransId"/>
        <alias name="weTransEntryId" entity-alias="TR" field="acctgTransEntrySeqId"/>
        <alias name="weTransAccountId" entity-alias="M" field="glAccountId"/>
        <alias name="weMeasureMeasureType" entity-alias="M" field="weMeasureTypeEnumId"/>
        <alias name="weTransTypeValueId" entity-alias="TM" field="glFiscalTypeId"/>
        <alias name="weTransDate" entity-alias="TM" field="transactionDate"/>
        <alias name="isPosted" entity-alias="TM"/>
        <alias name="groupStatusId" entity-alias="TM"/>
        <alias name="weTransComments" entity-alias="TM" field="description"/>
        <alias name="weTransCommentsLang" entity-alias="TM" field="descriptionLang"/>
        <alias name="weTransWorkEffortSnapShotId" field="workEffortSnapshotId" entity-alias="TR"/>
        <alias name="weTransWorkEffortRevisionId" field="workEffortRevisionId" entity-alias="TR"/>
        <alias name="glResourceTypeId" entity-alias="GA"/>
        <alias name="weTransAccountDesc" field="accountName" entity-alias="GA"/>
        <alias name="weTransAccountCode" field="accountCode" entity-alias="GA"/>
        <alias name="weTransTypeValueDesc" field="description" entity-alias="GF"/>
        <alias name="weTransValueCode" field="uomCode" entity-alias="RS"/>
        <alias name="weTransValue" field="amount" entity-alias="TR"/>
        <alias name="weAcctgTransAccountId" entity-alias="TR" field="glAccountId"/>
        <alias name="weAcctgTransAccountFinId" entity-alias="TR" field="glAccountFinId"/>
        <alias name="weTransCurrencyUomId" field="currencyUomId" entity-alias="TR"/>
        <alias name="weTransComment" field="description" entity-alias="TR"/>
        <alias name="weTransCommentLang" field="descriptionLang" entity-alias="TR"/>
        <alias name="origAmount" entity-alias="TR"/>
        <alias name="transProductId" field="productId" entity-alias="TR"/>
        <alias name="weTransValueDesc" field="uomDescr" entity-alias="RS"/>
        <alias name="weTransUomDesc" field="uomDescr" entity-alias="M"/>
        <alias name="weTransUomType" field="uomTypeId" entity-alias="U"/>
        <alias name="weTransDecimalScale" entity-alias="U" field="decimalScale"/>
        <alias name="weTransPeriodIsClosed" field="isClosed" entity-alias="CT"/>
        <!-- bug 4279 -->
        <alias name="periodTypeId" entity-alias="CT"/>
        <alias name="customTimePeriodId" entity-alias="CT"/>
        <alias name="weTransWorkEffortSnapshotId" field="workEffortSnapshotId" entity-alias="TM"/>
        <alias name="wmValModId" field="valModId" entity-alias="WDS"/>
        <alias name="glValModId" field="valModId" entity-alias="GDS"/>
        <alias name="inputEnumId" entity-alias="GA"/>
        <view-link entity-alias="M" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="TM">
            <key-map field-name="workEffortMeasureId" rel-field-name="voucherRef"/>
        </view-link>
        <view-link entity-alias="TM" rel-entity-alias="TR">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="GA">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="TM" rel-entity-alias="GF">
            <key-map field-name="glFiscalTypeId"/>
        </view-link>
        <view-link entity-alias="GA" rel-entity-alias="U">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="RS" rel-optional="true">
            <key-map field-name="workEffortMeasureId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr entity-alias="RS" field-name="uomId" rel-entity-alias="TR" rel-field-name="currencyUomId"/>
                    <condition-expr entity-alias="RS" field-name="uomRatingValue" rel-entity-alias="TR" rel-field-name="amount"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="CT" rel-optional="true">
            <key-map field-name="periodTypeId" rel-field-name="periodTypeId"/>
            <entity-condition>
                <condition-list>     
                    <condition-expr entity-alias="CT" field-name="thruDate" rel-entity-alias="TM" rel-field-name="transactionDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="WDS" rel-optional="true">
            <key-map field-name="dataSourceId" rel-field-name="dataSourceId"/>
        </view-link>
        <view-link entity-alias="GA" rel-entity-alias="GDS" rel-optional="true">
            <key-map field-name="dataSourceId" rel-field-name="dataSourceId"/>
        </view-link>
        <relation rel-entity-name="WorkEffortMeasureAndPurposeAccountRes" type="one-nofk">
            <key-map field-name="weTransMeasureId" rel-field-name="workEffortMeasureId"/>
        </relation>
    </view-entity>

    <view-entity entity-name="WorkEffortTransactionIndicatorView" package-name="org.ofbiz.workeffort.workeffort" never-cache="true">
        <description>Vista utilizzata per estrarre i movimenti per gli Indicatori e come entityName per il calcolo degli indicatori</description>
        <member-entity entity-alias="M" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="TR" entity-name="AcctgTransEntry"/>
        <member-entity entity-alias="TM" entity-name="AcctgTrans"/>
        <member-entity entity-alias="GA" entity-name="GlAccount"/>
        <member-entity entity-alias="GF" entity-name="GlFiscalType"/>
        <member-entity entity-alias="U" entity-name="Uom"/>
        <member-entity entity-alias="RS" entity-name="WorkEffortMeasRatSc"/>
        <member-entity entity-alias="CT" entity-name="CustomTimePeriod"/><!-- Relation with WorkEffortMeasure -->
        <member-entity entity-alias="WDS" entity-name="DataSource"/>
        <member-entity entity-alias="GDS" entity-name="DataSource"/>
        <alias name="weTransWeId" entity-alias="M" field="workEffortId"/>
        <alias name="weTransMeasureId" entity-alias="M" field="workEffortMeasureId"/>
        <alias name="kpiScoreWeight" entity-alias="M"/>
        <alias name="weTransId" entity-alias="TM" field="acctgTransId"/>
        <alias name="weTransEntryId" entity-alias="TR" field="acctgTransEntrySeqId"/>
        <alias name="acctgTransTypeId" entity-alias="TM"/>
        <alias name="weTransAccountId" entity-alias="M" field="glAccountId"/>
        <alias name="weMeasureMeasureType" entity-alias="M" field="weMeasureTypeEnumId"/>
        <alias name="weTransTypeValueId" entity-alias="TM" field="glFiscalTypeId"/>
        <alias name="weTransDate" entity-alias="TM" field="transactionDate"/>
        <alias name="isPosted" entity-alias="TM"/>
        <alias name="weTransComments" entity-alias="TM" field="description"></alias>
        <alias name="glResourceTypeId" entity-alias="GA"/>
        <alias name="weTransAccountDesc" field="accountName" entity-alias="GA"/>
        <alias name="glDescription" field="description" entity-alias="GA"/>
        <alias name="weTransAccountCode" field="accountCode" entity-alias="GA"/>
        <alias name="periodicalAbsoluteEnumId" entity-alias="GA"/>
        <alias name="weTransTypeValueDesc" field="description" entity-alias="GF"/>
        <alias name="weTransTypeValueDescLang" field="descriptionLang" entity-alias="GF"/>
        <alias name="weTransValueCode" field="uomCode" entity-alias="RS"/>
        <alias name="weTransCurrencyUomId" field="currencyUomId" entity-alias="TR"/>
        <alias name="weTransValue" field="amount" entity-alias="TR"/>
        <!-- GN-408 -->
        <alias name="inputEnumId" entity-alias="GA"/>
        <!-- bug 4581 -->
        <alias name="hasCompetence" entity-alias="GA"/>
        <alias name="fromDateCompetence" entity-alias="TR"/>
        <alias name="toDateCompetence" entity-alias="TR"/>
        <!-- bug 4144, mancava il campo -->
        <alias name="weTransComment" field="description" entity-alias="TR"/>
        <alias name="weAcctgTransAccountId" entity-alias="TR" field="glAccountId"/>
        <alias name="weTransValueDesc" field="uomDescr" entity-alias="RS"/>
        <alias name="weTransUomDesc" field="uomDescr" entity-alias="M"/>
        <alias name="weTransUomType" field="uomTypeId" entity-alias="U"/>
        <alias name="weTransDecimalScale" entity-alias="U" field="decimalScale"/>
        <alias name="weTransUomDescription" entity-alias="U" field="description"/>
        <alias name="weTransUomAbb" entity-alias="U" field="abbreviation"/>
        <!-- bug 4279 -->
        <alias name="periodTypeId" entity-alias="CT"/>
        <alias name="customTimePeriodId" entity-alias="CT"/>
        <alias name="weTransPeriodIsClosed" field="isClosed" entity-alias="CT"/>
        <alias name="debitCreditFlag" entity-alias="TR"/>
        <alias name="perfAmountCalc" entity-alias="TR"/>
        <alias name="origAmount" entity-alias="TR"/>
        <alias name="amountLocked" entity-alias="TR"/>
        <alias name="voucherRef" entity-alias="TM"/>
        <alias name="groupStatusId" entity-alias="TM"/>
        <alias name="transProductId" field="productId" entity-alias="TR"/>
        <alias name="entryPartyId" field="partyId" entity-alias="TR"/>
        <alias name="entryRoleTypeId" field="roleTypeId" entity-alias="TR"/>
        <alias name="hasScoreAlert" entity-alias="TR"/>
        <alias name="partyId" entity-alias="M"/>
        <alias name="roleTypeId" entity-alias="M"/>
        <alias name="weTransSequenceId" entity-alias="M" field="sequenceId"/>
        <!-- GN-161 -->
        <alias name="weTransWorkEffortSnapShotId" field="workEffortSnapshotId" entity-alias="TR"/>
        <alias entity-alias="TR" name="weTransWorkEffortRevisionId" field="workEffortRevisionId"/>
        
        <alias name="calcCustomMethodId" entity-alias="GA"/>
        <alias name="accountTypeEnumId" entity-alias="GA"/>
        <alias name="prioCalc" entity-alias="GA"/>
        
        <alias name="wmValModId" field="valModId" entity-alias="WDS"/>
        <alias name="glValModId" field="valModId" entity-alias="GDS"/>
        <alias name="organizationPartyId" entity-alias="TR"/>
        
        <view-link entity-alias="M" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="TR">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="TR" rel-entity-alias="TM">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="GA">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="TM" rel-entity-alias="GF">
            <key-map field-name="glFiscalTypeId"/>
        </view-link>
        <view-link entity-alias="GA" rel-entity-alias="U">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="CT" rel-optional="true">
            <key-map field-name="periodTypeId" rel-field-name="periodTypeId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr entity-alias="CT" field-name="thruDate" rel-entity-alias="TM" rel-field-name="transactionDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="RS" rel-optional="true">
            <key-map field-name="workEffortMeasureId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="uomId" entity-alias="RS" rel-field-name="currencyUomId" rel-entity-alias="TR"/>
                    <condition-expr field-name="uomRatingValue" entity-alias="RS" rel-field-name="amount" rel-entity-alias="TR"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="WDS" rel-optional="true">
            <key-map field-name="dataSourceId" rel-field-name="dataSourceId"/>
        </view-link>
        <view-link entity-alias="GA" rel-entity-alias="GDS" rel-optional="true">
            <key-map field-name="dataSourceId" rel-field-name="dataSourceId"/>
        </view-link>
        <relation rel-entity-name="WorkEffortMeasureAndPurposeAccountInd" type="one-nofk">
            <key-map field-name="weTransMeasureId" rel-field-name="workEffortMeasureId"/>
            <key-map field-name="weTransWeId" rel-field-name="workEffortId"/>
            <key-map field-name="weTransAccountId" rel-field-name="glAccountId"/>
        </relation>

        <entity-condition>
            <condition-list combine="or">
                <condition-list>
                    <condition-expr field-name="inputEnumId" entity-alias="GA" value="ACCINP_OBJ"/>
                    <condition-expr field-name="workEffortMeasureId" entity-alias="M" rel-field-name="voucherRef" rel-entity-alias="TM"/>
                </condition-list>
                <condition-list>
                    <condition-expr field-name="inputEnumId" entity-alias="GA" operator="not-equals" value="ACCINP_OBJ"/>
                    <condition-expr field-name="organizationPartyId" entity-alias="TR" rel-field-name="organizationId" rel-entity-alias="W"/>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr field-name="productId" entity-alias="M" value="null"/>
                            <condition-expr field-name="productId" entity-alias="TR" value="null"/>
                        </condition-list>
                        <condition-expr field-name="productId" entity-alias="M" rel-field-name="productId" rel-entity-alias="TR"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr field-name="emplPositionTypeId" entity-alias="M" value="null"/>
                            <condition-expr field-name="emplPositionTypeId" entity-alias="TR" value="null"/>
                        </condition-list>
                        <condition-expr field-name="emplPositionTypeId" entity-alias="M" rel-field-name="emplPositionTypeId" rel-entity-alias="TR"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr field-name="roleTypeId" entity-alias="M" value="null"/>
                            <condition-expr field-name="partyId" entity-alias="M" value="null"/>
                            <!-- <condition-expr field-name="roleTypeId" entity-alias="TR" value="null"/> -->
                            <!-- <condition-expr field-name="partyId" entity-alias="TR" value="null"/> -->
                        </condition-list>
                        <condition-list>
                            <condition-expr field-name="partyId" entity-alias="M" rel-field-name="partyId" rel-entity-alias="TR"/>
                            <condition-expr field-name="roleTypeId" entity-alias="M" rel-field-name="roleTypeId" rel-entity-alias="TR"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="M" operator="equals" value="WEMOMG_ORG"/>
                            <condition-expr field-name="orgUnitRoleTypeId" entity-alias="W" rel-field-name="roleTypeId" rel-entity-alias="TM"/>
                            <condition-expr field-name="orgUnitId" entity-alias="W" rel-field-name="partyId" rel-entity-alias="TM"/>
                        </condition-list>
                        <condition-list>
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="M" operator="equals" value="WEMOMG_WEFF"/>
                            <condition-list combine="or">
                                <condition-list>
                                    <condition-expr field-name="otherWorkEffortId" entity-alias="M" operator="not-equals" value="null"/>
                                    <condition-expr field-name="workEffortId" entity-alias="TM" rel-field-name="otherWorkEffortId" rel-entity-alias="M"/>
                                </condition-list>
                                <condition-list>
                                    <condition-expr field-name="otherWorkEffortId" entity-alias="M" operator="equals" value="null"/>
                                    <condition-expr field-name="workEffortId" entity-alias="TM" rel-field-name="workEffortId" rel-entity-alias="M"/>
                                </condition-list>
                            </condition-list>
                        </condition-list>
                        <condition-expr field-name="weOtherGoalEnumId" entity-alias="M" operator="equals" value="WEMOMG_NONE"/>
                    </condition-list>
               </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortTransactionIndicatorViewWithScorekpi" package-name="org.ofbiz.workeffort.workeffort" never-cache="true">
        <description>Vista utilizzata per estrarre i movimenti di SCOREKPI per gli Indicatori</description>
        <member-entity entity-alias="M" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="TR" entity-name="AcctgTransEntry"/>
        <member-entity entity-alias="TM" entity-name="AcctgTrans"/>
        <member-entity entity-alias="GA" entity-name="GlAccount"/>
        <member-entity entity-alias="GF" entity-name="GlFiscalType"/>
        <member-entity entity-alias="U" entity-name="Uom"/>
        <member-entity entity-alias="RS" entity-name="WorkEffortMeasRatSc"/>
        <member-entity entity-alias="CT" entity-name="CustomTimePeriod"/><!-- Relation with WorkEffortMeasure -->
        <alias name="weTransWeId" entity-alias="M" field="workEffortId"/>
        <alias name="weTransMeasureId" entity-alias="M" field="workEffortMeasureId"/>
        <alias name="weTransId" entity-alias="TM" field="acctgTransId"/>
        <alias name="weTransEntryId" entity-alias="TR" field="acctgTransEntrySeqId"/>
        <alias name="acctgTransTypeId" entity-alias="TM"/>
        <alias name="weTransAccountId" entity-alias="M" field="glAccountId"/>
        <alias name="weMeasureMeasureType" entity-alias="M" field="weMeasureTypeEnumId"/>
        <alias name="weTransTypeValueId" entity-alias="TM" field="glFiscalTypeId"/>
        <alias name="weTransDate" entity-alias="TM" field="transactionDate"/>
        <alias name="isPosted" entity-alias="TM"/>
        <alias name="weTransComments" entity-alias="TM" field="description"></alias>
        <alias name="glResourceTypeId" entity-alias="GA"/>
        <alias name="weTransAccountDesc" field="accountName" entity-alias="GA"/>
        <alias name="weTransAccountCode" field="accountCode" entity-alias="GA"/>
        <alias name="periodicalAbsoluteEnumId" entity-alias="GA"/>
        <alias name="weTransTypeValueDesc" field="description" entity-alias="GF"/>
        <alias name="weTransTypeValueDescLang" field="descriptionLang" entity-alias="GF"/>
        <alias name="weTransValueCode" field="uomCode" entity-alias="RS"/>
        <alias name="weTransCurrencyUomId" field="currencyUomId" entity-alias="TR"/>
        <alias name="weTransValue" field="amount" entity-alias="TR"/>
        <alias name="weTransSequenceId" entity-alias="M" field="sequenceId"/>
        <!-- GN-408 -->
        <alias name="inputEnumId" entity-alias="GA"/>
        <!-- bug 4581 -->
        <alias name="hasCompetence" entity-alias="GA"/>
        <alias name="fromDateCompetence" entity-alias="TR"/>
        <alias name="toDateCompetence" entity-alias="TR"/>
        <!-- bug 4144, mancava il campo -->
        <alias name="weTransComment" field="description" entity-alias="TR"/>
        <alias name="weAcctgTransAccountId" entity-alias="TR" field="glAccountId"/>
        <alias name="weTransValueDesc" field="uomDescr" entity-alias="RS"/>
        <alias name="weTransUomDesc" field="uomDescr" entity-alias="M"/>
        <alias name="weTransUomType" field="uomTypeId" entity-alias="U"/>
        <alias name="weTransDecimalScale" entity-alias="U" field="decimalScale"/>
        <!-- bug 4279 -->
        <alias name="periodTypeId" entity-alias="CT"/>
        <alias name="customTimePeriodId" entity-alias="CT"/>
        <alias name="weTransPeriodIsClosed" field="isClosed" entity-alias="CT"/>
        <alias name="debitCreditFlag" entity-alias="TR"/>
        <alias name="perfAmountCalc" entity-alias="TR"/>
        <alias name="perfAmountActual" entity-alias="TR"/>
        <alias name="origAmount" entity-alias="TR"/>
        <alias name="amountLocked" entity-alias="TR"/>
        <alias name="voucherRef" entity-alias="TM"/>
        <alias name="groupStatusId" entity-alias="TM"/>
        <alias name="transProductId" field="productId" entity-alias="TR"/>
        <alias name="entryPartyId" field="partyId" entity-alias="TR"/>
        <alias name="entryRoleTypeId" field="roleTypeId" entity-alias="TR"/>
        <alias name="hasScoreAlert" entity-alias="TR"/>
        <alias name="partyId" entity-alias="M"/>
        <alias name="roleTypeId" entity-alias="M"/>
        <!-- GN-161 -->
        <alias name="weTransWorkEffortSnapShotId" field="workEffortSnapshotId" entity-alias="TR"/>
        <alias entity-alias="TR" name="weTransWorkEffortRevisionId" field="workEffortRevisionId"/>
        <view-link entity-alias="M" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="TR">
            <!-- Per vedere anche gli SCOREKPI -->
            <key-map field-name="workEffortMeasureId" rel-field-name="voucherRef"/>
        </view-link>
        <view-link entity-alias="TR" rel-entity-alias="TM">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="GA">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="TM" rel-entity-alias="GF">
            <key-map field-name="glFiscalTypeId"/>
        </view-link>
        <view-link entity-alias="GA" rel-entity-alias="U">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="CT" rel-optional="true">
            <key-map field-name="periodTypeId" rel-field-name="periodTypeId"/>
            <entity-condition>
                <condition-list>              
                    <condition-expr entity-alias="CT" field-name="thruDate" rel-entity-alias="TM" rel-field-name="transactionDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="RS" rel-optional="true">
            <key-map field-name="workEffortMeasureId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="uomId" entity-alias="RS" rel-field-name="currencyUomId" rel-entity-alias="TR"/>
                    <condition-expr field-name="uomRatingValue" entity-alias="RS" rel-field-name="amount" rel-entity-alias="TR"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <relation rel-entity-name="WorkEffortMeasureAndPurposeAccountInd" type="one-nofk">
            <key-map field-name="weTransMeasureId" rel-field-name="workEffortMeasureId"/>
            <key-map field-name="weTransWeId" rel-field-name="workEffortId"/>
            <key-map field-name="weTransAccountId" rel-field-name="glAccountId"/>
        </relation>

        <entity-condition>
            <condition-list combine="or">
                <condition-list>
                    <condition-expr field-name="inputEnumId" entity-alias="GA" value="ACCINP_OBJ"/>
                    <condition-expr field-name="workEffortMeasureId" entity-alias="M" rel-field-name="voucherRef" rel-entity-alias="TM"/>
                </condition-list>
                <condition-list>
                    <condition-expr field-name="inputEnumId" entity-alias="GA" operator="not-equals" value="ACCINP_OBJ"/>
                    <condition-expr field-name="organizationPartyId" entity-alias="TR" rel-field-name="organizationId" rel-entity-alias="W"/>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr field-name="productId" entity-alias="M" value="null"/>
                            <condition-expr field-name="productId" entity-alias="TR" value="null"/>
                        </condition-list>
                        <condition-expr field-name="productId" entity-alias="M" rel-field-name="productId" rel-entity-alias="TR"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr field-name="emplPositionTypeId" entity-alias="M" value="null"/>
                            <condition-expr field-name="emplPositionTypeId" entity-alias="TR" value="null"/>
                        </condition-list>
                        <condition-expr field-name="emplPositionTypeId" entity-alias="M" rel-field-name="emplPositionTypeId" rel-entity-alias="TR"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr field-name="roleTypeId" entity-alias="M" value="null"/>
                            <condition-expr field-name="partyId" entity-alias="M" value="null"/>
                        </condition-list>
                        <condition-list>
                            <condition-expr field-name="partyId" entity-alias="M" rel-field-name="partyId" rel-entity-alias="TR"/>
                            <condition-expr field-name="roleTypeId" entity-alias="M" rel-field-name="roleTypeId" rel-entity-alias="TR"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="M" operator="equals" value="WEMOMG_ORG"/>
                            <condition-expr field-name="orgUnitRoleTypeId" entity-alias="W" rel-field-name="roleTypeId" rel-entity-alias="TM"/>
                            <condition-expr field-name="orgUnitId" entity-alias="W" rel-field-name="partyId" rel-entity-alias="TM"/>
                        </condition-list>
                        <condition-list>
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="M" operator="equals" value="WEMOMG_WEFF"/>
                            <condition-list combine="or">
                                <condition-list>
                                    <condition-expr field-name="otherWorkEffortId" entity-alias="M" operator="not-equals" value="null"/>
                                    <condition-expr field-name="workEffortId" entity-alias="TM" rel-field-name="otherWorkEffortId" rel-entity-alias="M"/>
                                </condition-list>
                                <condition-list>
                                    <condition-expr field-name="otherWorkEffortId" entity-alias="M" operator="equals" value="null"/>
                                    <condition-expr field-name="workEffortId" entity-alias="TM" rel-field-name="workEffortId" rel-entity-alias="M"/>
                                </condition-list>
                            </condition-list>
                        </condition-list>
                        <condition-expr field-name="weOtherGoalEnumId" entity-alias="M" operator="equals" value="WEMOMG_NONE"/>
                    </condition-list>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <!-- ******************************************************************************************* -->
    <view-entity entity-name="WorkEffortGanttExtensionView1" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="AT" entity-name="AcctgTrans"/>
        <member-entity entity-alias="AE" entity-name="AcctgTransEntry"/>
        <member-entity entity-alias="UM" entity-name="Uom"/>

        <alias name="workEffortId" entity-alias="AT"/>
        <alias name="transactionDate" entity-alias="AT"/>
        <alias name="atRoleTypeId" entity-alias="AT" field="roleTypeId"/>
        <alias name="atPartyId" entity-alias="AT" field="partyId"/>
        <alias name="voucherRef" entity-alias="AT"/>
        <alias name="amount" entity-alias="AE"/>
        <alias name="currencyUomId" entity-alias="AE"/>
        <alias name="aeRoleTypeId" entity-alias="AE" field="roleTypeId"/>
        <alias name="aePartyId" entity-alias="AE" field="partyId"/>
        <alias name="organizationPartyId" entity-alias="AE"/>
        <alias name="glAccountId" entity-alias="AE"/>
        <alias name="productId" entity-alias="AE"/>
        <alias name="emplPositionTypeId" entity-alias="AE"/>
        <alias name="glFiscalTypeId" entity-alias="AE"/>
        <alias name="hasScoreAlert" entity-alias="AE"/>
        <alias name="description" entity-alias="AE"/>
        <alias name="abbreviation" entity-alias="UM"/>
        <alias name="uomTypeId" entity-alias="UM"/>

        <view-link entity-alias="AT" rel-entity-alias="AE">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="AE" rel-entity-alias="UM">
            <key-map field-name="currencyUomId" rel-field-name="uomId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortMeasureWorkEffortAnalysis" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="M" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="A" entity-name="WorkEffortAnalysis"/>

        <alias-all entity-alias="M" prefix="m"/>
        <alias-all entity-alias="A" prefix="a"/>
    </view-entity>

    <view-entity entity-name="WorkEffortGanttExtensionView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WMA" entity-name="WorkEffortMeasureWorkEffortAnalysis"/>

        <member-entity entity-alias="AC" entity-name="GlAccount"/>
        <member-entity entity-alias="WP" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WZ" entity-name="WorkEffortAssoc"/>
        <member-entity entity-alias="WF" entity-name="WorkEffort"/>
        <member-entity entity-alias="WD" entity-name="WorkEffortAssocType"/>
        <member-entity entity-alias="VAL" entity-name="WorkEffortGanttExtensionView1"/>
        <member-entity entity-alias="WR" entity-name="WorkEffortMeasRatSc"/>


        <alias name="analisi" entity-alias="WMA" field="aWorkEffortAnalysisId"/>
        <alias name="obiettivoPadre" entity-alias="WF" field="workEffortId"/>

        <alias name="titolo" entity-alias="WE" field="workEffortName"/>
        <alias name="descrbreve" entity-alias="WE" field="description"/>
        <alias name="code" entity-alias="WE" field="sourceReferenceId"/>
        <alias name="seq" entity-alias="WZ" field="sequenceNum"/>
        <alias name="id" entity-alias="WE" field="workEffortId"/>
        <alias name="tipudm" entity-alias="VAL" field="uomTypeId"/>

        <alias name="valGlFiscalTypeId" entity-alias="VAL" field="glFiscalTypeId"/>
        <alias name="valTransactionDate" entity-alias="VAL" field="transactionDate"/>
        <alias name="waReferenceDate" entity-alias="WMA" field="aReferenceDate"/>
        <alias name="waYearPrev" entity-alias="WMA" field="aYearPrev"/>
        <alias name="waYearReal" entity-alias="WMA" field="aYearReal"/>
        <alias name="waYearP1Prev" entity-alias="WMA" field="aYearP1Prev"/>
        <alias name="waYearP1Real" entity-alias="WMA" field="aYearP1Real"/>
        <alias name="waYearP2Prev" entity-alias="WMA" field="aYearP2Prev"/>
        <alias name="waYearP2Real" entity-alias="WMA" field="aYearP2Real"/>
        <alias name="waYearP3Prev" entity-alias="WMA" field="aYearP3Prev"/>
        <alias name="waYearP3Real" entity-alias="WMA" field="aYearP3Real"/>
        <alias name="waYearP4Prev" entity-alias="WMA" field="aYearP4Prev"/>
        <alias name="waYearP4Real" entity-alias="WMA" field="aYearP4Real"/>
        <alias name="waYearM1Prev" entity-alias="WMA" field="aYearM1Prev"/>
        <alias name="waYearM1Real" entity-alias="WMA" field="aYearM1Real"/>
        <alias name="waYearM2Prev" entity-alias="WMA" field="aYearM2Prev"/>
        <alias name="waYearM2Real" entity-alias="WMA" field="aYearM2Real"/>
        <alias name="waYearM3Prev" entity-alias="WMA" field="aYearM3Prev"/>
        <alias name="waYearM3Real" entity-alias="WMA" field="aYearM3Real"/>
        <alias name="waYearM4Prev" entity-alias="WMA" field="aYearM4Prev"/>
        <alias name="waYearM4Real" entity-alias="WMA" field="aYearM4Real"/>



        <alias name="valAmount" entity-alias="VAL" field="amount"/>
        <alias name="valDescription" entity-alias="VAL" field="description"/>
        <alias name="wrUomCode" entity-alias="WR" field="uomCode"/>


        <view-link entity-alias="WMA" rel-entity-alias="AC">
            <key-map field-name="mGlAccountId" rel-field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="WMA" rel-entity-alias="WP">
            <key-map field-name="mGlAccountId" rel-field-name="glAccountId"/>
            <entity-condition>
                <condition-expr field-name="aWorkEffortPurposeTypeId" entity-alias="WMA" rel-field-name="workEffortPurposeTypeId" rel-entity-alias="WP"/>
            </entity-condition>
        </view-link>
        <!--<view-link entity-alias="WP" rel-entity-alias="WA" >
            <key-map field-name="workEffortPurposeTypeId" rel-field-name="workEffortPurposeTypeId"/>
            </view-link> -->
        <view-link entity-alias="WMA" rel-entity-alias="WE">
            <key-map field-name="mWorkEffortId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="WZ">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
        </view-link>
        <view-link entity-alias="WZ" rel-entity-alias="WF">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WZ" rel-entity-alias="WD">
            <key-map field-name="workEffortAssocTypeId" rel-field-name="workEffortAssocTypeId"/>
        </view-link>
        <view-link entity-alias="WMA" rel-entity-alias="VAL" rel-optional="true">
            <key-map field-name="mGlAccountId" rel-field-name="glAccountId"/>
            <key-map field-name="mWorkEffortMeasureId" rel-field-name="voucherRef"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="glAccountId" entity-alias="VAL" operator="not-equals" value="SCORE"/>
                    <condition-expr field-name="glAccountId" entity-alias="VAL" operator="not-equals" value="SCOREKPI"/>
                    <condition-expr field-name="inputEnumId" entity-alias="AC" operator="equals" value="ACCINP_OBJ"/>

                    <condition-list combine="and">
                        <condition-list combine="or">
                            <condition-list combine="and">
                                <condition-expr field-name="aReferenceDate" entity-alias="WMA" operator="less-equals" rel-field-name="mThruDate" rel-entity-alias="WMA"/>
                                <condition-expr field-name="transactionDate" entity-alias="VAL" operator="equals" rel-field-name="aReferenceDate" rel-entity-alias="WMA"/>
                            </condition-list>
                            <condition-list combine="and">
                                <condition-expr field-name="aReferenceDate" entity-alias="WMA" operator="greater" rel-field-name="mThruDate" rel-entity-alias="WMA"/>
                                <condition-expr field-name="transactionDate" entity-alias="VAL" operator="equals" rel-field-name="aReferenceDate" rel-entity-alias="WMA"/>
                            </condition-list>
                            <condition-list combine="and">
                                <!-- <condition-expr field-name="glFiscalTypeId" entity-alias="VAL" operator="equals" value="ACTUAL"/> -->
                                <condition-list combine="or">
                                    <condition-expr field-name="transactionDate" entity-alias="VAL" operator="equals" rel-field-name="aYearPrev" rel-entity-alias="WMA"/>
                                    <condition-expr field-name="transactionDate" entity-alias="VAL" operator="equals" rel-field-name="aYearM4Prev" rel-entity-alias="WMA"/>
                                    <condition-expr field-name="transactionDate" entity-alias="VAL" operator="equals" rel-field-name="aYearM3Prev" rel-entity-alias="WMA"/>
                                    <condition-expr field-name="transactionDate" entity-alias="VAL" operator="equals" rel-field-name="aYearM2Prev" rel-entity-alias="WMA"/>
                                    <condition-expr field-name="transactionDate" entity-alias="VAL" operator="equals" rel-field-name="aYearM1Prev" rel-entity-alias="WMA"/>
                                    <condition-expr field-name="transactionDate" entity-alias="VAL" operator="equals" rel-field-name="aYearP4Prev" rel-entity-alias="WMA"/>
                                    <condition-expr field-name="transactionDate" entity-alias="VAL" operator="equals" rel-field-name="aYearP3Prev" rel-entity-alias="WMA"/>
                                    <condition-expr field-name="transactionDate" entity-alias="VAL" operator="equals" rel-field-name="aYearP2Prev" rel-entity-alias="WMA"/>
                                    <condition-expr field-name="transactionDate" entity-alias="VAL" operator="equals" rel-field-name="aYearP1Prev" rel-entity-alias="WMA"/>
                                </condition-list>
                            </condition-list>
                        </condition-list>
                    </condition-list>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WMA" rel-entity-alias="WR" rel-optional="true">
            <key-map field-name="mWorkEffortMeasureId" rel-field-name="workEffortMeasureId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="uomId" entity-alias="WR" operator="equals" rel-field-name="currencyUomId" rel-entity-alias="VAL"/>
                    <condition-expr field-name="uomRatingValue" entity-alias="WR" operator="equals" rel-field-name="amount" rel-entity-alias="VAL"/>
                </condition-list>
            </entity-condition>
        </view-link>

        <entity-condition>
            <condition-list combine="and">
                <!--
                    condizioni where
                -->
                <condition-expr field-name="mWeMeasureTypeEnumId" entity-alias="WMA" operator="not-equals" value="WEMT_SCORE"/>
                <!--<condition-expr field-name="workEffortAnalysisId" entity-alias="WA" operator="equals" value="PP111"/> valori in input -->
                <!--<condition-expr field-name="workEffortId" entity-alias="WF" operator="equals" value="12855"/> valori in input -->
                <condition-list combine="and">
                    <condition-list combine="or">
                        <condition-list combine="and">
                            <condition-expr field-name="parentTypeId" entity-alias="WD" operator="equals" value="HIE"/>
                            <condition-expr field-name="workEffortParentId" entity-alias="WE" operator="equals" rel-field-name="workEffortParentId" rel-entity-alias="WF"/>
                        </condition-list>
                        <condition-expr field-name="workEffortAssocTypeId" entity-alias="WZ" operator="equals" rel-field-name="workEffortAssocTypeId" rel-entity-alias="WF"/>
                    </condition-list>
                </condition-list>
                <condition-list combine="or">
                    <condition-expr field-name="thruDate" entity-alias="WZ" operator="equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="WF"/>
                    <condition-expr field-name="thruDate" entity-alias="WZ" operator="equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="WE"/>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortMeasureAndPurposeAccountRes" package-name="org.ofbiz.workeffort.workeffort">
    	<description>Tiene conto del wePurposeTypeIdRes specificato nel tipo Obiettivo per le risorse</description>
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WA" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="WM" entity-name="WorkEffortMeasure"/>
        <alias-all entity-alias="WM"/>
        <alias name="workEffortId" entity-alias="WE" prim-key="false"/>
        <alias name="workEffortTypeId" entity-alias="WT" prim-key="false"/>
        <alias name="workEffortSnapshotId" entity-alias="WE"/>
        <!-- <alias name="workEffortMeasureId" entity-alias="WM"/> -->
        <view-link entity-alias="WE" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="WT" rel-entity-alias="WA">
            <key-map field-name="wePurposeTypeIdRes" rel-field-name="workEffortPurposeTypeId"/>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="WM">
            <key-map field-name="workEffortId"/>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="glAccountId" entity-alias="WA" rel-field-name="glAccountId" rel-entity-alias="WM"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortMeasureAndPurposeAccountInd" package-name="org.ofbiz.workeffort.workeffort">
        <description>Tiene conto SOLO del wePurposeTypeIdInd specificato nel tipo Obiettivo per gli Indicatori, trascurando le finalita degli altri indicatori, gestiti nei folder multipli</description>
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WA" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="WM" entity-name="WorkEffortMeasure"/>
        <alias-all entity-alias="WM"/>
        <alias name="workEffortId" entity-alias="WE" prim-key="false"/>
        <alias name="workEffortTypeId" entity-alias="WT" prim-key="false"/>
        <alias name="workEffortSnapshotId" entity-alias="WE"/>
        <!-- <alias name="workEffortMeasureId" entity-alias="WM"/> -->
        <view-link entity-alias="WE" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="WT" rel-entity-alias="WA">
            <key-map field-name="wePurposeTypeIdInd" rel-field-name="workEffortPurposeTypeId"/>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="WM">
            <key-map field-name="workEffortId"/>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="glAccountId" entity-alias="WA" rel-field-name="glAccountId" rel-entity-alias="WM"/>
            </condition-list>
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortMeasureByWorkEffortPurposeAccount" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="WPA" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="WM" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <alias-all entity-alias="WM"/>
        <alias name="glAccountId" entity-alias="G"/>
        <alias name="workEffortPurposeTypeId" entity-alias="WPA"/>
        <alias name="workEffortId" entity-alias="W"/>
        <alias name="sourceReferenceId" entity-alias="W"/>
        <alias name="workEffortName" entity-alias="W"/>
        <alias name="workEffortSnapshotId" entity-alias="W"/>
        <alias name="workEffortTypeId" entity-alias="W"/>
        <view-link entity-alias="G" rel-entity-alias="WPA">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="WM">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="WM" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortTransactionAndPurposeAccountRes" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WA" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="WM" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="TR" entity-name="AcctgTrans"/>
        <alias name="workEffortId" entity-alias="WE" prim-key="false"/>
        <alias name="workEffortTypeId" entity-alias="WT" prim-key="false"/>
        <alias name="workEffortMeasureId" entity-alias="WM"/>
        <alias name="acctgTransId" entity-alias="TR" prim-key="false"/>
        <view-link entity-alias="WE" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="WT" rel-entity-alias="WA">
            <key-map field-name="wePurposeTypeIdRes" rel-field-name="workEffortPurposeTypeId"/>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="WM">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-expr field-name="glAccountId" entity-alias="WA" rel-field-name="glAccountId" rel-entity-alias="WM"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WM" rel-entity-alias="TR">
            <key-map field-name="workEffortMeasureId" rel-field-name="voucherRef"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortTransactionAndPurposeAccountInd" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WA" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="WM" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="GL" entity-name="GlAccount"/>
        <member-entity entity-alias="TR" entity-name="AcctgTransEntry"/>
        <member-entity entity-alias="TM" entity-name="AcctgTrans"/>
        <alias name="workEffortId" entity-alias="WE"/>
        <alias name="workEffortTypeId" entity-alias="WT"/>
        <alias name="workEffortMeasureId" entity-alias="WM"/>
        <alias name="acctgTransId" entity-alias="TM"/>
        <view-link entity-alias="WE" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="WT" rel-entity-alias="WA">
            <key-map field-name="wePurposeTypeIdRes" rel-field-name="workEffortPurposeTypeId"/>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="WM">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-expr field-name="glAccountId" entity-alias="WA" rel-field-name="glAccountId" rel-entity-alias="WM"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WM" rel-entity-alias="GL">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="WM" rel-entity-alias="TR">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="TR" rel-entity-alias="TM">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <entity-condition>
            <condition-list combine="or">
                <condition-list>
                    <condition-expr field-name="inputEnumId" entity-alias="GL" value="ACCINP_OBJ"/>
                    <condition-expr field-name="workEffortMeasureId" entity-alias="WM" rel-field-name="voucherRef" rel-entity-alias="TM"/>
                </condition-list>
                <condition-list>
                    <condition-expr field-name="inputEnumId" entity-alias="GL" operator="not-equals" value="ACCINP_OBJ"/>
                    <condition-expr field-name="organizationPartyId" entity-alias="TR" rel-field-name="organizationId" rel-entity-alias="WE"/>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr field-name="productId" entity-alias="WM" value="null"/>
                            <condition-expr field-name="productId" entity-alias="TR" value="null"/>
                        </condition-list>
                        <condition-expr field-name="productId" entity-alias="WM" rel-field-name="productId" rel-entity-alias="TR"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr field-name="emplPositionTypeId" entity-alias="WM" value="null"/>
                            <condition-expr field-name="emplPositionTypeId" entity-alias="TR" value="null"/>
                        </condition-list>
                        <condition-expr field-name="emplPositionTypeId" entity-alias="WM" rel-field-name="emplPositionTypeId" rel-entity-alias="TR"/>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr field-name="roleTypeId" entity-alias="WM" value="null"/>
                            <condition-expr field-name="partyId" entity-alias="WM" value="null"/>
                            <condition-expr field-name="roleTypeId" entity-alias="TR" value="null"/>
                            <condition-expr field-name="partyId" entity-alias="TR" value="null"/>
                        </condition-list>
                        <condition-list>
                            <condition-expr field-name="partyId" entity-alias="WM" rel-field-name="partyId" rel-entity-alias="TR"/>
                            <condition-expr field-name="roleTypeId" entity-alias="WM" rel-field-name="roleTypeId" rel-entity-alias="TR"/>
                        </condition-list>
                    </condition-list>
                    <condition-list combine="or">
                        <condition-list>
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="WM" operator="equals" value="WEMOMG_ORG"/>
                            <condition-expr field-name="orgUnitRoleTypeId" entity-alias="WE" rel-field-name="roleTypeId" rel-entity-alias="TM"/>
                            <condition-expr field-name="orgUnitId" entity-alias="WE" rel-field-name="partyId" rel-entity-alias="TM"/>
                        </condition-list>
                        <condition-list>
                            <condition-expr field-name="weOtherGoalEnumId" entity-alias="WM" operator="equals" value="WEMOMG_WEFF"/>
                            <condition-list combine="or">
                                <condition-list>
                                    <condition-expr field-name="otherWorkEffortId" entity-alias="WM" operator="not-equals" value="null"/>
                                    <condition-expr field-name="workEffortId" entity-alias="TM" rel-field-name="otherWorkEffortId" rel-entity-alias="WM"/>
                                </condition-list>
                                <condition-list>
                                    <condition-expr field-name="otherWorkEffortId" entity-alias="WM" operator="equals" value="null"/>
                                    <condition-expr field-name="workEffortId" entity-alias="TM" rel-field-name="workEffortId" rel-entity-alias="WM"/>
                                </condition-list>
                            </condition-list>
                        </condition-list>
                        <condition-expr field-name="weOtherGoalEnumId" entity-alias="WM" operator="equals" value="WEMOMG_NONE"/>
                    </condition-list>
                </condition-list>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortTypeStatusCntChildView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WTC" entity-name="WorkEffortTypeStatusCnt"/>
        <member-entity entity-alias="WC" entity-name="WorkEffort"/>
        <member-entity entity-alias="WP" entity-name="WorkEffort"/>
        <alias entity-alias="WTC" field="toPost" name="toPost"/>
        <alias entity-alias="WTC" field="codeLocked" name="codeLocked"/>
        <alias entity-alias="WTC" field="crudEnumId" name="crudEnumId"/>
        <alias entity-alias="WC" field="workEffortTypeId" name="workEffortTypeId"/>
        <alias entity-alias="WC" field="workEffortId" name="workEffortId"/>
        <alias entity-alias="WC" field="workEffortParentId" name="workEffortParentId"/>
        <alias entity-alias="WP" field="workEffortTypeId" name="workEffortParentTypeId"/>
        <alias entity-alias="WC" name="statusId" field="currentStatusId"/>
        <alias entity-alias="WTC" field="contentId" name="contentId"/>
        <view-link entity-alias="WC" rel-entity-alias="WP">
            <key-map field-name="workEffortParentId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WC" rel-entity-alias="WTC" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortTypeStatusCntParentView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WTP" entity-name="WorkEffortTypeStatusCnt"/>
        <member-entity entity-alias="WC" entity-name="WorkEffort"/>
        <member-entity entity-alias="WP" entity-name="WorkEffort"/>
        <alias entity-alias="WTP" field="toPost" name="toPost"/>
        <alias entity-alias="WTP" field="codeLocked" name="codeLocked"/>
        <alias entity-alias="WTP" field="crudEnumId" name="crudEnumId"/>
        <alias entity-alias="WC" field="workEffortTypeId" name="workEffortTypeId"/>
        <alias entity-alias="WC" field="workEffortId" name="workEffortId"/>
        <alias entity-alias="WC" name="statusId" field="currentStatusId"/>
        <alias entity-alias="WTP" field="contentId" name="contentId"/>
        <alias entity-alias="WC" field="workEffortParentId" name="workEffortParentId"/>
        <alias entity-alias="WP" field="workEffortTypeId" name="workEffortParentTypeId"/>

        <view-link entity-alias="WC" rel-entity-alias="WP">
            <key-map field-name="workEffortParentId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WP" rel-entity-alias="WTP" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
    </view-entity>


    <view-entity entity-name="WorkEffortTypeStatusCntView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WTC" entity-name="WorkEffortTypeStatusCnt"/>
        <member-entity entity-alias="WTP" entity-name="WorkEffortTypeStatusCnt"/>
        <member-entity entity-alias="WC" entity-name="WorkEffort"/>
        <member-entity entity-alias="WP" entity-name="WorkEffort"/>
        <alias entity-alias="WTC" field="toPost" name="childToPost"/>
        <alias entity-alias="WTP" field="toPost" name="parentToPost"/>
        <alias entity-alias="WTC" field="crudEnumId" name="childCrudEnumId"/>
        <alias entity-alias="WTP" field="crudEnumId" name="parentCrudEnumId"/>
        <alias entity-alias="WC" field="workEffortTypeId" name="workEffortTypeId"/>
        <alias entity-alias="WC" field="workEffortId" name="workEffortId"/>
        <alias entity-alias="WC" field="workEffortParentId" name="workEffortParentId"/>
        <alias entity-alias="WP" field="workEffortTypeId" name="workEffortParentTypeId"/>
        <alias entity-alias="WC" name="statusId" field="currentStatusId"/>
        <alias entity-alias="WTC" field="contentId" name="childContentId" prim-key="false"/>
        <alias entity-alias="WTP" field="contentId" name="parentContentId" prim-key="false"/>
        <view-link entity-alias="WC" rel-entity-alias="WP">
            <key-map field-name="workEffortParentId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WC" rel-entity-alias="WTC" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="WP" rel-entity-alias="WTP" rel-optional="true">
            <key-map field-name="workEffortTypeId"/>
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="WorkEffortTypeStatusCntAndWorkEffort" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffortTypeStatusCnt"/>
        <member-entity entity-alias="B" entity-name="WorkEffort"/>
        <alias-all entity-alias="A"/>
        <alias name="workEffortId" entity-alias="B"/>
        <view-link rel-entity-alias="B" entity-alias="A">
            <key-map field-name="workEffortTypeId"/>
            <key-map field-name="statusId" rel-field-name="currentStatusId"/>
        </view-link>
    </view-entity>

    <!-- bug 3883 -->
    <view-entity entity-name="WorkEffortAndTypePurposeAccount" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WA" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="AC" entity-name="GlAccount"/>

        <alias name="weProductId" entity-alias="WE" field="productId"/>
        <alias name="acProductId" entity-alias="AC" field="productId"/>
        <alias name="workEffortId" entity-alias="WE"/>
        <alias name="glAccountId" entity-alias="AC"/>
        <alias name="estimatedStartDate" entity-alias="WE"/>
        <alias name="estimatedCompletionDate" entity-alias="WE"/>
        <alias name="wtPeriodTypeId" entity-alias="WT" field="periodTypeId"/>
        <alias name="acPeriodTypeId" entity-alias="AC" field="periodTypeId"/>

        <view-link entity-alias="WT" rel-entity-alias="WE">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="WT" rel-entity-alias="WA">
            <key-map field-name="wePurposeTypeIdInd" rel-field-name="workEffortPurposeTypeId"/>
        </view-link>
        <view-link entity-alias="WA" rel-entity-alias="AC">
            <key-map field-name="glAccountId"/>
        </view-link>

    </view-entity>

    <view-entity entity-name="WorkEffortAnalysisAndType" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WA" entity-name="WorkEffortAnalysis"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <alias-all entity-alias="WA"/>
        <alias name="parentTypeId" entity-alias="WT"/>

        <view-link rel-entity-alias="WT" entity-alias="WA">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortWorkEffortAssocAndType" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="WA" entity-name="WorkEffortAssoc"/>
        <member-entity entity-alias="WAT" entity-name="WorkEffortAssocType"/>
        <alias-all entity-alias="W"/>
        <alias-all entity-alias="WA" prefix="assoc"/>
        <alias-all entity-alias="WAT" prefix="assocType"/>

        <view-link entity-alias="W" rel-entity-alias="WA">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdFrom"/>
        </view-link>
        <view-link entity-alias="WA" rel-entity-alias="WAT">
            <key-map field-name="workEffortAssocTypeId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortAssocNoRootNoTemplateView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WA" entity-name="WorkEffortAssoc"/>
        <member-entity entity-alias="WF" entity-name="WorkEffort"/>
        <member-entity entity-alias="WFT" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WT" entity-name="WorkEffort"/>
        <member-entity entity-alias="WTT" entity-name="WorkEffortType"/>
        <alias name="weFromId" field="workEffortIdFrom" entity-alias="WA"/>
        <alias name="weFromCode" field="sourceReferenceId" entity-alias="WF"/>
        <alias name="weFromEtch" field="etch" entity-alias="WF"/>
        <alias name="weFromRevisionId" field="workEffortRevisionId" entity-alias="WF"/>
        <alias name="weFromName" field="workEffortName" entity-alias="WF"/>
        <alias name="weFromTypeId" field="workEffortTypeId" entity-alias="WF"/>
        <alias name="weFromTypeEtch" field="etch" entity-alias="WFT"/>
        <alias name="weToId" field="workEffortIdTo" entity-alias="WA"/>
        <alias name="weToCode" field="sourceReferenceId" entity-alias="WT"/>
        <alias name="weToEtch" field="etch" entity-alias="WT"/>
        <alias name="weToRevisionId" field="workEffortRevisionId" entity-alias="WT"/>
        <alias name="wetoName" field="workEffortName" entity-alias="WT"/>
        <alias name="weToTypeId" field="workEffortTypeId" entity-alias="WT"/>
        <alias name="weToTypeEtch" field="etch" entity-alias="WTT"/>
        <view-link entity-alias="WA" rel-entity-alias="WF">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WF" rel-entity-alias="WFT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="WA" rel-entity-alias="WT">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WT" rel-entity-alias="WTT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-list combine="or">
                    <condition-expr field-name="thruDate" entity-alias="WA" operator="equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="WF"/>
                    <condition-expr field-name="thruDate" entity-alias="WA" operator="equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="WT"/>
                </condition-list>
                <condition-expr field-name="workEffortAssocTypeId" entity-alias="WA" operator="not-equals" value="ROOT"/>
                <condition-expr field-name="workEffortAssocTypeId" entity-alias="WA" operator="not-equals" value="TEMPL"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortTypeHierarchyView" package-name="org.ofbiz.workeffort.workeffort" never-cache="true">
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WTL1" entity-name="WorkEffortTypeType"/>
        <member-entity entity-alias="WAL1" entity-name="WorkEffortAssocNoRootNoTemplateView"/>
        <member-entity entity-alias="WTL2" entity-name="WorkEffortTypeType"/>
        <member-entity entity-alias="WAL2" entity-name="WorkEffortAssocNoRootNoTemplateView"/>
        <member-entity entity-alias="WTL3" entity-name="WorkEffortTypeType"/>
        <member-entity entity-alias="WAL3" entity-name="WorkEffortAssocNoRootNoTemplateView"/>
        <member-entity entity-alias="WTL4" entity-name="WorkEffortTypeType"/>
        <member-entity entity-alias="WAL4" entity-name="WorkEffortAssocNoRootNoTemplateView"/>
        <member-entity entity-alias="WTL5" entity-name="WorkEffortTypeType"/>
        <member-entity entity-alias="WAL5" entity-name="WorkEffortAssocNoRootNoTemplateView"/>
        <member-entity entity-alias="WTL6" entity-name="WorkEffortTypeType"/>
        <member-entity entity-alias="WAL6" entity-name="WorkEffortAssocNoRootNoTemplateView"/>
        <member-entity entity-alias="WTL7" entity-name="WorkEffortTypeType"/>
        <member-entity entity-alias="WAL7" entity-name="WorkEffortAssocNoRootNoTemplateView"/>
        <alias name="workEffortId" entity-alias="WE"/>
        <alias name="workEffortRevisionId" entity-alias="WE"/>
        <alias name="weFromTypeEtch1" field="weFromTypeEtch" entity-alias="WAL1"/>
        <alias name="weFromEtch1" field="weFromEtch" entity-alias="WAL1"/>
        <alias name="weFromName1" field="weFromName" entity-alias="WAL1"/>
        <alias name="weFromTypeEtch2" field="weFromTypeEtch" entity-alias="WAL2"/>
        <alias name="weFromEtch2" field="weFromEtch" entity-alias="WAL2"/>
        <alias name="weFromName2" field="weFromName" entity-alias="WAL2"/>
        <alias name="weFromTypeEtch3" field="weFromTypeEtch" entity-alias="WAL3"/>
        <alias name="weFromEtch3" field="weFromEtch" entity-alias="WAL3"/>
        <alias name="weFromName3" field="weFromName" entity-alias="WAL3"/>
        <alias name="weFromTypeEtch4" field="weFromTypeEtch" entity-alias="WAL4"/>
        <alias name="weFromEtch4" field="weFromEtch" entity-alias="WAL4"/>
        <alias name="weFromName4" field="weFromName" entity-alias="WAL4"/>
        <alias name="weFromTypeEtch5" field="weFromTypeEtch" entity-alias="WAL5"/>
        <alias name="weFromEtch5" field="weFromEtch" entity-alias="WAL5"/>
        <alias name="weFromName5" field="weFromName" entity-alias="WAL5"/>
        <alias name="weFromTypeEtch6" field="weFromTypeEtch" entity-alias="WAL6"/>
        <alias name="weFromEtch6" field="weFromEtch" entity-alias="WAL6"/>
        <alias name="weFromName6" field="weFromName" entity-alias="WAL6"/>
        <alias name="weFromTypeEtch7" field="weFromTypeEtch" entity-alias="WAL7"/>
        <alias name="weFromEtch7" field="weFromEtch" entity-alias="WAL7"/>
        <alias name="weFromName7" field="weFromName" entity-alias="WAL7"/>
        <view-link entity-alias="WE" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="WT" rel-entity-alias="WTL1" rel-optional="true">
            <key-map field-name="workEffortTypeHierarchyId" rel-field-name="workEffortTypeIdRoot"/>
            <entity-condition>
                <condition-expr field-name="workEffortTypeIdTo" entity-alias="WTL1" rel-field-name="workEffortTypeId" rel-entity-alias="WE"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="WAL1" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="weToId"/>
            <entity-condition>
                <condition-list combine="and">
                	<condition-expr field-name="weFromTypeId" entity-alias="WAL1" rel-field-name="workEffortTypeIdFrom" rel-entity-alias="WTL1"/>
                	<condition-expr field-name="weFromRevisionId" entity-alias="WAL1" value="null"/>
                	<condition-expr field-name="weToRevisionId" entity-alias="WAL1" value="null"/>                
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="WT" rel-entity-alias="WTL2" rel-optional="true">
            <key-map field-name="workEffortTypeHierarchyId" rel-field-name="workEffortTypeIdRoot"/>
            <entity-condition>
                <condition-expr field-name="workEffortTypeIdTo" entity-alias="WTL2" rel-field-name="weFromTypeId" rel-entity-alias="WAL1"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WTL2" rel-entity-alias="WAL2" rel-optional="true">
            <key-map field-name="workEffortTypeIdFrom" rel-field-name="weFromTypeId"/>
            <entity-condition>
                <condition-list combine="and">
                	<condition-expr field-name="weToId" entity-alias="WAL2" rel-field-name="weFromId" rel-entity-alias="WAL1"/>
                	<condition-expr field-name="weFromRevisionId" entity-alias="WAL2" value="null"/>
                	<condition-expr field-name="weToRevisionId" entity-alias="WAL2" value="null"/>                
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="WT" rel-entity-alias="WTL3" rel-optional="true">
            <key-map field-name="workEffortTypeHierarchyId" rel-field-name="workEffortTypeIdRoot"/>
            <entity-condition>
                <condition-expr field-name="workEffortTypeIdTo" entity-alias="WTL3" rel-field-name="weFromTypeId" rel-entity-alias="WAL2"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WTL3" rel-entity-alias="WAL3" rel-optional="true">
            <key-map field-name="workEffortTypeIdFrom" rel-field-name="weFromTypeId"/>
            <entity-condition>
                <condition-list combine="and">
                	<condition-expr field-name="weToId" entity-alias="WAL3" rel-field-name="weFromId" rel-entity-alias="WAL2"/>
                	<condition-expr field-name="weFromRevisionId" entity-alias="WAL3" value="null"/>
                	<condition-expr field-name="weToRevisionId" entity-alias="WAL3" value="null"/>                
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="WT" rel-entity-alias="WTL4" rel-optional="true">
            <key-map field-name="workEffortTypeHierarchyId" rel-field-name="workEffortTypeIdRoot"/>
            <entity-condition>
                <condition-expr field-name="workEffortTypeIdTo" entity-alias="WTL4" rel-field-name="weFromTypeId" rel-entity-alias="WAL3"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WTL4" rel-entity-alias="WAL4" rel-optional="true">
            <key-map field-name="workEffortTypeIdFrom" rel-field-name="weFromTypeId"/>
            <entity-condition>
                <condition-list combine="and">
                	<condition-expr field-name="weToId" entity-alias="WAL4" rel-field-name="weFromId" rel-entity-alias="WAL3"/>
                	<condition-expr field-name="weFromRevisionId" entity-alias="WAL4" value="null"/>
                	<condition-expr field-name="weToRevisionId" entity-alias="WAL4" value="null"/>                
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="WT" rel-entity-alias="WTL5" rel-optional="true">
            <key-map field-name="workEffortTypeHierarchyId" rel-field-name="workEffortTypeIdRoot"/>
            <entity-condition>
                <condition-expr field-name="workEffortTypeIdTo" entity-alias="WTL5" rel-field-name="weFromTypeId" rel-entity-alias="WAL4"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WTL5" rel-entity-alias="WAL5" rel-optional="true">
            <key-map field-name="workEffortTypeIdFrom" rel-field-name="weFromTypeId"/>
            <entity-condition>
                <condition-list combine="and">
                	<condition-expr field-name="weToId" entity-alias="WAL5" rel-field-name="weFromId" rel-entity-alias="WAL4"/>
                	<condition-expr field-name="weFromRevisionId" entity-alias="WAL5" value="null"/>
                	<condition-expr field-name="weToRevisionId" entity-alias="WAL5" value="null"/>                
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="WT" rel-entity-alias="WTL6" rel-optional="true">
            <key-map field-name="workEffortTypeHierarchyId" rel-field-name="workEffortTypeIdRoot"/>
            <entity-condition>
                <condition-expr field-name="workEffortTypeIdTo" entity-alias="WTL6" rel-field-name="weFromTypeId" rel-entity-alias="WAL5"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WTL6" rel-entity-alias="WAL6" rel-optional="true">
            <key-map field-name="workEffortTypeIdFrom" rel-field-name="weFromTypeId"/>
            <entity-condition>
                <condition-list combine="and">
                	<condition-expr field-name="weToId" entity-alias="WAL6" rel-field-name="weFromId" rel-entity-alias="WAL5"/>
                	<condition-expr field-name="weFromRevisionId" entity-alias="WAL6" value="null"/>
                	<condition-expr field-name="weToRevisionId" entity-alias="WAL6" value="null"/>                
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="WT" rel-entity-alias="WTL7" rel-optional="true">
            <key-map field-name="workEffortTypeHierarchyId" rel-field-name="workEffortTypeIdRoot"/>
            <entity-condition>
                <condition-expr field-name="workEffortTypeIdTo" entity-alias="WTL7" rel-field-name="weFromTypeId" rel-entity-alias="WAL6"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WTL7" rel-entity-alias="WAL7" rel-optional="true">
            <key-map field-name="workEffortTypeIdFrom" rel-field-name="weFromTypeId"/>
            <entity-condition>
                <condition-list combine="and">
                	<condition-expr field-name="weToId" entity-alias="WAL7" rel-field-name="weFromId" rel-entity-alias="WAL6"/>
                	<condition-expr field-name="weFromRevisionId" entity-alias="WAL7" value="null"/>
                	<condition-expr field-name="weToRevisionId" entity-alias="WAL7" value="null"/>                
                </condition-list>
            </entity-condition>
        </view-link>
    </view-entity>


    <view-entity entity-name="WorkEffortTypePeriodView" package-name="org.ofbiz.workeffort.workeffort">
        <description>WorkEffortView_N</description>
        <member-entity entity-name="WorkEffortTypePeriod" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="CustomTimePeriod" entity-alias="C"/>
        <alias-all entity-alias="A"/>
        <alias name="weContextId" entity-alias="B" field="parentTypeId"/>
        <alias name="description" entity-alias="B"/>
        <alias name="periodTypeId" entity-alias="C"/>
        <alias name="periodFromDate" entity-alias="C" field="fromDate"/>
        <alias name="periodThruDate" entity-alias="C" field="thruDate"/>
        <view-link rel-entity-alias="B" entity-alias="A" rel-optional="false">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
       <view-link rel-entity-alias="C" entity-alias="A" rel-optional="false">
            <key-map field-name="customTimePeriodId"/>
        </view-link>        
    </view-entity>
    
    <view-entity entity-name="WorkEffortTypePeriodAndCustomTimePeriodView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortTypePeriod" entity-alias="A"/>
        <member-entity entity-name="CustomTimePeriod" entity-alias="B"/>
        <member-entity entity-name="Enumeration" entity-alias="C"/>
        <alias-all entity-alias="A"/>
        <alias entity-alias="B" name="periodTypeId"/>
        <alias entity-alias="B" name="fromDate"/>
        <alias entity-alias="B" name="thruDate"/>
        <alias entity-alias="B" name="periodNum"/>
        <alias entity-alias="C" name="sequenceId"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="customTimePeriodId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="glFiscalTypeEnumId" rel-field-name="enumId"/>
        </view-link>       
    </view-entity>

    <!-- 4279 -->
    <view-entity entity-name="CustomTimePeriodAndMeasureProjectView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WM" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="TP" entity-name="CustomTimePeriod"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <alias name="customTimePeriodId" entity-alias="TP"/>
        <alias name="customTimePeriodCode" entity-alias="TP"/>
        <alias name="thruDate" entity-alias="TP"/>
        <alias name="workEffortMeasureId" entity-alias="WM"/>
        <alias name="glAccountId" entity-alias="WM" prim-key="false"/>
        <alias name="workEffortId" entity-alias="WE" prim-key="false"/>
        <alias name="workEffortTypeId" entity-alias="WT" prim-key="false"/>
        <view-link entity-alias="WM" rel-entity-alias="WE">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="WM" rel-entity-alias="TP">
            <key-map field-name="periodTypeId"/>
            <entity-condition>
                <condition-list>
                	<condition-expr field-name="fromDate" entity-alias="TP" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="WM"/>
                    <condition-expr field-name="thruDate" entity-alias="TP" operator="greater-equals" rel-field-name="fromDate" rel-entity-alias="WM"/>
                </condition-list>
            </entity-condition>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortTypePeriodAndCustomTime" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WM" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="WTP" entity-name="WorkEffortTypePeriod"/>
        <member-entity entity-alias="TP0" entity-name="CustomTimePeriod"/>
        <alias name="workEffortMeasureId" entity-alias="WM"/>
        <alias name="workEffortId" entity-alias="WE" prim-key="false"/>
        <alias name="workEffortTypePeriodId" entity-alias="WTP" prim-key="false"/>
        <alias name="customTimePeriodId" entity-alias="TP0" prim-key="false"/>
        <view-link entity-alias="WM" rel-entity-alias="WE">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="WTP">
            <key-map field-name="workEffortTypePeriodId"/>
        </view-link>
        <view-link entity-alias="WTP" rel-entity-alias="TP0">
            <key-map field-name="customTimePeriodId"/>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="WorkEffortTypePeriodAndFromThruDate" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WTP" entity-name="WorkEffortTypePeriod"/>
        <member-entity entity-alias="CTP" entity-name="CustomTimePeriod"/>
        <alias name="workEffortTypePeriodId" entity-alias="WTP"/>
        <alias name="organizationId" entity-alias="WTP"/>
        <alias name="workEffortTypeId" entity-alias="WTP"/>
        <alias name="glFiscalTypeEnumId" entity-alias="WTP"/>
        <alias name="statusEnumId" entity-alias="WTP"/>
        <alias name="statusTypeId" entity-alias="WTP"/>
        <alias name="customTimePeriodId" entity-alias="CTP" prim-key="false"/>
        <alias name="fromDate" entity-alias="CTP"/>
        <alias name="thruDate" entity-alias="CTP"/>
        <view-link entity-alias="WTP" rel-entity-alias="CTP">
            <key-map field-name="customTimePeriodId"/>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="CustomTimePeriodAndParentView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="C" entity-name="CustomTimePeriod"/>
        <member-entity entity-alias="CP" entity-name="CustomTimePeriod"/>
        
        <alias name="customTimePeriodId" entity-alias="C"/>
        <alias name="parentPeriodId" entity-alias="C"/>
        <alias name="periodTypeId" entity-alias="C"/>
        <alias name="fromDate" entity-alias="C"/>
        <alias name="thruDate" entity-alias="C"/>                
        <alias field="fromDate" name="parentFromDate" entity-alias="CP"/>
        <alias field="thruDate" name="parentThruDate" entity-alias="CP"/>
        
        <view-link entity-alias="C" rel-entity-alias="CP" rel-optional="true">
            <key-map field-name="parentPeriodId" rel-field-name="customTimePeriodId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortAndTypePeriodAndThruDate" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="WTP" entity-name="WorkEffortTypePeriod"/>
        <member-entity entity-alias="CTP" entity-name="CustomTimePeriodAndParentView"/>
        <alias name="workEffortId" entity-alias="W"/>
        <alias name="workEffortTypePeriodId" entity-alias="WTP" prim-key="false"/>
        <alias name="workEffortTypeId" entity-alias="W"/>
        <alias name="glFiscalTypeEnumId" entity-alias="WTP"/>
        <alias name="statusEnumId" entity-alias="WTP"/>
        <alias name="statusTypeId" entity-alias="WTP"/>
        <alias name="desProc" entity-alias="WTP"/>
        <alias name="customTimePeriodId" entity-alias="CTP" prim-key="false"/>
        <alias name="parentPeriodId" entity-alias="CTP"/>
        <alias name="periodTypeId" entity-alias="CTP"/>
        <alias name="fromDate" entity-alias="CTP"/>
        <alias name="thruDate" entity-alias="CTP"/>
        <alias name="parentFromDate" entity-alias="CTP"/>
        <alias name="parentThruDate" entity-alias="CTP"/>
        <view-link entity-alias="W" rel-entity-alias="WTP" rel-optional="true">
            <key-map field-name="workEffortTypePeriodId"/>
        </view-link>
        <view-link entity-alias="WTP" rel-entity-alias="CTP" rel-optional="true">
            <key-map field-name="customTimePeriodId"/>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="CustomTimePeriodAndMeasureProcessView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WM" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="TP" entity-name="CustomTimePeriod"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <alias name="customTimePeriodId" entity-alias="TP"/>
        <alias name="customTimePeriodCode" entity-alias="TP"/>
        <alias name="fromDate" entity-alias="TP"/>
        <alias name="thruDate" entity-alias="TP"/>
        <alias name="workEffortMeasureId" entity-alias="WM"/>
        <alias name="glAccountId" entity-alias="WM" prim-key="false"/>
        <alias name="workEffortId" entity-alias="WE" prim-key="false"/>
        <alias name="workEffortTypeId" entity-alias="WT" prim-key="false"/>
        <view-link entity-alias="WM" rel-entity-alias="WE">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="WM" rel-entity-alias="TP">
            <key-map field-name="periodTypeId"/>
            <entity-condition>
            	<condition-list>           
                	<condition-expr field-name="fromDate" entity-alias="TP" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="WM"/>
                </condition-list>
            </entity-condition>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAndTypePeriodAndCustomTime" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WS" entity-name="WorkEffort"/>
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="WTP" entity-name="WorkEffortTypePeriod"/>
        <member-entity entity-alias="TP0" entity-name="CustomTimePeriod"/>
        <alias name="workEffortRootId" field="workEffortId" entity-alias="WS" prim-key="false"/>
        <alias name="workEffortTypeRootId" field="workEffortTypeId" entity-alias="WS"/>
        <alias name="workEffortId" entity-alias="WE"/>
        <alias name="organizationId" entity-alias="WE"/>
        <alias name="workEffortTypeId" entity-alias="WE"/>
        <alias name="orgUnitId" entity-alias="WE"/>
        <alias name="orgUnitRoleTypeId" entity-alias="WE"/>
        <alias name="rootEstimatedStartDate" field="estimatedStartDate" entity-alias="WS"/>
        <alias name="estimatedStartDate" entity-alias="WE"/>
        <alias name="rootEstimatedCompletionDate" field="estimatedCompletionDate" entity-alias="WS"/>
        <alias name="estimatedCompletionDate" entity-alias="WE"/>
        <alias name="workEffortTypePeriodId" entity-alias="WTP" prim-key="false"/>
        <alias name="customTimePeriodId" entity-alias="TP0" prim-key="false"/>
        <alias name="thruDate" entity-alias="TP0"/>
        <view-link entity-alias="WS" rel-entity-alias="WE">
            <key-map field-name="workEffortId" rel-field-name="workEffortParentId"/>
        </view-link>
        <view-link entity-alias="WS" rel-entity-alias="WTP" rel-optional="true">
            <key-map field-name="workEffortTypePeriodId"/>
        </view-link>
        <view-link entity-alias="WTP" rel-entity-alias="TP0" rel-optional="true">
            <key-map field-name="customTimePeriodId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortTransactionViewGantt" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="AT" entity-name="AcctgTrans"/>
        <member-entity entity-alias="TE" entity-name="AcctgTransEntry"/>
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="WM" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="GL" entity-name="GlAccount"/>
        <member-entity entity-alias="U" entity-name="Uom"/>
        <member-entity entity-alias="RSC" entity-name="WorkEffortMeasRatSc"/>
        <alias name="workEffortId" entity-alias="WE" prim-key="false"/>
        <alias name="workEffortMeasureId" entity-alias="WM" prim-key="false"/>
        <alias name="transactionDate" entity-alias="AT"/>
        <alias name="amount" entity-alias="TE"/>
        <alias name="acctgTransId" entity-alias="AT"/>
        <alias name="acctgTransEntrySeqId" entity-alias="TE"/>
        <alias name="isPosted" entity-alias="AT"/>
        <alias name="glFiscalTypeId" entity-alias="TE"/>
        <alias name="weTransComment" entity-alias="TE" field="description"/>
        <alias name="weTransCommentLang" entity-alias="TE" field="descriptionLang"/>
        <alias name="weTransComments" entity-alias="AT" field="description"/>
        <alias name="weTransCommentsLang" entity-alias="AT" field="descriptionLang"/>
        <alias name="defaultUomId" entity-alias="GL"></alias>
        <alias name="uomCode" entity-alias="RSC"/>
        <alias name="uomTypeId" entity-alias="U"/>
        <alias name="currencyUomId" entity-alias="TE" prim-key="false"/>
        <view-link entity-alias="WE" rel-entity-alias="WM">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WM" rel-entity-alias="GL">
            <key-map field-name="glAccountId"/>
            <entity-condition>
                <condition-expr field-name="glAccountId" entity-alias="WM" operator="like" value="SAL%"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WM" rel-entity-alias="TE" rel-optional="true">
            <key-map field-name="workEffortMeasureId" rel-field-name="voucherRef"/>
            <key-map field-name="glAccountId" rel-field-name="glAccountId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="glAccountId" entity-alias="TE" operator="not-equals" value="SCORE"/>
                    <condition-expr field-name="glAccountId" entity-alias="TE" operator="not-equals" value="SCOREKPI"/>
                    <condition-expr field-name="inputEnumId" entity-alias="GL" operator="equals" value="ACCINP_OBJ"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="TE" rel-entity-alias="AT" rel-optional="true">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="GL" rel-entity-alias="U" rel-optional="true">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <view-link entity-alias="WM" rel-entity-alias="RSC" rel-optional="true">
            <key-map field-name="workEffortMeasureId"/>
            <entity-condition>
                <condition-list>
                    <!-- <condition-expr field-name="currencyUomId" entity-alias="TE" rel-field-name="uomId" rel-entity-alias="RSC"/> -->
                    <condition-expr field-name="amount" entity-alias="TE" rel-field-name="uomRatingValue" rel-entity-alias="RSC"/>
                </condition-list>
            </entity-condition>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortMeasureProduct" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WM" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="PR" entity-name="Product"/>
        <alias name="glAccountId" entity-alias="WM"/>
        <alias name="internalName" entity-alias="PR"/>
        <alias name="productId" entity-alias="PR"/>
        <alias name="uomDescr" entity-alias="WM"/>
        <alias name="uomDescrLang" entity-alias="WM"/>
        <view-link entity-alias="WM" rel-entity-alias="PR">
            <key-map field-name="productId"/>
        </view-link>
        <entity-condition>
            <condition-expr field-name="workEffortId" entity-alias="WM" operator="equals" value="null"/>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortMeasureRoleAndParty" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WMR" entity-name="WorkEffortMeasureRole"/>
        <member-entity entity-alias="P" entity-name="Party"/>
        <member-entity entity-alias="RT" entity-name="RoleType"/>
        <member-entity entity-alias="PRT" entity-name="RoleType"/>
        <member-entity entity-alias="WM" entity-name="WorkEffortMeasure"/>
        <alias-all entity-alias="WMR"/>
        <alias name="partyName" entity-alias="P"/>
        <alias name="parentTypeId" entity-alias="RT"/>
        <alias name="description" entity-alias="PRT"/>
        <alias name="glAccountId" entity-alias="WM"/>
        <alias name="workEffortId" entity-alias="WM"/>
        <alias name="productId" entity-alias="WM"/>
        <view-link entity-alias="WM" rel-entity-alias="WMR">
            <key-map field-name="workEffortMeasureId"/>
        </view-link>
        <view-link entity-alias="WMR" rel-entity-alias="P">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link entity-alias="WMR" rel-entity-alias="RT">
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="RT" rel-entity-alias="PRT">
            <key-map field-name="parentTypeId" rel-field-name="roleTypeId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="IndicatorCountHome" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="T1" entity-name="WorkEffort"/>
        <member-entity entity-alias="T2" entity-name="WorkEffortAssoc"/>

        <alias name="count" field="workEffortId" entity-alias="T1" function="count" prim-key="false"/>
        <alias name="workEffortParentId" entity-alias="T1" group-by="true" prim-key="true"/>
        <alias name="workEffortTypeId" entity-alias="T1" group-by="true" prim-key="true"/>

        <view-link entity-alias="T1" rel-entity-alias="T2">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdFrom"/>
        </view-link>

        <entity-condition>
            <condition-list>
                <condition-expr field-name="workEffortAssocTypeId" entity-alias="T2" value="TEMPL" operator="not-equals"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="MeasureCountHome" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="T1" entity-name="WorkEffort"/>
        <member-entity entity-alias="T2" entity-name="WorkEffortMeasure"/>

        <alias name="count" field="workEffortId" entity-alias="T1" function="count" prim-key="false"/>
        <alias name="workEffortParentId" entity-alias="T1" group-by="true" prim-key="true"/>
        <alias name="workEffortTypeId" entity-alias="T1" group-by="true" prim-key="true"/>

        <view-link entity-alias="T1" rel-entity-alias="T2">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </view-link>

        <entity-condition>
            <condition-list>
                <condition-expr field-name="weMeasureTypeEnumId" entity-alias="T2" value="WEMT_SCORE" operator="not-equals"/>
                <condition-expr field-name="kpiScoreWeight" entity-alias="T2" value="0" operator="greater"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortForBudgetView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="ROOT" entity-name="WorkEffort"/>
        <member-entity entity-alias="WA" entity-name="WorkEffortAssoc"/>
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="WTC" entity-name="WorkEffortTypeContent"/>
        <alias-all entity-alias="W" group-by="true"/>
        <alias name="rootTypeId" field="workEffortTypeId" entity-alias="ROOT" group-by="true"/>
        <view-link entity-alias="ROOT" rel-entity-alias="WA">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdFrom"/>
            <entity-condition>
                <condition-expr field-name="workEffortAssocTypeId" entity-alias="WA" value="ROOT"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WA" rel-entity-alias="W">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="W" rel-entity-alias="WTC">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list combine="or">
                    <condition-expr field-name="contentId" entity-alias="WTC" value="WEFLD_MFIN"/>
                    <condition-expr field-name="contentId" entity-alias="WTC" value="WEFLD_AFIN"/>
                </condition-list>
            </entity-condition>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortTypeAttrAndNoteData" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="W" entity-name="WorkEffortTypeAttr"/>
        <member-entity entity-alias="N" entity-name="NoteData"/>
        <alias-all entity-alias="W"/>
        <alias-all entity-alias="N"/>
        <view-link entity-alias="W" rel-entity-alias="N">
            <key-map field-name="noteId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortMeasureAndRole" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="M" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="MR" entity-name="WorkEffortMeasureRole"/>
        <alias name="workEffortMeasureId" entity-alias="M"/>
        <alias name="glAccountId" entity-alias="M"/>
        <alias name="roleTypeId" entity-alias="MR"/>
        <alias name="partyId" entity-alias="MR"/>
        <view-link entity-alias="M" rel-entity-alias="MR">
            <key-map field-name="workEffortMeasureId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortAndTypeView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WD" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>

        <alias name="etch" entity-alias="WD"/>
        <alias name="workEffortName" entity-alias="WD"/>
        <alias name="workEffortId" entity-alias="WD"/>
        <alias name="workEffortParentId" entity-alias="WD"/>
        <alias name="sourceReferenceId" entity-alias="WD"/>
        <alias name="estimatedStartDate" entity-alias="WD"/>
        <alias name="estimatedCompletionDate" entity-alias="WD"/>
        <alias name="workEffortTypeId" entity-alias="WD" prim-key="false"/>
        <alias name="description" entity-alias="WT"/>
        <alias name="periodTypeId" entity-alias="WT"/>
        <alias name="parentTypeId" entity-alias="WT"/>
        <alias name="isRoot" entity-alias="WT"/>
        <alias name="hasPersonFilter" entity-alias="WT"/>
        <alias name="workEffortAssocTypeId" entity-alias="WT"/>
        <alias name="childTemplateId" entity-alias="WT"/>

        <view-link entity-alias="WD" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>

        <relation rel-entity-name="WorkEffortType" type="one">
            <key-map field-name="workEffortTypeId"/>
        </relation>
    </view-entity>



    <view-entity entity-name="CustomTimePeriodPrintView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="C" entity-name="CustomTimePeriod"/>
        <member-entity entity-alias="WD" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <member-entity entity-alias="T" entity-name="AcctgTrans"/>

        <alias-all entity-alias="C" group-by="true"/>
        <alias name="workEffortId" entity-alias="WD" group-by="true"/>
        <alias name="estimatedStartDate" entity-alias="WD" group-by="true"/>
        <alias name="estimatedCompletionDate" entity-alias="WD" group-by="true"/>
        <alias name="workEffortTypeId" entity-alias="WT" group-by="true"/>
        <alias name="maxAcctgTransId" field="acctgTransId" entity-alias="T" function="max"/>

        <view-link entity-alias="C" rel-entity-alias="WT">
            <key-map field-name="periodTypeId"/>
        </view-link>
        <view-link entity-alias="WT" rel-entity-alias="WD">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="T" rel-optional="true">
            <key-map field-name="thruDate" rel-field-name="transactionDate"/>
        </view-link>
        <relation rel-entity-name="WorkEffortAndTypeView" type="one-nofk">
            <key-map field-name="periodTypeId"/>
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="fromDate" entity-alias="C" operator="greater-equals" rel-field-name="estimatedStartDate" rel-entity-alias="WD"/>
                <condition-expr field-name="thruDate" entity-alias="C" operator="less-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="WD"/>
            </condition-list>
        </entity-condition>
    </view-entity>

	<view-entity entity-name="WorkEffortTypeContentAndContentView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="W1" entity-name="WorkEffortTypeContent"/>
        <member-entity entity-alias="CP" entity-name="Content"/>
        <member-entity entity-alias="CA" entity-name="ContentAssoc"/>
        <member-entity entity-alias="CX" entity-name="Content"/>

        <alias name="workEffortId" entity-alias="W"/>
        <alias name="estimatedCompletionDate" entity-alias="W"/>
        <alias name="etch" entity-alias="W1"/>
        <alias name="weTypeContentTypeId" entity-alias="W1"/>
        <alias name="workEffortTypeId" entity-alias="W1" prim-key="false"/>
        <alias name="sequenceNum" entity-alias="W1"/>

        <alias field="contentId" name="pdfContentId" entity-alias="CP"/>
        <alias field="mimeTypeId" name="pdfMimeTypeId" entity-alias="CP"/>

        <alias field="contentId" name="xlsContentId" entity-alias="CX" prim-key="false"/>
        <alias field="mimeTypeId" name="xlcMimeTypeId" entity-alias="CX"/>

        <view-link entity-alias="W" rel-entity-alias="W1">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="W1" rel-entity-alias="CP">
            <key-map field-name="contentId"/>
            <entity-condition>
                <condition-expr field-name="mimeTypeId" entity-alias="CP" operator="equals" value="text/plain"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="CP" rel-entity-alias="CA" rel-optional="true">
            <key-map field-name="contentId"/>
        </view-link>
        <view-link entity-alias="CA" rel-entity-alias="CX" rel-optional="true">
            <key-map field-name="contentIdTo" rel-field-name="contentId"/>
        </view-link>
        <relation rel-entity-name="CustomTimePeriodPrintView" type="many">
            <key-map field-name="workEffortTypeId"/>
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
        	<condition-expr field-name="weTypeContentTypeId" entity-alias="W1" operator="equals" value="REPORT"/>
        </entity-condition>
    </view-entity>
    <view-entity entity-name="WorkEffortMeasureAndGlAccountView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="M" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="G" entity-name="GlAccount"/>

        <alias name="workEffortMeasureId" entity-alias="M" prim-key="true"/>
        <alias name="glAccountId" entity-alias="G" prim-key="false"/>
        <alias name="accountCode" entity-alias="G"/>
        <alias name="accountName" entity-alias="G"/>
        <alias name="inputEnumId" entity-alias="G"/>

        <view-link entity-alias="M" rel-entity-alias="G">
            <key-map field-name="glAccountId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortNoteAndDataReportView" package-name="org.ofbiz.workeffort.workeffort" never-cache="true">
        <member-entity entity-alias="N" entity-name="NoteData"/>
        <member-entity entity-alias="W" entity-name="WorkEffortNote"/>

        <alias name="noteId" entity-alias="N"/>
        <alias name="noteName" entity-alias="N"/>
        <alias name="noteInfo" entity-alias="N"/>
        <alias name="noteDateTime" entity-alias="N"/>
        <alias name="workEffortId" entity-alias="W"/>

        <view-link entity-alias="N" rel-entity-alias="W">
            <key-map field-name="noteId"/>
        </view-link>

        <relation rel-entity-name="WorkEffortTypeContentAndContentView" type="one-nofk">
            <key-map field-name="noteName" rel-field-name="pdfContentId"/>
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </relation>
    </view-entity>

    <view-entity entity-name="WorkEffortStatusAndItemView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WS" entity-name="WorkEffortStatus"/>
        <member-entity entity-alias="SI" entity-name="StatusItem"/>
        <alias-all entity-alias="WS"/>
        <alias-all entity-alias="SI"/>
        <view-link entity-alias="WS" rel-entity-alias="SI">
            <key-map field-name="statusId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="ExportTransactionMeasureView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="WPA" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="WM" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <member-entity entity-alias="U" entity-name="Uom"/>
        <alias-all entity-alias="G"/>
        <alias name="workEffortPurposeTypeId" entity-alias="WPA"/>
        <alias name="workEffortMeasureId" entity-alias="WM"/>
        <alias name="uomDescr" entity-alias="WM"/>
        <alias name="wmDataSourceId" field="dataSourceId" entity-alias="WM"/>
		<alias name="measureFromDate" field="fromDate" entity-alias="WM"/>
        <alias name="measureThruDate" field="thruDate" entity-alias="WM"/>
        <alias name="workEffortId" entity-alias="W"/>
        <alias name="sourceReferenceId" entity-alias="W"/>
        <alias name="workEffortName" entity-alias="W"/>
        <alias name="workEffortSnapshotId" entity-alias="W"/>
        <alias name="orgUnitId" entity-alias="W"/>
        <alias name="orgUnitRoleTypeId" entity-alias="W"/>
        <alias name="workEffortTypeId" entity-alias="WT"/>
        <alias name="uomTypeId" entity-alias="U"/>
        <view-link entity-alias="G" rel-entity-alias="WPA">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="WM">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="WM" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="W" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="U">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>
        <entity-condition>
            <condition-expr field-name="glAccountId" entity-alias="WM" operator="not-equals" value="SCORE"/>
        </entity-condition>
    </view-entity>
    <view-entity entity-name="WorkEffortMeasureScoreKpi" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="AcctgTransEntry" entity-alias="D"/>
        <member-entity entity-name="AcctgTrans" entity-alias="T"/>
        <member-entity entity-name="WorkEffortMeasure" entity-alias="M"/>
        <member-entity entity-name="WorkEffort" entity-alias="W"/>
        <member-entity entity-name="GlAccount" entity-alias="GTR"/>
        <member-entity entity-name="GlAccount" entity-alias="GM"/>
        <member-entity entity-name="GlAccountTypeGlFiscalType" entity-alias="FT"/>
        <alias name="acctgTransEntrySeqId" entity-alias="D"></alias>
        <alias name="acctgTransId" entity-alias="T"></alias>
        <alias name="weTransComment" field="description" entity-alias="D"></alias>
        <alias name="weTransComments" field="description" entity-alias="T"></alias>
        <alias name="transactionDate" entity-alias="T"></alias>
        <alias name="glFiscalTypeId" entity-alias="T"></alias>
        <alias name="workEffortId" entity-alias="W"></alias>
        <alias name="workEffortTypeId" entity-alias="W"/>
        <alias name="workEffortMeasureId" entity-alias="M"/>
        <alias name="kpiScoreWeight" entity-alias="M"/>
        <alias name="fromDate" entity-alias="M"/>
        <alias name="amountLocked" entity-alias="D"/>
        <alias name="amount" entity-alias="D"/>
        <alias name="origAmount" entity-alias="D"/>
        <alias name="isPosted" entity-alias="T"></alias>
        <alias name="hasScoreAlert" entity-alias="D"/>
        <alias name="accGlFiscalTypeId" field="glFiscalTypeId" entity-alias="FT"></alias>
        <alias name="trGlAccountId" field="glAccountId" entity-alias="GTR"/>
        <alias name="trAccountCode" field="accountCode" entity-alias="GTR"/>
        <alias name="trAccountName" field="accountName" entity-alias="GTR"/>
        <alias name="trDefaultUomId" field="defaultUomId" entity-alias="GTR"/>
        <alias name="mAccountId" field="glAccountId" entity-alias="GM"/>
        <alias name="mAccountCode" field="accountCode" entity-alias="GM"/>
        <alias name="mAccountName" field="accountName" entity-alias="GM"/>
        <view-link entity-alias="D" rel-entity-alias="T">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="T" rel-entity-alias="M">
            <key-map field-name="voucherRef" rel-field-name="workEffortMeasureId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-expr field-name="weMeasureTypeEnumId" entity-alias="M" value="WEMT_PERF"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="GM">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="GM" rel-entity-alias="FT">
            <key-map field-name="glAccountTypeId"/>
        </view-link>
        <view-link entity-alias="D" rel-entity-alias="GTR">
            <key-map field-name="glAccountId"/>
        </view-link>
        <entity-condition>
            <condition-expr field-name="glAccountId" entity-alias="D" value="SCOREKPI"/>
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortMeasureScoreKpiScoreAndOther" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="AcctgTransEntry" entity-alias="D"/>
        <member-entity entity-name="AcctgTrans" entity-alias="T"/>
        <member-entity entity-name="WorkEffortMeasure" entity-alias="M"/>
        <member-entity entity-name="WorkEffort" entity-alias="W"/>
        <member-entity entity-name="GlAccount" entity-alias="GTR"/>
        <member-entity entity-name="GlAccount" entity-alias="GM"/>
        <member-entity entity-name="GlAccountTypeGlFiscalType" entity-alias="FT"/>
        <alias name="acctgTransEntrySeqId" entity-alias="D"></alias>
        <alias name="acctgTransId" entity-alias="T"></alias>
        <alias name="weTransComment" field="description" entity-alias="D"></alias>
        <alias name="weTransComments" field="description" entity-alias="T"></alias>
        <alias name="transactionDate" entity-alias="T"></alias>
        <alias name="glFiscalTypeId" entity-alias="T"></alias>
        <alias name="workEffortId" entity-alias="W"></alias>
        <alias name="workEffortTypeId" entity-alias="W"/>
        <alias name="workEffortParentId" entity-alias="W"/>
        <alias name="workEffortMeasureId" entity-alias="M"/>
        <alias name="kpiScoreWeight" entity-alias="M"/>
        <alias name="kpiOtherWeight" entity-alias="M"/>
        <alias name="fromDate" entity-alias="M"/>
        <alias name="thruDate" entity-alias="M"/>
        <alias name="weMeasureTypeEnumId" entity-alias="M"/>
        <alias name="amountLocked" entity-alias="D"/>
        <alias name="amount" entity-alias="D"/>
        <alias name="origAmount" entity-alias="D"/>
        <alias name="isPosted" entity-alias="T"></alias>
        <alias name="hasScoreAlert" entity-alias="D"/>
        <alias name="accGlFiscalTypeId" field="glFiscalTypeId" entity-alias="FT"></alias>
        <alias name="trGlAccountId" field="glAccountId" entity-alias="GTR"/>
        <alias name="trAccountCode" field="accountCode" entity-alias="GTR"/>
        <alias name="trAccountName" field="accountName" entity-alias="GTR"/>
        <alias name="trDefaultUomId" field="defaultUomId" entity-alias="GTR"/>
        <alias name="mAccountId" field="glAccountId" entity-alias="GM"/>
        <alias name="mAccountCode" field="accountCode" entity-alias="GM"/>
        <alias name="mAccountName" field="accountName" entity-alias="GM"/>
        <view-link entity-alias="D" rel-entity-alias="T">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="T" rel-entity-alias="M">
            <key-map field-name="voucherRef" rel-field-name="workEffortMeasureId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="GM">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="GM" rel-entity-alias="FT">
            <key-map field-name="glAccountTypeId"/>
        </view-link>
        <view-link entity-alias="D" rel-entity-alias="GTR">
            <key-map field-name="glAccountId"/>
        </view-link>
        <entity-condition>
            <condition-expr field-name="glAccountId" entity-alias="D" value="SCOREKPI"/>
        </entity-condition>
    </view-entity>
       
    <view-entity entity-name="WorkEffortMeasureScoreKpiAndOpenPeriod" package-name="org.ofbiz.workeffort.workeffort">
    	<!-- <member-entity entity-alias="A" entity-name="WorkEffortMeasureScoreKpiScoreAndOther"/> -->
    	<member-entity entity-alias="B" entity-name="WorkEffort"/>
    	<member-entity entity-alias="C" entity-name="WorkEffortTypePeriod"/>
    	<member-entity entity-alias="D" entity-name="CustomTimePeriod"/>
    	<member-entity entity-name="AcctgTransEntry" entity-alias="E"/>
        <member-entity entity-name="AcctgTrans" entity-alias="T"/>
        <member-entity entity-name="WorkEffortMeasure" entity-alias="M"/>
        <member-entity entity-name="WorkEffort" entity-alias="W"/>
        <member-entity entity-name="GlAccount" entity-alias="GTR"/>
        <member-entity entity-name="GlAccount" entity-alias="GM"/>
        <member-entity entity-name="GlAccountTypeGlFiscalType" entity-alias="FT"/>
        <alias name="acctgTransEntrySeqId" entity-alias="E"></alias>
        <alias name="acctgTransId" entity-alias="T"></alias>
        <alias name="weTransComment" field="description" entity-alias="E"></alias>
        <alias name="weTransComments" field="description" entity-alias="T"></alias>
        <alias name="transactionDate" entity-alias="T"></alias>
        <alias name="glFiscalTypeId" entity-alias="T"></alias>
        <alias name="workEffortId" entity-alias="W"></alias>
        <alias name="workEffortTypeId" entity-alias="W"/>
        <alias name="workEffortParentId" entity-alias="W"/>
        <alias name="workEffortMeasureId" entity-alias="M"/>
        <alias name="kpiScoreWeight" entity-alias="M"/>
        <alias name="kpiOtherWeight" entity-alias="M"/>
        <alias name="fromDate" entity-alias="M"/>
        <alias name="thruDate" entity-alias="M"/>
        <alias name="weMeasureTypeEnumId" entity-alias="M"/>
        <alias name="amountLocked" entity-alias="E"/>
        <alias name="amount" entity-alias="E"/>
        <alias name="origAmount" entity-alias="E"/>
        <alias name="isPosted" entity-alias="T"></alias>
        <alias name="hasScoreAlert" entity-alias="E"/>
        <alias name="accGlFiscalTypeId" field="glFiscalTypeId" entity-alias="FT"></alias>
        <alias name="trGlAccountId" field="glAccountId" entity-alias="GTR"/>
        <alias name="trAccountCode" field="accountCode" entity-alias="GTR"/>
        <alias name="trAccountName" field="accountName" entity-alias="GTR"/>
        <alias name="trDefaultUomId" field="defaultUomId" entity-alias="GTR"/>
        <alias name="mAccountId" field="glAccountId" entity-alias="GM"/>
        <alias name="mAccountCode" field="accountCode" entity-alias="GM"/>
        <alias name="mAccountName" field="accountName" entity-alias="GM"/>
        <view-link entity-alias="C" rel-entity-alias="D">
            <key-map field-name="customTimePeriodId"/>
        </view-link>    
        <view-link entity-alias="C" rel-entity-alias="B">
            <key-map field-name="workEffortTypePeriodId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="W">
    		<key-map field-name="workEffortId" rel-field-name="workEffortParentId"/>
    	</view-link>
    	<view-link entity-alias="W" rel-entity-alias="M">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="GM">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="GM" rel-entity-alias="FT">
            <key-map field-name="glAccountTypeId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="T">
            <key-map field-name="workEffortMeasureId" rel-field-name="voucherRef"/>
        </view-link>
        <view-link entity-alias="T" rel-entity-alias="E">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="E" rel-entity-alias="GTR">
            <key-map field-name="glAccountId"/>
        </view-link>
        <entity-condition>
            <condition-list combine="and">
    			<condition-expr field-name="glAccountId" entity-alias="E" value="SCOREKPI"/>
        		<condition-expr field-name="fromDate" entity-alias="M" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="D"/>
    			<condition-expr field-name="thruDate" entity-alias="M" operator="greater-equals" rel-field-name="fromDate" rel-entity-alias="D"/>
    		</condition-list>
    	</entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortMeasureScoreKpiAndOpenPeriodWithParent" package-name="org.ofbiz.workeffort.workeffort">
    	<!-- <member-entity entity-alias="A" entity-name="WorkEffortMeasureScoreKpiScoreAndOther"/> -->
    	<member-entity entity-alias="B" entity-name="WorkEffort"/>
    	<member-entity entity-alias="C" entity-name="WorkEffortTypePeriod"/>
    	<member-entity entity-alias="D" entity-name="CustomTimePeriod"/>
    	<member-entity entity-alias="E" entity-name="CustomTimePeriod"/>
    	    	<member-entity entity-name="AcctgTransEntry" entity-alias="E"/>
        <member-entity entity-name="AcctgTrans" entity-alias="T"/>
        <member-entity entity-name="WorkEffortMeasure" entity-alias="M"/>
        <member-entity entity-name="WorkEffort" entity-alias="W"/>
        <member-entity entity-name="GlAccount" entity-alias="GTR"/>
        <member-entity entity-name="GlAccount" entity-alias="GM"/>
        <member-entity entity-name="GlAccountTypeGlFiscalType" entity-alias="FT"/>
        <alias name="acctgTransEntrySeqId" entity-alias="E"></alias>
        <alias name="acctgTransId" entity-alias="T"></alias>
        <alias name="weTransComment" field="description" entity-alias="E"></alias>
        <alias name="weTransComments" field="description" entity-alias="T"></alias>
        <alias name="transactionDate" entity-alias="T"></alias>
        <alias name="glFiscalTypeId" entity-alias="T"></alias>
        <alias name="workEffortId" entity-alias="W"></alias>
        <alias name="workEffortTypeId" entity-alias="W"/>
        <alias name="workEffortParentId" entity-alias="W"/>
        <alias name="workEffortMeasureId" entity-alias="M"/>
        <alias name="kpiScoreWeight" entity-alias="M"/>
        <alias name="kpiOtherWeight" entity-alias="M"/>
        <alias name="fromDate" entity-alias="M"/>
        <alias name="thruDate" entity-alias="M"/>
        <alias name="weMeasureTypeEnumId" entity-alias="M"/>
        <alias name="amountLocked" entity-alias="E"/>
        <alias name="amount" entity-alias="E"/>
        <alias name="origAmount" entity-alias="E"/>
        <alias name="isPosted" entity-alias="T"></alias>
        <alias name="hasScoreAlert" entity-alias="E"/>
        <alias name="accGlFiscalTypeId" field="glFiscalTypeId" entity-alias="FT"></alias>
        <alias name="trGlAccountId" field="glAccountId" entity-alias="GTR"/>
        <alias name="trAccountCode" field="accountCode" entity-alias="GTR"/>
        <alias name="trAccountName" field="accountName" entity-alias="GTR"/>
        <alias name="trDefaultUomId" field="defaultUomId" entity-alias="GTR"/>
        <alias name="mAccountId" field="glAccountId" entity-alias="GM"/>
        <alias name="mAccountCode" field="accountCode" entity-alias="GM"/>
        <alias name="mAccountName" field="accountName" entity-alias="GM"/>
        <view-link entity-alias="C" rel-entity-alias="D">
            <key-map field-name="customTimePeriodId"/>
        </view-link>    
        <view-link entity-alias="C" rel-entity-alias="B">
            <key-map field-name="workEffortTypePeriodId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="W">
    		<key-map field-name="workEffortId" rel-field-name="workEffortParentId"/>
    	</view-link>
    	<view-link entity-alias="W" rel-entity-alias="M">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="GM">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="GM" rel-entity-alias="FT">
            <key-map field-name="glAccountTypeId"/>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="T">
            <key-map field-name="workEffortMeasureId" rel-field-name="voucherRef"/>
        </view-link>
        <view-link entity-alias="T" rel-entity-alias="E">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link entity-alias="E" rel-entity-alias="GTR">
            <key-map field-name="glAccountId"/>
        </view-link>
        <entity-condition>
    		<condition-list combine="and">
    			<condition-expr field-name="glAccountId" entity-alias="E" value="SCOREKPI"/>
        		<condition-expr field-name="fromDate" entity-alias="A" operator="less-equals" rel-field-name="thruDate" rel-entity-alias="E"/>
    			<condition-expr field-name="thruDate" entity-alias="A" operator="greater-equals" rel-field-name="fromDate" rel-entity-alias="E"/>
    		</condition-list>
    	</entity-condition>
    </view-entity>
            
    <view-entity entity-name="UserLoginSecurityGroupPermissioneView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="G" entity-name="UserLoginSecurityGroup"/>
        <member-entity entity-alias="P" entity-name="SecurityGroupPermission"/>
        <alias-all entity-alias="G"/>
        <alias-all entity-alias="P"/>
        <view-link rel-entity-alias="G" entity-alias="P">
            <key-map field-name="groupId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortAssocAndTypeView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WA" entity-name="WorkEffortAssoc"/>
        <member-entity entity-alias="WAT" entity-name="WorkEffortAssocType"/>
        <alias-all entity-alias="WA"/>
        <alias name="parentTypeId" entity-alias="WAT"/>
        <view-link entity-alias="WA" rel-entity-alias="WAT">
            <key-map field-name="workEffortAssocTypeId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortMeasureScore" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="E" entity-name="AcctgTransEntry"/>
        <member-entity entity-alias="T" entity-name="AcctgTrans"/>
        <member-entity entity-alias="M" entity-name="WorkEffortMeasure"/>
        <member-entity entity-name="WorkEffort" entity-alias="W"/>
        <alias entity-alias="M" name="workEffortId"/>
        <alias entity-alias="M" name="workEffortMeasureId"/>
        <alias entity-alias="T" name="transactionDate"/>
        <alias entity-alias="T" name="glFiscalTypeId"/>
        <alias entity-alias="E" name="amount"/>
        <alias entity-alias="E" name="amountLocked"/>
        <alias entity-alias="E" name="hasScoreAlert"/>
        <alias entity-alias="E" name="acctgTransId"/>
        <alias entity-alias="E" name="acctgTransEntrySeqId"/>
        <alias entity-alias="E" name="organizationPartyId"/>
        <alias name="workEffortTypeId" entity-alias="W"/>
        <view-link rel-entity-alias="T" entity-alias="E">
            <key-map field-name="acctgTransId"/>
        </view-link>
        <view-link rel-entity-alias="M" entity-alias="T">
            <key-map field-name="voucherRef" rel-field-name="workEffortMeasureId"/>
            <entity-condition>
                <condition-expr field-name="glAccountId" entity-alias="E" rel-field-name="glAccountId" rel-entity-alias="M"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="M" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
        </view-link>
        <entity-condition>
            <condition-list>
                <condition-expr entity-alias="M" field-name="weMeasureTypeEnumId" value="WEMT_SCORE"/>
                <condition-expr entity-alias="E" field-name="glAccountId" value="SCORE"/>
            </condition-list>
        </entity-condition>
    </view-entity>

    <view-entity entity-name="WorkEffortTypeParent" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WTP" entity-name="WorkEffortType"/>
        <alias name="workEffortTypeId" entity-alias="WT"/>
        <alias name="workEffortTypeParentId" field="workEffortTypeId" entity-alias="WTP"/>
        <view-link entity-alias="WT" rel-entity-alias="WTP">
            <key-map field-name="parentTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortTypeContentAndContentType" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WT" entity-name="WorkEffortTypeContent"/>
        <member-entity entity-alias="C" entity-name="ContentType"/>
        <alias-all entity-alias="WT"/>
        <alias-all entity-alias="C"/>
        <view-link entity-alias="WT" rel-entity-alias="C">
            <key-map field-name="weTypeContentTypeId" rel-field-name="contentTypeId"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="WorkEffortTypeAndContent" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WT" entity-name="WorkEffortTypeContent"/>
        <member-entity entity-alias="C" entity-name="Content"/>
        <alias-all entity-alias="WT"/>
        <alias-all entity-alias="C">
            <exclude field="contentId"/>
        </alias-all>
        <view-link entity-alias="WT" rel-entity-alias="C">
            <key-map field-name="contentId"/>
        </view-link>
    </view-entity>

	<!-- vista utilizzata solo nel contesto CTX_EP per recuperare le unita organizzative -->
    <view-entity entity-name="OrganizationUnitUserLogin" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="PartyRelationship" entity-alias="E"/>
        <member-entity entity-name="PartyRelationship" entity-alias="E2"/>
        <member-entity entity-name="Party" entity-alias="P"/>
        <member-entity entity-name="PartyParentRole" entity-alias="PP"/>

        <alias entity-alias="E" field="partyIdFrom" name="orgUnitId" group-by="true"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" prim-key="false" group-by="true"/>
        <alias entity-alias="P" name="partyName" group-by="true"/>
        <alias entity-alias="PP" name="parentRoleCode" group-by="true"/>

        <view-link entity-alias="U" rel-entity-alias="E">
            <key-map field-name="ulPartyId" rel-field-name="partyIdTo"/>
            <entity-condition>
                <condition-list>
                	<condition-list combine="or">
	                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_RESPONSIBLE"/>
	                	<condition-list>
	                    	<condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="equals" value="ORG_DELEGATE"/>
	                    	<condition-list combine="or">
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" operator="equals" value="CTX_EP"/>
	                    		<condition-expr field-name="ctxEnabled" entity-alias="E" value="null"/>
	                		</condition-list>
	                    </condition-list>
                	</condition-list>
                    <condition-expr field-name="thruDate" entity-alias="E" value="null"/>
                    <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
                </condition-list>
            </entity-condition>
        </view-link>

        <view-link entity-alias="E" rel-entity-alias="E2">
            <key-map field-name="partyIdFrom" rel-field-name="partyIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="partyRelationshipTypeId" entity-alias="E2" operator="in" value="ORG_ALLOCATION,ORG_EMPLOYMENT"/>
                    <condition-expr field-name="thruDate" entity-alias="E2" value="null"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="E" rel-entity-alias="P">
            <key-map field-name="partyIdFrom" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="P" rel-entity-alias="PP" rel-optional="true">
        	<key-map field-name="partyId"/>
        	<entity-condition>
        		<condition-list>
        			<condition-expr field-name="roleTypeId" entity-alias="PP" value="ORGANIZATION_UNIT"/>
        		</condition-list>
        	</entity-condition>
        </view-link>        

    </view-entity>

    <view-entity entity-name="WorkEffortPartyAssignSnapshotView" package-name="org.ofbiz.workeffort.workeffort" title="Work Effort And Party Assignment and PartyNameView">
        <description>Ties WEPA to the party info.</description>
        <member-entity entity-alias="WEPA" entity-name="WorkEffortPartyAssignment"/>
        <member-entity entity-alias="PNV" entity-name="PartyNameView"/>
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <alias-all entity-alias="PNV"/>
        <alias-all entity-alias="WEPA">
            <exclude field="statusId"/>
        </alias-all>
        <alias name="assignmentStatusId" entity-alias="WEPA" field="statusId"/>
        <alias entity-alias="WE" name="workEffortSnapshotId"/>
        <view-link entity-alias="WEPA" rel-entity-alias="PNV">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link entity-alias="WEPA" rel-entity-alias="WE">
            <key-map field-name="workEffortId"/>
        </view-link>
        <relation type="one-nofk" rel-entity-name="WorkEffort">
            <key-map field-name="workEffortId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="WorkEffortPartyAssignment">
            <key-map field-name="workEffortId"/>
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId"/>
            <key-map field-name="fromDate"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="PartyNameView">
            <key-map field-name="partyId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="Person">
            <key-map field-name="partyId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="PartyRole">
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="RoleType">
            <key-map field-name="roleTypeId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="StatusItem">
            <key-map field-name="statusId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="StatusItem" title="Assignment">
            <key-map field-name="assignmentStatusId" rel-field-name="statusId"/>
        </relation>
        <relation type="one-nofk" title="Expectation" rel-entity-name="Enumeration">
            <key-map field-name="expectationEnumId" rel-field-name="enumId"/>
        </relation>
        <relation type="one-nofk" title="DelegateReason" rel-entity-name="Enumeration">
            <key-map field-name="delegateReasonEnumId" rel-field-name="enumId"/>
        </relation>
    </view-entity>

    <view-entity entity-name="WorkEffortTypeAndRoleTypeView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffortType"/>
        <member-entity entity-alias="B" entity-name="RoleType"/>
        <alias name="workEffortTypeId" entity-alias="A" prim-key="true"/>
        <alias name="roleTypeId" entity-alias="B" prim-key="false"/>
        <alias name="description" entity-alias="B"/>
        <alias name="descriptionLang" entity-alias="B"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeId"/>
        </view-link>
    </view-entity>

	<view-entity entity-name="WorkEffortWithTypeAndStatusView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="ST" entity-name="StatusItem"/>
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>

        <alias-all entity-alias="ST"/>
        <alias name="organizationId" entity-alias="WE"/>
        <alias name="parentTypeId" entity-alias="WT" field="parentTypeId"/>
        <alias name="isRoot" entity-alias="WT" field="isRoot"/>
		<alias name="gpMenuEnumId" entity-alias="WT"/>
        <view-link entity-alias="ST" rel-entity-alias="WE">
            <key-map field-name="statusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>

        <entity-condition>
        	<condition-list>
            	<condition-expr field-name="actStEnumId" entity-alias="ST" operator="in" value="ACTSTATUS_PENDING,ACTSTATUS_ACTIVE"/>
            	<condition-expr field-name="workEffortRevisionId" entity-alias="WE" value="null"/>
            </condition-list>
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortWithTypeAndAllStatusView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="ST" entity-name="StatusItem"/>
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>

        <alias-all entity-alias="ST"/>
        <alias name="parentTypeId" entity-alias="WT" field="parentTypeId"/>
        <alias name="isRoot" entity-alias="WT" field="isRoot"/>
        <alias name="isTemplate" entity-alias="WT" field="isTemplate"/>

        <view-link entity-alias="ST" rel-entity-alias="WE">
            <key-map field-name="statusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        
        <entity-condition>
           	<condition-expr field-name="workEffortRevisionId" entity-alias="WE" value="null"/>
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortWithTypeAndAllStatusHistoricView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="ST" entity-name="StatusItem"/>
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>

        <alias-all entity-alias="ST"/>
        <alias name="parentTypeId" entity-alias="WT" field="parentTypeId"/>
        <alias name="isRoot" entity-alias="WT" field="isRoot"/>

        <view-link entity-alias="ST" rel-entity-alias="WE">
            <key-map field-name="statusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        
        <entity-condition>
           	<condition-expr field-name="workEffortRevisionId" entity-alias="WE" operator="not-equals" value="null"/>
        </entity-condition>
    </view-entity>
        
    <view-entity entity-name="WorkEffortWithTypeView" package-name="org.ofbiz.workeffort.workeffort">
    	<member-entity entity-alias="ST" entity-name="StatusItem"/>
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <alias-all entity-alias="WT"/>
        <alias name="organizationId" entity-alias="WE"/>
        <alias name="statusId" entity-alias="ST"/>
        <view-link entity-alias="ST" rel-entity-alias="WE">
            <key-map field-name="statusId" rel-field-name="currentStatusId"/>
        </view-link>        
        <view-link entity-alias="WE" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>      
        <entity-condition>
           	<condition-expr field-name="workEffortRevisionId" entity-alias="WE" value="null"/>
        </entity-condition>
    </view-entity>    

    <view-entity entity-name="WorkEffortWithTypeHistoricView" package-name="org.ofbiz.workeffort.workeffort">
    	<member-entity entity-alias="ST" entity-name="StatusItem"/>
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <alias-all entity-alias="WT"/>
        <alias name="statusId" entity-alias="ST"/>
        <view-link entity-alias="ST" rel-entity-alias="WE">
            <key-map field-name="statusId" rel-field-name="currentStatusId"/>
        </view-link>        
        <view-link entity-alias="WE" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>      
        <entity-condition>
           	<condition-expr field-name="workEffortRevisionId" entity-alias="WE" operator="not-equals" value="null"/>
        </entity-condition>
    </view-entity>   

    <view-entity entity-name="StatusItemAndValidChangeStatusTo" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="SI" entity-name="StatusItem"/>
        <member-entity entity-alias="SV" entity-name="StatusValidChange"/>

        <alias-all entity-alias="SV"/>
        <alias name="sequenceId" entity-alias="SI"/>
        <alias name="actStEnumId" entity-alias="SI"/>
        <alias name="description" entity-alias="SI"/>

        <view-link entity-alias="SI" rel-entity-alias="SV">
            <key-map field-name="statusId" rel-field-name="statusIdTo"/>
        </view-link>
    </view-entity>

    <view-entity entity-name="EmplPerfRootView" package-name="org.ofbiz.workeffort.workeffort" title="Work Effort And Party Assignment By Role Entity">
        <description>Also includes PartyRole Link so that if a partyId is specified it will find all PartyAssignments for all roles a party is in; does not link on the partyId of the PartyAssignment</description>
        <member-entity entity-alias="WE" entity-name="WorkEffort"/>
        <member-entity entity-alias="TEMPL" entity-name="WorkEffortAssoc"/>
        <member-entity entity-alias="WEPA" entity-name="WorkEffortPartyAssignment"/>
        <member-entity entity-alias="VAL" entity-name="WorkEffortPartyAssignment"/>
        <member-entity entity-alias="APP" entity-name="WorkEffortPartyAssignment"/>
        <member-entity entity-alias="PR" entity-name="PartyRole"/>
        <member-entity entity-alias="T" entity-name="WorkEffortType"/>
        
        <alias entity-alias="WE" name="workEffortId"/>
        <alias entity-alias="WE" name="workEffortParentId"/>
        <alias entity-alias="WE" name="workEffortSnapshotId"/>
        <alias entity-alias="WE" name="workEffortRevisionId"/>
        <alias entity-alias="WE" name="estimatedStartDate"/>
        <alias entity-alias="WE" name="estimatedCompletionDate"/>
        <alias entity-alias="WE" name="orgUnitId"/>
        <alias entity-alias="WE" name="organizationId"/>
        <alias entity-alias="WEPA" name="wepaPartyId" field="partyId"/>
        <alias entity-alias="VAL" name="valPartyId" field="partyId"/>
        <alias entity-alias="APP" name="appPartyId" field="partyId"/>
        <alias entity-alias="TEMPL" name="templateId" field="workEffortIdTo"/>
        <alias entity-alias="T" name="parentTypeId"/>
       
        <view-link entity-alias="WE" rel-entity-alias="WEPA">
            <key-map field-name="workEffortId"/>
            <entity-condition >
                <condition-expr field-name="roleTypeId" entity-alias="WEPA" value="WEM_EVAL_IN_CHARGE"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="TEMPL" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdFrom" />
            <entity-condition >
                <condition-expr field-name="workEffortAssocTypeId" entity-alias="TEMPL" value="TEMPL"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="APP" rel-optional="true">
            <key-map field-name="workEffortId"/>
            <entity-condition >
                <condition-expr field-name="roleTypeId" entity-alias="APP" value="WEM_EVAL_APPROVER"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="VAL" rel-optional="true">
            <key-map field-name="workEffortId"/>
            <entity-condition >
                <condition-expr field-name="roleTypeId" entity-alias="VAL" value="WEM_EVAL_MANAGER"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WEPA" rel-entity-alias="PR">
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="T">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list combine="or">
                    <condition-expr field-name="parentTypeId" entity-alias="T" value="CTX_EP"/>
                    <condition-expr field-name="parentTypeId" entity-alias="T" value="CTX_DI"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <entity-condition >
            <condition-expr field-name="workEffortId" entity-alias="WE" rel-field-name="workEffortParentId" rel-entity-alias="WE"/>
        </entity-condition>
    </view-entity>
    
    
    <view-entity entity-name="WorkEffortIndicatorView" package-name="org.ofbiz.workeffort.workeffort" never-cache="true">
        <member-entity entity-alias="M" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="GA" entity-name="GlAccount"/>
        <member-entity entity-alias="GO" entity-name="GlAccountOrganization"/>
        
        <alias name="weTransWeId" entity-alias="M" field="workEffortId"/>
        <alias name="weTransMeasureId" entity-alias="M" field="workEffortMeasureId"/>             
        <alias name="calcCustomMethodId" entity-alias="GA"/>
        <alias name="accountTypeEnumId" entity-alias="GA"/>
        <alias name="prioCalc" entity-alias="GA"/>
        <alias name="glResourceTypeId" entity-alias="GA"/>
        <alias name="weTransAccountId" entity-alias="M" field="glAccountId"/>
        <alias name="fromDate" entity-alias="M"/>
        <alias name="thruDate" entity-alias="M"/>
        <alias name="organizationPartyId" entity-alias="GO"/>
               
        <view-link entity-alias="M" rel-entity-alias="GA">
            <key-map field-name="glAccountId"/>
        </view-link>
        <view-link entity-alias="GA" rel-entity-alias="GO">
            <key-map field-name="glAccountId"/>
        </view-link> 
        
	</view-entity>
	
	<view-entity entity-name="WorkEffortPartyAssignRole" package-name="org.ofbiz.workeffort.workeffort" never-cache="true">
		<member-entity entity-name="WorkEffortPartyAssignment" entity-alias="A" />
		<member-entity entity-name="WorkEffortPartyAssignment" entity-alias="B" />
		<member-entity entity-name="WorkEffort" entity-alias="WA" />
		<alias-all entity-alias="A"/>
		<alias-all entity-alias="B" prefix="role"/>
		<alias name="workEffortRevisionId" entity-alias="WA"/>
		<view-link  entity-alias="A" rel-entity-alias="B">
			<key-map field-name="workEffortId"/>
		</view-link>
		<view-link entity-alias="A" rel-entity-alias="WA">
			<key-map field-name="workEffortId"/>
		</view-link>
	</view-entity>
	
    <view-entity entity-name="WorkEffortRevisionAndAssoc" package-name="org.ofbiz.workeffort.workeffort">
        <description> View with WorkEffortAssoc, not hierchical, that snapshot service WILL create </description>
        <member-entity entity-name="WorkEffortRevision" entity-alias="WR"/>
        <member-entity entity-name="WorkEffort" entity-alias="WS"/>
        <member-entity entity-name="WorkEffortType" entity-alias="WT"/>
        <member-entity entity-name="WorkEffort" entity-alias="WE"/>
        
        <!-- WA.workEffortIdFrom and WA.workEffortIdTo is the original id for create the relation -->
        <member-entity entity-name="WorkEffortAssoc" entity-alias="WA"/>
		<member-entity entity-name="WorkEffortAssocType" entity-alias="WAT"/>
        
        <member-entity entity-name="WorkEffort" entity-alias="WAFF"/>
        <member-entity entity-name="WorkEffort" entity-alias="WATT"/>
        
        <!-- SNF.workEffortId and SNT.workEffortId is the new id for create the relation, if one is null, must use WA.workEffortIdFrom or WA.workEffortIdTo -->
        <member-entity entity-name="WorkEffort" entity-alias="SNT"/>
        <member-entity entity-name="WorkEffort" entity-alias="SNF"/>
        <!-- SNF2 e SNT2 are the snapshot of original id, the valid record must have the revisionId null or equals WR.workEffortRevisionId -->
        <member-entity entity-name="WorkEffort" entity-alias="SNT2"/>
        <member-entity entity-name="WorkEffort" entity-alias="SNF2"/>
        
        <alias-all entity-alias="WA" group-by="true">
        	<exclude field="workEffortIdFrom"/>
        	<exclude field="workEffortIdTo"/>
            <exclude field="workEffortRevisionId"/>
        </alias-all>
        <alias entity-alias="WR" name="workEffortRevisionId" group-by="true"/>
        <alias entity-alias="WS" field="workEffortId" name="workEffortRootId" group-by="true"/>
        <alias entity-alias="SNF2" field="workEffortRevisionId" name="workEffortRevisionIdFrom2" group-by="true"/>
        <alias entity-alias="SNF" field="workEffortRevisionId" name="workEffortRevisionIdFrom" group-by="true"/>
        <alias entity-alias="SNT2" field="workEffortRevisionId" name="workEffortRevisionIdTo2" group-by="true"/>
        <alias entity-alias="SNT" field="workEffortRevisionId" name="workEffortRevisionIdTo" group-by="true"/>
        <alias entity-alias="SNF" field="workEffortId" name="workEffortIdFrom" group-by="true" prim-key="false"/>
        <alias entity-alias="WA" field="workEffortIdFrom" name="workEffortSnapshotIdFrom" group-by="true"/>
        <alias entity-alias="SNT" field="workEffortId" name="workEffortIdTo" group-by="true" prim-key="false"/>
		<alias entity-alias="WA" field="workEffortIdTo" name="workEffortSnapshotIdTo" group-by="true"/>
        
        <view-link entity-alias="WR" rel-entity-alias="WS" rel-optional="false">
            <entity-condition>
            	<condition-expr entity-alias="WS" field-name="workEffortRevisionId" value="null"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WS" rel-entity-alias="WT" rel-optional="false">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="WS" rel-entity-alias="WE" rel-optional="false">
            <key-map field-name="workEffortId" rel-field-name="workEffortParentId"/>
        </view-link>
        <view-link entity-alias="WE" rel-entity-alias="WA" rel-optional="false">
            <entity-condition>
            	<condition-list>
	            	<condition-list combine="or">
	            		<condition-expr entity-alias="WE" field-name="workEffortId" rel-entity-alias="WA" rel-field-name="workEffortIdTo"/>
	            		<condition-expr entity-alias="WE" field-name="workEffortId" rel-entity-alias="WA" rel-field-name="workEffortIdFrom"/>
	            	</condition-list>
	            	<condition-list combine="and">
	            		<condition-expr entity-alias="WA" field-name="workEffortAssocTypeId" operator="not-equals" value="ROOT"/>
	            		<condition-expr entity-alias="WA" field-name="workEffortAssocTypeId" operator="not-equals" value="TEMPL"/>
	            		<condition-expr entity-alias="WA" field-name="workEffortAssocTypeId" operator="not-equals" value="COPY"/>
	            		<condition-expr entity-alias="WA" field-name="workEffortAssocTypeId" operator="not-equals" value="SNAPSHOT"/>
	            	</condition-list>
            	</condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WA" rel-entity-alias="WAT" rel-optional="false">
        	<key-map field-name="workEffortAssocTypeId"/>
        </view-link>
        
        <view-link entity-alias="WA" rel-entity-alias="WAFF">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId" />
        </view-link>
        <view-link entity-alias="WA" rel-entity-alias="WATT">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId" />
        </view-link>
        
        <view-link entity-alias="WA" rel-entity-alias="SNT" rel-optional="true">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortSnapshotId" />
            <entity-condition>
            	<condition-expr entity-alias="SNT" field-name="workEffortRevisionId" rel-entity-alias="WR" rel-field-name="workEffortRevisionId"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WA" rel-entity-alias="SNT2" rel-optional="true">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId" />
        </view-link>
        <view-link entity-alias="WA" rel-entity-alias="SNF" rel-optional="true">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortSnapshotId" />
            <entity-condition>
            	<condition-expr entity-alias="SNF" field-name="workEffortRevisionId" rel-entity-alias="WR" rel-field-name="workEffortRevisionId"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WA" rel-entity-alias="SNF2" rel-optional="true">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId" />
        </view-link>
        
        <entity-condition>
           	<condition-list>
            	<condition-list combine="or">
            		<condition-expr entity-alias="WAT" operator="not-equals" field-name="parentTypeId" value="HIE"/>
            		<condition-expr entity-alias="WAT" field-name="parentTypeId" value="null"/>
            		<condition-list combine="and">
            			<condition-expr entity-alias="WAT" operator="equals" field-name="parentTypeId" value="HIE"/>
            			<condition-expr entity-alias="WAFF" field-name="workEffortParentId" operator="not-equals" rel-entity-alias="WATT" rel-field-name="workEffortParentId"/>
            		</condition-list>
            	</condition-list>
          	</condition-list>
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="CustomTimePeriodAndUserLoginValidPartyRoleView" package-name="org.ofbiz.party.party">
        <member-entity entity-name="WorkEffortTypePeriod" entity-alias="WP"/>
        <member-entity entity-name="CustomTimePeriod" entity-alias="CT"/>
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="ULVR"/>
        <alias-all entity-alias="CT"/>
        <alias name="userLoginId" entity-alias="ULVR"/>
        <view-link entity-alias="WP" rel-entity-alias="CT">
            <key-map field-name="customTimePeriodId"/>
        </view-link>
        <view-link entity-alias="WP" rel-entity-alias="ULVR">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
            	<condition-expr entity-alias="ULVR" field-name="roleTypeId" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <relation rel-entity-name="UserLogin" type="one-nofk">
            <key-map field-name="userLoginId"/>
        </relation>
    </view-entity>

    <!-- TODO GN-1349 fare due View da mettere in UNION tramite script groovy -->
    <view-entity entity-name="WorkEffortRolesTarget" package-name="org.ofbiz.workeffort.workeffort">    	
    </view-entity>
    
    <view-entity entity-name="WorkEffortRolesTarget1" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffort" entity-alias="W"/>
        <member-entity entity-name="WorkEffortType" entity-alias="WT"/>
        <member-entity entity-name="WorkEffort" entity-alias="WS"/>
        <member-entity entity-name="WorkEffortType" entity-alias="WTS"/>       
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="WP"/>
        <member-entity entity-name="WorkEffortTypeRole" entity-alias="WTR"/>        
        <member-entity entity-name="WorkEffortType" entity-alias="ST"/>
        <member-entity entity-name="WorkEffort" entity-alias="S"/>
        
        <alias entity-alias="S" field="workEffortId" name="workEffortId" group-by="true"/>        
        <alias entity-alias="W" field="workEffortId" name="obbId" group-by="true"/>
        <alias entity-alias="W" field="workEffortName" name="obbWorkEffortName" group-by="true"/>
        <alias entity-alias="W" field="sourceReferenceId" name="obbSourceReferenceId" group-by="true"/>
        <alias entity-alias="W" field="sequenceNum" name="obbSequenceNum" group-by="true"/>
        <alias entity-alias="WT" field="etch" name="obWtEtch" group-by="true"/>        
        <alias entity-alias="WS" field="workEffortId" name="parentWorkEffortId" group-by="true"/>
        <alias entity-alias="WS" field="workEffortName" name="parentWorkEffortName" group-by="true"/>
        <alias entity-alias="WS" field="sourceReferenceId" name="parentSourceReferenceId" group-by="true"/>
        <alias entity-alias="WS" field="sequenceNum" name="parentSequenceNum" group-by="true"/>
        <alias entity-alias="WTS" field="etch" name="parentWtEtch" group-by="true"/>        
        <alias entity-alias="WP" name="partyId" group-by="true"/>
        
        <view-link entity-alias="W" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="W" rel-entity-alias="WS">
            <key-map field-name="workEffortParentId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WS" rel-entity-alias="WTS">
            <key-map field-name="workEffortTypeId"/>
        </view-link>        
        <view-link entity-alias="W" rel-entity-alias="WP">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-list>
	               <condition-expr entity-alias="W" field-name="estimatedCompletionDate" operator="greater-equals" rel-entity-alias="WP" rel-field-name="fromDate"/>
	               <condition-list combine="or">
		               	<condition-expr entity-alias="W" field-name="estimatedStartDate" operator="less-equals" rel-entity-alias="WP" rel-field-name="thruDate"/>
		               	<condition-expr entity-alias="WP" field-name="thruDate" value="null"/>
	               </condition-list>                                      
	           </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WP" rel-entity-alias="WTR">
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="WTR" rel-entity-alias="ST">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="ST" rel-entity-alias="S">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
    </view-entity>
    
    
    <view-entity entity-name="WorkEffortRolesTarget2" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffort" entity-alias="W"/>
        <member-entity entity-name="WorkEffortType" entity-alias="WT"/>
        <member-entity entity-name="WorkEffort" entity-alias="WS"/>
        <member-entity entity-name="WorkEffortType" entity-alias="WTS"/>        
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="WP"/>
        <member-entity entity-name="WorkEffortTypeRole" entity-alias="WTR"/>
        <member-entity entity-name="PartyRelationship" entity-alias="PR"/>
        <member-entity entity-name="WorkEffortType" entity-alias="ST"/>
        <member-entity entity-name="WorkEffort" entity-alias="S"/>
        
        <alias entity-alias="S" field="workEffortId" name="workEffortId" group-by="true"/>        
        <alias entity-alias="W" field="workEffortId" name="obbId" group-by="true"/>
        <alias entity-alias="W" field="workEffortName" name="obbWorkEffortName" group-by="true"/>
        <alias entity-alias="W" field="sourceReferenceId" name="obbSourceReferenceId" group-by="true"/>
        <alias entity-alias="W" field="sequenceNum" name="obbSequenceNum" group-by="true"/>
        <alias entity-alias="WT" field="etch" name="obWtEtch" group-by="true"/>        
        <alias entity-alias="WS" field="workEffortId" name="parentWorkEffortId" group-by="true"/>
        <alias entity-alias="WS" field="workEffortName" name="parentWorkEffortName" group-by="true"/>
        <alias entity-alias="W" field="sourceReferenceId" name="parentSourceReferenceId" group-by="true"/>
        <alias entity-alias="WTS" field="etch" name="parentWtEtch" group-by="true"/>        
        <alias entity-alias="PR" field="partyIdTo" name="partyId"  group-by="true"/>
        
        <view-link entity-alias="W" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="W" rel-entity-alias="WS">
            <key-map field-name="workEffortParentId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WS" rel-entity-alias="WTS">
            <key-map field-name="workEffortTypeId"/>
        </view-link>        
        <view-link entity-alias="W" rel-entity-alias="WP">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WP" rel-entity-alias="PR">
            <key-map field-name="partyId" rel-field-name="partyIdFrom"/>
            <key-map field-name="roleTypeId" rel-field-name="roleTypeIdFrom"/>
            <entity-condition>
                <condition-list>
                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="PR" value="ORG_RESPONSIBLE"/>
                    <condition-expr entity-alias="W" field-name="estimatedCompletionDate" operator="greater-equals" rel-entity-alias="PR" rel-field-name="fromDate"/>
                    <condition-list combine="or">
                    	<condition-expr entity-alias="W" field-name="estimatedStartDate" operator="less-equals" rel-entity-alias="PR" rel-field-name="thruDate"/>
                    	<condition-expr entity-alias="PR" field-name="thruDate" value="null"/>
                    </condition-list>                                      
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="WP" rel-entity-alias="WTR">
            <key-map field-name="roleTypeId"/>
        </view-link>
        <view-link entity-alias="WTR" rel-entity-alias="ST">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="ST" rel-entity-alias="S">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAssocAndClone" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAssoc" entity-alias="WA"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="WC"/>
        <member-entity entity-name="WorkEffort" entity-alias="WF"/>
        <member-entity entity-name="WorkEffort" entity-alias="WT"/>
        <alias entity-alias="WA" name="padre" field="workEffortIdFrom"/>
        <alias entity-alias="WA" name="figlio" field="workEffortIdTo"/>
        <alias entity-alias="WA" name="workEffortAssocTypeId"/>
        <alias entity-alias="WC" name="clonato" field="workEffortIdFrom"/>
        <view-link rel-entity-alias="WF" entity-alias="WA">
        	<key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link rel-entity-alias="WT" entity-alias="WA">
        	<key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        	<entity-condition>
        		<condition-expr field-name="workEffortParentId" entity-alias="WT" rel-entity-alias="WF" rel-field-name="workEffortParentId"/>
        	</entity-condition>
        </view-link>
        <view-link rel-entity-alias="WC" entity-alias="WA">
        	<key-map field-name="workEffortIdTo"/>
        	<entity-condition>
        		<condition-expr entity-alias="WC" field-name="workEffortAssocTypeId" value="COPY"/>
        	</entity-condition>
        </view-link>
        <entity-condition>
        	<condition-list>
	        	<condition-expr field-name="workEffortSnapshotId" entity-alias="WF" operator="equals" value="null"/>
	        	<condition-expr field-name="workEffortSnapshotId" entity-alias="WT" operator="equals" value="null"/>
        	</condition-list>
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortViewAssocLevel4WithAssocLevel1" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="B"/>
        <member-entity entity-name="WorkEffort" entity-alias="C"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="D"/>
        <member-entity entity-name="WorkEffort" entity-alias="E"/>
        <member-entity entity-name="WorkEffort" entity-alias="F"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="G"/>
        <member-entity entity-name="WorkEffortView" entity-alias="H"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="L"/>
        <alias-all entity-alias="H"/>
        <alias entity-alias="E" name="workEffortLevel3" field="workEffortId"/>
        <alias entity-alias="D" name="assA2" field="workEffortAssocTypeId"/>
        <alias entity-alias="A" name="workEffortLevel2" field="workEffortId"/>
        <alias entity-alias="F" name="workEffortLevelA3" field="workEffortId"/>
        <alias entity-alias="B" name="assA1" field="workEffortAssocTypeId"/>
        <alias entity-alias="C" name="workEffortLevel1" field="workEffortId"/>
        <alias entity-alias="F" name="workEffortLevel4" field="workEffortId"/>
        <alias entity-alias="G" name="assA3" field="workEffortAssocTypeId"/>
        <alias entity-alias="L" name="assB1" field="workEffortAssocTypeId"/>
        <alias entity-alias="G" name="workEffortLevelB2" field="workEffortIdTo"/>
        <view-link rel-entity-alias="L" entity-alias="H">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
        </view-link>
        <view-link rel-entity-alias="C" entity-alias="L">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="B">
            <key-map rel-field-name="workEffortIdFrom" field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="A">
            <key-map rel-field-name="workEffortId" field-name="workEffortIdTo"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map rel-field-name="workEffortIdFrom" field-name="workEffortId"/>
        </view-link>        
        <view-link entity-alias="D" rel-entity-alias="E">
            <key-map rel-field-name="workEffortId" field-name="workEffortIdTo"/>
        </view-link>
        <view-link entity-alias="E" rel-entity-alias="G">
            <key-map rel-field-name="workEffortIdFrom" field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="F">
            <key-map rel-field-name="workEffortId" field-name="workEffortIdTo"/>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="WorkEffortViewAssocLevel4WithAssocLevel1Ass" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="B"/>
        <member-entity entity-name="WorkEffort" entity-alias="C"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="D"/>
        <member-entity entity-name="WorkEffort" entity-alias="E"/>
        <member-entity entity-name="WorkEffort" entity-alias="F"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="G"/>
        <member-entity entity-name="WorkEffortViewAss" entity-alias="H"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="L"/>
        <alias-all entity-alias="H"/>
        <alias entity-alias="E" name="workEffortLevel3" field="workEffortId"/>
        <alias entity-alias="D" name="assA2" field="workEffortAssocTypeId"/>
        <alias entity-alias="A" name="workEffortLevel2" field="workEffortId"/>
        <alias entity-alias="F" name="workEffortLevelA3" field="workEffortId"/>
        <alias entity-alias="B" name="assA1" field="workEffortAssocTypeId"/>
        <alias entity-alias="C" name="workEffortLevel1" field="workEffortId"/>
        <alias entity-alias="F" name="workEffortLevel4" field="workEffortId"/>
        <alias entity-alias="G" name="assA3" field="workEffortAssocTypeId"/>
        <alias entity-alias="L" name="assB1" field="workEffortAssocTypeId"/>
        <alias entity-alias="G" name="workEffortLevelB2" field="workEffortIdTo"/>
        <view-link rel-entity-alias="L" entity-alias="H">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
        </view-link>
        <view-link rel-entity-alias="C" entity-alias="L">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="B">
            <key-map rel-field-name="workEffortIdFrom" field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="A">
            <key-map rel-field-name="workEffortId" field-name="workEffortIdTo"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map rel-field-name="workEffortIdFrom" field-name="workEffortId"/>
        </view-link>        
        <view-link entity-alias="D" rel-entity-alias="E">
            <key-map rel-field-name="workEffortId" field-name="workEffortIdTo"/>
        </view-link>
        <view-link entity-alias="E" rel-entity-alias="G">
            <key-map rel-field-name="workEffortIdFrom" field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="F">
            <key-map rel-field-name="workEffortId" field-name="workEffortIdTo"/>
        </view-link>
    </view-entity>    
    
    <view-entity entity-name="WorkEffortViewAssocLevel3WithAssocLevel3" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="B"/>
        <member-entity entity-name="WorkEffort" entity-alias="C"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="D"/>
        <member-entity entity-name="WorkEffort" entity-alias="E"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="F"/>
        <member-entity entity-name="WorkEffort" entity-alias="G"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="I"/>
        <member-entity entity-name="WorkEffortView" entity-alias="W"/>
        <alias-all entity-alias="W"/>
        <alias entity-alias="A" name="workEffortLevelA3" field="workEffortId"/>
        <alias entity-alias="B" name="assA2" field="workEffortAssocTypeId"/>
        <alias entity-alias="C" name="workEffortLevelA2" field="workEffortId"/>
        <alias entity-alias="D" name="assA1" field="workEffortAssocTypeId"/>
        <alias entity-alias="E" name="workEffortLevel1" field="workEffortId"/> <!-- workEffortLevelB1 -->
        <alias entity-alias="F" name="assB1" field="workEffortAssocTypeId"/>
        <alias entity-alias="G" name="workEffortLevelB2" field="workEffortId"/>
        <alias entity-alias="I" name="assB2" field="workEffortAssocTypeId"/>
        <alias entity-alias="W" name="workEffortLevelB3" field="workEffortId"/>
        <view-link rel-entity-alias="B" entity-alias="A">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
        </view-link>
        <view-link rel-entity-alias="C" entity-alias="B">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link rel-entity-alias="D" entity-alias="C">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
        </view-link>
        <view-link rel-entity-alias="E" entity-alias="D">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="E" rel-entity-alias="F">
            <key-map rel-field-name="workEffortIdFrom" field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="F" rel-entity-alias="G">
            <key-map rel-field-name="workEffortId" field-name="workEffortIdTo"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="I">
            <key-map rel-field-name="workEffortIdFrom" field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="I" rel-entity-alias="W">
            <key-map rel-field-name="workEffortId" field-name="workEffortIdTo"/>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="WorkEffortViewAssocLevel3WithAssocLevel3Ass" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="B"/>
        <member-entity entity-name="WorkEffort" entity-alias="C"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="D"/>
        <member-entity entity-name="WorkEffort" entity-alias="E"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="F"/>
        <member-entity entity-name="WorkEffort" entity-alias="G"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="I"/>
        <member-entity entity-name="WorkEffortViewAss" entity-alias="W"/>
        <alias-all entity-alias="W"/>
        <alias entity-alias="A" name="workEffortLevelA3" field="workEffortId"/>
        <alias entity-alias="B" name="assA2" field="workEffortAssocTypeId"/>
        <alias entity-alias="C" name="workEffortLevelA2" field="workEffortId"/>
        <alias entity-alias="D" name="assA1" field="workEffortAssocTypeId"/>
        <alias entity-alias="E" name="workEffortLevel1" field="workEffortId"/> <!-- workEffortLevelB1 -->
        <alias entity-alias="F" name="assB1" field="workEffortAssocTypeId"/>
        <alias entity-alias="G" name="workEffortLevelB2" field="workEffortId"/>
        <alias entity-alias="I" name="assB2" field="workEffortAssocTypeId"/>
        <alias entity-alias="W" name="workEffortLevelB3" field="workEffortId"/>
        <view-link rel-entity-alias="B" entity-alias="A">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
        </view-link>
        <view-link rel-entity-alias="C" entity-alias="B">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link rel-entity-alias="D" entity-alias="C">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
        </view-link>
        <view-link rel-entity-alias="E" entity-alias="D">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="E" rel-entity-alias="F">
            <key-map rel-field-name="workEffortIdFrom" field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="F" rel-entity-alias="G">
            <key-map rel-field-name="workEffortId" field-name="workEffortIdTo"/>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="I">
            <key-map rel-field-name="workEffortIdFrom" field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="I" rel-entity-alias="W">
            <key-map rel-field-name="workEffortId" field-name="workEffortIdTo"/>
        </view-link>
    </view-entity>    
    
    <view-entity entity-name="WorkEffortViewAssocLevel2WithAssocLevel2" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="B"/>
        <member-entity entity-name="WorkEffort" entity-alias="C"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="D"/>
        <member-entity entity-name="WorkEffortView" entity-alias="W"/>
        <alias-all entity-alias="W"/>
        <alias entity-alias="A" name="workEffortLevelA3" field="workEffortId"/>
        <alias entity-alias="B" name="assA1" field="workEffortAssocTypeId"/>
        <alias entity-alias="C" name="workEffortLevel1" field="workEffortId"/>
        <alias entity-alias="D" name="assB1" field="workEffortAssocTypeId"/>
        <alias entity-alias="D" name="workEffortLevelB2" field="workEffortIdTo"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map rel-field-name="workEffortIdTo" field-name="workEffortId"/>
        </view-link>  
        <view-link entity-alias="B" rel-entity-alias="C">
            <key-map rel-field-name="workEffortId" field-name="workEffortIdFrom"/>
        </view-link> 
        <view-link entity-alias="C" rel-entity-alias="D">
            <key-map rel-field-name="workEffortIdFrom" field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="D" rel-entity-alias="W">
            <key-map rel-field-name="workEffortId" field-name="workEffortIdTo"/>
        </view-link>                              
    </view-entity>
    
    <view-entity entity-name="WorkEffortViewAssocLevel2WithAssocLevel2Ass" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="B"/>
        <member-entity entity-name="WorkEffort" entity-alias="C"/>
        <member-entity entity-name="WorkEffortAssoc" entity-alias="D"/>
        <member-entity entity-name="WorkEffortViewAss" entity-alias="W"/>
        <alias-all entity-alias="W"/>
        <alias entity-alias="A" name="workEffortLevelA3" field="workEffortId"/>
        <alias entity-alias="B" name="assA1" field="workEffortAssocTypeId"/>
        <alias entity-alias="C" name="workEffortLevel1" field="workEffortId"/>
        <alias entity-alias="D" name="assB1" field="workEffortAssocTypeId"/>
        <alias entity-alias="D" name="workEffortLevelB2" field="workEffortIdTo"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map rel-field-name="workEffortIdTo" field-name="workEffortId"/>
        </view-link>  
        <view-link entity-alias="B" rel-entity-alias="C">
            <key-map rel-field-name="workEffortId" field-name="workEffortIdFrom"/>
        </view-link> 
        <view-link entity-alias="C" rel-entity-alias="D">
            <key-map rel-field-name="workEffortIdFrom" field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="D" rel-entity-alias="W">
            <key-map rel-field-name="workEffortId" field-name="workEffortIdTo"/>
        </view-link>                              
    </view-entity>    
    
    
    
    <!-- WorkEffortRootLookupOrgMgrView -->
    <!-- filtro per i ruoli di ORG per la ricerca degli obiettivi nella lookup che contengono un determinato folder -->

    <view-entity entity-name="WorkEffortOrgMgrViewLookupD" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="PartyRelationship" entity-alias="E"/>
        <member-entity entity-name="Party" entity-alias="F"/>
        <member-entity entity-name="WorkEffortTypeContent" entity-alias="G"/>
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="currentStatusId"/>
        <alias entity-alias="A" name="workEffortParentId"/>
        <alias entity-alias="A" name="organizationId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>
        <alias entity-alias="A" name="orgUnitId"/>
        <alias entity-alias="A" name="sourceReferenceId"/>
        <alias entity-alias="A" name="workEffortName"/>
        <alias entity-alias="A" name="estimatedStartDate"/>
        <alias entity-alias="A" name="estimatedCompletionDate"/>
        <alias entity-alias="A" field="etch" name="weEtch"/>
        <alias entity-alias="A" name="workEffortSnapshotId"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate"/>
        <alias entity-alias="B" field="description" name="weTypeDescription"/>
        <alias entity-alias="B" field="etch" name="etch"/>
        <alias entity-alias="B" name="workEffortTypeId" prim-key="false"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId"/>
        <alias entity-alias="C" field="description" name="weStatusDescr"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId"/>
        <alias entity-alias="F" name="partyName"/>
        <alias entity-alias="E" field="partyIdTo" name="partyIdTo" prim-key="false"/>
        <alias entity-alias="G" name="contentId"/>
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="G">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>        
        <view-link entity-alias="A" rel-entity-alias="E">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeIdFrom"/>
            <key-map field-name="orgUnitId" rel-field-name="partyIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="partyRelationshipTypeId" entity-alias="E" operator="in" value="ORG_RESPONSIBLE,ORG_DELEGATE"/>                                        
                    <condition-list combine="and">
                    	<condition-expr field-name="fromDate" entity-alias="E" operator="less-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                		<condition-list combine="or">
                    		<condition-expr entity-alias="E" field-name="thruDate" value="null"/>
                    		<condition-expr field-name="thruDate" entity-alias="E" operator="greater-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="A"/>
                    	</condition-list>
                    </condition-list>                    
                    <condition-expr field-name="partyIdTo" entity-alias="E" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="F" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <!-- -->
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
            </condition-list>
        </entity-condition>
    </view-entity>
    
    <!-- WorkEffortViewLookup -->
    <!-- ricerca degli obiettivi nella lookup che contengono un determinato folder -->
    <view-entity entity-name="WorkEffortViewLookup" package-name="org.ofbiz.workeffort.workeffort">
        <description>WorkEffortView_N</description>
        <member-entity entity-name="WorkEffortView" entity-alias="A"/>        
        <member-entity entity-name="WorkEffortTypeContent" entity-alias="P"/>
        
		<alias-all entity-alias="A"/>
		<alias entity-alias="P" name="contentId"/>        
        
        <view-link entity-alias="A" rel-entity-alias="P">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>        
    </view-entity>
    
    <!-- WorkEffortAssignmentOrgMgrView -->
    <view-entity entity-name="WorkEffortAssignmentContentOrgMgrViewD" package-name="org.ofbiz.workeffort.workeffort">
        <description>WorkEffortAssignmentView_N</description>
        <member-entity entity-name="UserLoginValidPartyRoleView" entity-alias="U"/>
        <member-entity entity-name="PartyParentRole" entity-alias="PP"/>
        <member-entity entity-name="PartyRole" entity-alias="PR"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="WorkEffortType" entity-alias="D"/>
        <member-entity entity-name="WorkEffortTypeContent" entity-alias="E"/>
        <member-entity entity-name="PartyRelationship" entity-alias="F"/>
        <member-entity entity-name="Person" entity-alias="C"/>
        <member-entity entity-name="EmplPositionType" entity-alias="EMP"/>
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="B" name="workEffortTypeId"/>
        <alias entity-alias="A" name="partyId"/>
        <alias entity-alias="A" name="roleTypeId"/>
        <alias entity-alias="A" name="isPosted"/>
        <alias entity-alias="A" name="fromDate"/>
		<alias entity-alias="A" name="thruDate"/>
        <alias entity-alias="A" name="roleTypeWeight"/>
        <alias entity-alias="B" name="workEffortSnapshotId"/>
        <alias entity-alias="B" name="orgUnitRoleTypeId"/>
        <alias entity-alias="B" name="orgUnitId"/>
        <alias entity-alias="B" field="estimatedStartDate" name="waFromDate"/>
        <alias entity-alias="B" field="estimatedCompletionDate" name="waThruDate"/>
        <alias entity-alias="PR" field="parentRoleTypeId" name="waParentRoleTypeId"/>
        <alias entity-alias="E" name="contentId" prim-key="false"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId" prim-key="false"/>
        <alias entity-alias="C" name="employmentAmount" />
        <alias entity-alias="EMP" name="category" field="description" />
        <view-link entity-alias="PP" rel-entity-alias="PR">
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId" rel-field-name="parentRoleTypeId"/>
        </view-link>
        <view-link entity-alias="PR" rel-entity-alias="A">
            <key-map field-name="partyId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr entity-alias="A" field-name="roleTypeId" rel-entity-alias="PR" rel-field-name="roleTypeId"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>        
        <view-link entity-alias="B" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="D" rel-entity-alias="E">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="F">
            <key-map field-name="orgUnitRoleTypeId" rel-field-name="roleTypeIdFrom"/>
            <key-map field-name="orgUnitId" rel-field-name="partyIdFrom"/>
            <entity-condition>
                <condition-list>
                    <condition-list combine="or">
	                	<condition-expr field-name="partyRelationshipTypeId" entity-alias="F" operator="equals" value="ORG_RESPONSIBLE"/>
	                	<condition-list>
	                    	<condition-expr field-name="partyRelationshipTypeId" entity-alias="F" operator="equals" value="ORG_DELEGATE"/>
	                    	<condition-list combine="or">
	                    		<condition-expr field-name="ctxEnabled" entity-alias="F" operator="equals" value="CTX_EP"/>
	                    		<condition-expr field-name="ctxEnabled" entity-alias="F" value="null"/>
	                		</condition-list>
	                    </condition-list>
                	</condition-list>
                    <condition-list combine="and">
                    	<condition-expr field-name="fromDate" entity-alias="F" operator="less-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="B"/>
                		<condition-list combine="or">
                    		<condition-expr entity-alias="F" field-name="thruDate" value="null"/>
                    		<condition-expr field-name="thruDate" entity-alias="F" operator="greater-equals" rel-field-name="estimatedCompletionDate" rel-entity-alias="B"/>
                    	</condition-list>
                    </condition-list>                    
                    <condition-expr field-name="partyIdTo" entity-alias="F" rel-field-name="ulPartyId" rel-entity-alias="U"/>
                </condition-list>
            </entity-condition>
        </view-link>        
        <view-link entity-alias="A" rel-entity-alias="C" rel-optional="true">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="EMP" rel-optional="true">
            <key-map field-name="emplPositionTypeId"/>
        </view-link>
        <relation rel-entity-name="WorkEffortPartyAssignment" type="one-nofk">
            <key-map field-name="workEffortId"/>
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId"/>
            <key-map field-name="fromDate"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-expr entity-alias="D" field-name="parentTypeId" operator="like" value="CTX%"/>
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAssignmentContentView" package-name="org.ofbiz.workeffort.workeffort">
        <description>WorkEffortAssignmentView_N</description>
        <member-entity entity-name="PartyParentRole" entity-alias="PP"/>
        <member-entity entity-name="PartyRole" entity-alias="PR"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="WorkEffortType" entity-alias="D"/>
        <member-entity entity-name="WorkEffortTypeContent" entity-alias="E"/>
        <member-entity entity-name="Person" entity-alias="C"/>
        <member-entity entity-name="EmplPositionType" entity-alias="EMP"/>
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="B" name="workEffortTypeId"/>
        <alias entity-alias="A" name="partyId"/>
        <alias entity-alias="A" name="roleTypeId"/>       
        <alias entity-alias="A" name="isPosted"/>
        <alias entity-alias="A" name="fromDate"/>
		<alias entity-alias="A" name="thruDate"/>
        <alias entity-alias="A" name="roleTypeWeight"/>
        <alias entity-alias="B" name="workEffortSnapshotId"/>
        <alias entity-alias="B" name="orgUnitRoleTypeId"/>
        <alias entity-alias="B" name="orgUnitId"/>
        <alias entity-alias="B" field="estimatedStartDate" name="waFromDate"/>
        <alias entity-alias="B" field="estimatedCompletionDate" name="waThruDate"/>
        <alias entity-alias="PR" field="parentRoleTypeId" name="waParentRoleTypeId"/>
        <alias entity-alias="E" name="contentId" prim-key="false"/>
        <alias entity-alias="C" name="employmentAmount" />
        <alias entity-alias="EMP" name="category" field="description" />
        <view-link entity-alias="PP" rel-entity-alias="PR">
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId" rel-field-name="parentRoleTypeId"/>
        </view-link>
        <view-link entity-alias="PR" rel-entity-alias="A">
            <key-map field-name="partyId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr entity-alias="A" field-name="roleTypeId" rel-entity-alias="PR" rel-field-name="roleTypeId"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="D" rel-entity-alias="E">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C" rel-optional="true">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="EMP" rel-optional="true">
            <key-map field-name="emplPositionTypeId"/>
        </view-link>
        <relation rel-entity-name="WorkEffortPartyAssignment" type="one-nofk">
            <key-map field-name="workEffortId"/>
            <key-map field-name="partyId"/>
            <key-map field-name="roleTypeId"/>
            <key-map field-name="fromDate"/>
        </relation>
        <relation rel-entity-name="WorkEffortView" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-expr entity-alias="D" field-name="parentTypeId" operator="like" value="CTX%"/>
        </entity-condition>
    </view-entity>   
    
    <view-entity entity-name="WorkEffortAssocWorkEffortToView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAssoc" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>       
        <alias-all entity-alias="A">
            <exclude field="workEffortRevisionId"/>
        </alias-all>
        <alias-all entity-alias="B">
             <exclude field="workEffortId"/>
             <exclude field="workEffortAssocTypeId"/>
             <exclude field="sequenceNum"/>
             <exclude field="isPosted"/>
        </alias-all>
        <alias name="actStEnumId" entity-alias="C"/>
        <view-link entity-alias="A" rel-entity-alias="B" rel-optional="false">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="C" rel-optional="false">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>        
        <entity-condition>
            <condition-list combine="and">
            	<condition-expr entity-alias="B" field-name="workEffortRevisionId" value="null"/>
            	<condition-expr entity-alias="B" field-name="workEffortSnapshotId" value="null"/>             
            </condition-list>       
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAssocWorkEffortFromView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAssoc" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>       
        <alias-all entity-alias="A">
            <exclude field="workEffortRevisionId"/>
        </alias-all>
        <alias-all entity-alias="B">
             <exclude field="workEffortId"/>
             <exclude field="workEffortAssocTypeId"/>
             <exclude field="sequenceNum"/>
             <exclude field="isPosted"/>
        </alias-all>
        <view-link entity-alias="A" rel-entity-alias="B" rel-optional="false">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <entity-condition>
            <condition-list combine="and">
            	<condition-expr entity-alias="B" field-name="workEffortRevisionId" value="null"/>
            	<condition-expr entity-alias="B" field-name="workEffortSnapshotId" value="null"/>             
            </condition-list>       
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAssocWorkEffortToViewLight" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAssoc" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>       
        <alias-all entity-alias="A">
            <exclude field="workEffortRevisionId"/>
        </alias-all>
        <alias name="workEffortTypeId" entity-alias="B"/>
        <alias name="workEffortName" entity-alias="B"/>
        <alias name="sourceReferenceId" entity-alias="B"/>
        <alias name="etch" entity-alias="B"/>
        <alias name="workEffortParentId" entity-alias="B"/>
        <view-link entity-alias="A" rel-entity-alias="B" rel-optional="false">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <entity-condition>
            <condition-list combine="and">
            	<condition-expr entity-alias="B" field-name="workEffortRevisionId" value="null"/>
            	<condition-expr entity-alias="B" field-name="workEffortSnapshotId" value="null"/>             
            </condition-list>       
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAssocWorkEffortFromViewLight" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffortAssoc" entity-alias="A"/>
        <member-entity entity-name="WorkEffort" entity-alias="B"/>       
        <alias-all entity-alias="A">
            <exclude field="workEffortRevisionId"/>
        </alias-all>
        <alias name="workEffortTypeId" entity-alias="B"/>
        <alias name="workEffortName" entity-alias="B"/>
        <alias name="sourceReferenceId" entity-alias="B"/>
        <alias name="etch" entity-alias="B"/>
        <alias name="workEffortParentId" entity-alias="B"/>
        <view-link entity-alias="A" rel-entity-alias="B" rel-optional="false">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <entity-condition>
            <condition-list combine="and">
            	<condition-expr entity-alias="B" field-name="workEffortRevisionId" value="null"/>
            	<condition-expr entity-alias="B" field-name="workEffortSnapshotId" value="null"/>             
            </condition-list>       
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAndTypeAssocFromView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="T" entity-name="WorkEffortAssocWorkEffortToViewLight"/>
        <member-entity entity-alias="FR" entity-name="WorkEffort"/>
        <member-entity entity-alias="WTA" entity-name="WorkEffortTypeAssoc"/>
        <alias-all entity-alias="WTA"/>
        <alias name="workEffortId" entity-alias="FR"/>
        <alias name="workEffortTypeId" entity-alias="FR"/>
        <alias field="workEffortParentId" name="fromWorkEffortParentId" entity-alias="FR"/>
        <alias field="workEffortIdTo" name="toWorkEffortId" entity-alias="T"/>
        <alias field="workEffortTypeId" name="toWorkEffortTypeId" entity-alias="T"/>
        <alias field="workEffortName" name="toWorkEffortName" entity-alias="T"/>
        <alias field="workEffortParentId" name="toWorkEffortParentId" entity-alias="T"/>
        <alias name="fromDate" entity-alias="T"/>
        <alias name="thruDate" entity-alias="T"/>
        <alias name="assocWeight" entity-alias="T"/>
        <view-link entity-alias="FR" rel-entity-alias="WTA">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
            	<condition-expr field-name="wefromWetoEnumId" entity-alias="WTA" value="WETAFROM"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="FR" rel-entity-alias="T" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdFrom"/>
            <entity-condition>
            	<condition-list combine="and">
	            	<condition-expr field-name="workEffortAssocTypeId" entity-alias="T" rel-entity-alias="WTA" rel-field-name="workEffortAssocTypeId"/>
	            	<condition-expr field-name="workEffortTypeId" entity-alias="T" rel-entity-alias="WTA" rel-field-name="workEffortTypeIdRef"/>
            	</condition-list>
            </entity-condition>
        </view-link>
        <relation rel-entity-name="WorkEffortAssoc" type="one" title="AssocFrom">
        	<key-map field-name="toWorkEffortId" rel-field-name="workEffortIdTo"/>
        	<key-map field-name="workEffortId" rel-field-name="workEffortIdFrom"/>
        	<key-map field-name="workEffortAssocTypeId"/>
        	<key-map field-name="fromDate"/>
        </relation>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAndTypeAssocToView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="T" entity-name="WorkEffort"/>
        <member-entity entity-alias="FR" entity-name="WorkEffortAssocWorkEffortFromViewLight"/>
        <member-entity entity-alias="WTA" entity-name="WorkEffortTypeAssoc"/>
        <alias-all entity-alias="WTA"/>
        <alias name="workEffortId" entity-alias="T"/>
        <alias name="workEffortTypeId" entity-alias="T"/>
        <alias field="workEffortIdFrom" name="fromWorkEffortId" entity-alias="FR"/>
        <alias field="workEffortTypeId" name="fromWorkEffortTypeId" entity-alias="FR"/>
        <alias field="workEffortName" name="fromWorkEffortName" entity-alias="FR"/>
        <alias name="fromDate" entity-alias="FR"/>
        <alias name="thruDate" entity-alias="FR"/>
        <alias name="assocWeight" entity-alias="FR"/>
        <view-link entity-alias="T" rel-entity-alias="WTA">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
            	<condition-expr field-name="wefromWetoEnumId" entity-alias="WTA" value="WETATO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="T" rel-entity-alias="FR" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
            <entity-condition>
            	<condition-list>
	            	<condition-expr field-name="workEffortAssocTypeId" entity-alias="FR" rel-entity-alias="WTA" rel-field-name="workEffortAssocTypeId"/>
	            	<condition-expr field-name="workEffortTypeId" entity-alias="FR" rel-entity-alias="WTA" rel-field-name="workEffortTypeIdRef"/>
            	</condition-list>
           	</entity-condition>
        </view-link>
        <relation rel-entity-name="WorkEffortAssoc" type="one" title="AssocTo">
        	<key-map field-name="fromWorkEffortId" rel-field-name="workEffortIdFrom"/>
        	<key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
        	<key-map field-name="workEffortAssocTypeId"/>
        	<key-map field-name="fromDate"/>
        </relation>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAndTypeAssocToView2" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="T" entity-name="WorkEffort"/>
        <member-entity entity-alias="A" entity-name="WorkEffortAssoc"/>
        <member-entity entity-alias="B" entity-name="WorkEffort"/>
        <member-entity entity-alias="WTA" entity-name="WorkEffortTypeAssoc"/>
        <alias-all entity-alias="WTA"/>
        <alias name="workEffortId" entity-alias="T"/>
        <alias field="workEffortParentId" name="toWorkEffortParentId" entity-alias="T"/>
        <alias name="workEffortTypeId" entity-alias="T"/>
        <alias field="workEffortIdFrom" name="fromWorkEffortId" entity-alias="A"/>
        <alias field="workEffortTypeId" name="fromWorkEffortTypeId" entity-alias="B"/>
        <alias field="workEffortName" name="fromWorkEffortName" entity-alias="B"/>
        <alias field="workEffortParentId" name="fromWorkEffortParentId" entity-alias="B"/>
        <alias name="fromDate" entity-alias="A"/>
        <alias name="thruDate" entity-alias="A"/>
        <alias name="assocWeight" entity-alias="A"/>
        <view-link entity-alias="T" rel-entity-alias="WTA">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
            	<condition-expr field-name="wefromWetoEnumId" entity-alias="WTA" value="WETATO"/>
            </entity-condition>
        </view-link>
        
        <view-link entity-alias="T" rel-entity-alias="A" rel-optional="true">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
            <entity-condition>
            	<condition-list>
	            	<condition-expr field-name="workEffortAssocTypeId" entity-alias="A" rel-entity-alias="WTA" rel-field-name="workEffortAssocTypeId"/>
            	</condition-list>
           	</entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B" rel-optional="true">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
            <entity-condition>
            	<condition-list>	            	
	            	<condition-expr field-name="workEffortTypeId" entity-alias="B" rel-entity-alias="WTA" rel-field-name="workEffortTypeIdRef"/>
	            	<condition-expr entity-alias="B" field-name="workEffortRevisionId" value="null"/>
            		<condition-expr entity-alias="B" field-name="workEffortSnapshotId" value="null"/>       
            	</condition-list>
           	</entity-condition>
        </view-link>
        <relation rel-entity-name="WorkEffortAssoc" type="one" title="AssocTo">
        	<key-map field-name="fromWorkEffortId" rel-field-name="workEffortIdFrom"/>
        	<key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
        	<key-map field-name="workEffortAssocTypeId"/>
        	<key-map field-name="fromDate"/>
        </relation>
        <entity-condition>
            <condition-list combine="and">
            	<condition-list combine="or">
            		<condition-list combine="and">
            			<condition-expr entity-alias="A" field-name="workEffortIdTo" value="null"/>
            			<condition-expr entity-alias="B" field-name="workEffortId" value="null"/>
            		</condition-list>
            		<condition-list combine="and">
            			<condition-expr entity-alias="A" field-name="workEffortIdTo" operator="not-equals" value="null"/>
            			<condition-expr entity-alias="B" field-name="workEffortId" operator="not-equals" value="null"/>
            		</condition-list>            	
            	</condition-list>            	           
            </condition-list>       
        </entity-condition>        
    </view-entity>
    
    <view-entity entity-name="WorkEffortAndTypeAssocToView3" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffort"/>
        <member-entity entity-alias="B" entity-name="WorkEffortAssocWorkEffortFromView"/>
        <member-entity entity-alias="C" entity-name="WorkEffortTypeAssoc"/>
        <alias-all entity-alias="C"/>
        <alias name="workEffortId" entity-alias="A"/>
        <alias field="workEffortParentId" name="toWorkEffortParentId" entity-alias="A"/>
        <alias name="workEffortTypeId" entity-alias="A"/>
        <alias field="workEffortIdFrom" name="fromWorkEffortId" entity-alias="B"/>
        <alias field="workEffortTypeId" name="fromWorkEffortTypeId" entity-alias="B"/>
        <alias field="workEffortName" name="fromWorkEffortName" entity-alias="B"/>
        <alias field="workEffortParentId" name="fromWorkEffortParentId" entity-alias="B"/>
        <alias name="fromDate" entity-alias="B"/>
        <alias name="thruDate" entity-alias="B"/>
        <alias name="assocWeight" entity-alias="B"/>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
            	<condition-expr field-name="wefromWetoEnumId" entity-alias="C" value="WETATO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B" rel-optional="true">
        	<key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
        	<entity-condition>
        	    <condition-list combine="and">
        	        <condition-expr field-name="workEffortTypeIdRef" entity-alias="C" rel-field-name="workEffortTypeId" rel-entity-alias="B"/>
        	        <condition-expr field-name="workEffortAssocTypeId" entity-alias="C" rel-field-name="workEffortAssocTypeId" rel-entity-alias="B"/>
        	    </condition-list>     	    
        	</entity-condition>
        </view-link>
        <entity-condition>
            <condition-list combine="and">
            	<condition-list combine="or">
            		<condition-list combine="and">
            			<condition-expr entity-alias="B" field-name="workEffortIdTo" value="null"/>
            			<condition-expr entity-alias="B" field-name="workEffortIdFrom" value="null"/>
            		</condition-list>
            		<condition-list combine="and">
            			<condition-expr entity-alias="B" field-name="workEffortIdTo" operator="not-equals" value="null"/>
            			<condition-expr entity-alias="B" field-name="workEffortIdFrom" operator="not-equals" value="null"/>
            		</condition-list>            	
            	</condition-list>            	           
            </condition-list>       
        </entity-condition>        
    </view-entity>
    
    <view-entity entity-name="WorkEffortStatusView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="WorkEffort" entity-alias="W"/>
        <member-entity entity-name="StatusItem" entity-alias="S"/>       
        <alias-all entity-alias="W"/>
        <alias entity-alias="S" name="actStEnumId"/>
        <alias entity-alias="S" name="statusDesc" field="description"/>
        <view-link entity-alias="W" rel-entity-alias="S">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
    </view-entity>
    <view-entity entity-name="WorkEffortAssocWeFromAndToView" package-name="org.ofbiz.workeffort.workeffort">
    	<member-entity entity-alias="WA" entity-name="WorkEffortAssoc"/>
        <member-entity entity-alias="WEF" entity-name="WorkEffort"/>
        <member-entity entity-alias="WET" entity-name="WorkEffort"/>
        <alias-all entity-alias="WA"/>
        <alias entity-alias="WEF" name="wefWorkEffortTypeId" field="workEffortTypeId"/>
        <alias entity-alias="WEF" name="wefOrgUnitId" field="orgUnitId"/>
        <alias entity-alias="WET" name="wetWorkEffortTypeId" field="workEffortTypeId"/>
        <alias entity-alias="WET" name="wetOrgUnitId" field="orgUnitId"/>

        <view-link entity-alias="WA" rel-entity-alias="WEF">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WA" rel-entity-alias="WET">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="WorkEffortTypeAndTypeContent" package-name="org.ofbiz.workeffort.workeffort">
        <description>WorkEffortTypeContent and context</description>
        <member-entity entity-name="WorkEffortType" entity-alias="A"/>
        <member-entity entity-name="WorkEffortTypeContent" entity-alias="C"/>
        
		<alias-all entity-alias="C"/>
		<alias entity-alias="A" name="parentTypeId"/> 
        
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <relation rel-entity-name="WorkEffortTypeContent" type="one">
        	<key-map field-name="workEffortTypeId"/>
        	<key-map field-name="contentId"/>
        </relation>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAndMeasureView" package-name="org.ofbiz.workeffort.workeffort" never-cache="true">
        <member-entity entity-alias="M" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="W" entity-name="WorkEffort"/>
        
        <alias-all entity-alias="M">
            <exclude field="orgUnitId"/>
            <exclude field="orgUnitRoleTypeId"/>
        </alias-all>
        <alias entity-alias="W" name="workEffortSnapshotId"/>
        <alias entity-alias="W" name="workEffortName"/>
        <alias entity-alias="W" name="sourceReferenceId"/>
        <alias entity-alias="W" name="etch"/>
        <alias entity-alias="W" name="orgUnitId"/>
        <alias entity-alias="W" name="orgUnitRoleTypeId"/>
        <alias entity-alias="W" name="estimatedStartDate"/>
        <alias entity-alias="W" name="estimatedCompletionDate"/>
              
        <view-link entity-alias="M" rel-entity-alias="W">
            <key-map field-name="workEffortId"/>
        </view-link> 
        
	</view-entity>
	
    <view-entity entity-name="WorkEffortAssocToShortView" package-name="org.ofbiz.workeffort.workeffort">
         <member-entity entity-alias="WEA" entity-name="WorkEffortAssoc"/>
         <member-entity entity-alias="WETO" entity-name="WorkEffort"/>
         
         <alias entity-alias="WETO" name="workEffortParentId"/>
         <alias entity-alias="WEA" name="workEffortAssocTypeId"/>
         <alias entity-alias="WEA" name="workEffortIdFrom"/>
         
         <view-link entity-alias="WEA" rel-entity-alias="WETO">
         	<key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
         </view-link>
    </view-entity>
    
    <view-entity entity-name="WorkEffortTypeContentAndWorkEffortTypeGroup" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WTC" entity-name="WorkEffortTypeContent"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <alias-all entity-alias="WT" group-by="true">
        	<exclude field="note"/>
        	<exclude field="noteLang"/>
        </alias-all>
        <alias entity-alias="WTC" name="contentId" group-by="true" />
        <alias entity-alias="WTC" name="sequenceNum" group-by="true" />             
        <view-link entity-alias="WTC" rel-entity-alias="WT">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <entity-condition>
        	<condition-expr field-name="weTypeContentTypeId" entity-alias="WTC" value="REPORT"/>
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAndTypeRoleTypeView" package-name="org.ofbiz.workeffort.workeffort">
    	<member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="R" entity-name="RoleType"/>        
        <alias entity-alias="W" name="workEffortId"/>
        <alias entity-alias="W" name="workEffortTypeId"/>
        <alias entity-alias="W" name="orgUnitId"/>
        <alias entity-alias="W" name="orgUnitRoleTypeId"/>
        <alias entity-alias="W" name="estimatedStartDate"/>
        <alias entity-alias="W" name="estimatedCompletionDate"/>
        <alias entity-alias="R" name="roleTypeId"/>
        <view-link entity-alias="W" rel-entity-alias="R">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAndTypeAndMeasureRoleTypeView" package-name="org.ofbiz.workeffort.workeffort">
    	<member-entity entity-alias="W" entity-name="WorkEffort"/>
        <member-entity entity-alias="R" entity-name="RoleType"/>
        <member-entity entity-alias="M" entity-name="WorkEffortMeasure"/>    
        <alias entity-alias="W" name="workEffortId"/>
        <alias entity-alias="W" name="workEffortTypeId"/>
        <alias entity-alias="W" name="orgUnitId"/>
        <alias entity-alias="W" name="orgUnitRoleTypeId"/>
        <alias entity-alias="W" name="estimatedStartDate"/>
        <alias entity-alias="W" name="estimatedCompletionDate"/>
        <alias entity-alias="R" name="roleTypeId"/>
        <alias entity-alias="M" name="workEffortMeasureId"/>
        <alias entity-alias="M" name="glAccountId"/>
        <view-link entity-alias="W" rel-entity-alias="R">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="W" rel-entity-alias="M">
            <key-map field-name="workEffortId"/>
        </view-link>        
    </view-entity>    
   	
   	<view-entity entity-name="WorkEffortTypeContentReminder" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="W" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WC" entity-name="WorkEffortTypeContent"/>

        <alias name="workEffortTypeId" entity-alias="W"/>
        <alias name="contentId" entity-alias="WC"/>        
        <alias name="reminderActive" entity-alias="W"/>

        <view-link entity-alias="W" rel-entity-alias="WC">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        
    </view-entity>
    
    <view-entity entity-name="WorkEffortTypeContentReportView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="W" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WC" entity-name="WorkEffortTypeContent"/>
        <member-entity entity-alias="CA" entity-name="ContentAssoc"/>
		<member-entity entity-alias="C" entity-name="Content"/>
	    
	    <alias name="workEffortTypeId" entity-alias="W" group-by="true"/>
        <alias name="parentTypeId" entity-alias="W" group-by="true"/>        
        <alias name="contentIdStart" entity-alias="CA" field="contentId" group-by="true"/> 
        <alias name="contentId" entity-alias="CA" field="contentIdTo" group-by="true"/> 
        <alias name="serviceName" entity-alias="C" field="serviceName" group-by="true"/> 
		
	    <alias name="sequenceNum" entity-alias="WC" group-by="true"/> 
	    <alias name="etch" entity-alias="WC" group-by="true"/> 
	    <alias name="etchLang" entity-alias="WC" group-by="true"/> 
	    <alias name="description" entity-alias="C" group-by="true"/> 
	    <alias name="descriptionLang" entity-alias="C" group-by="true"/> 
	   
	    <alias field="description" name="descriptionType" entity-alias="W" group-by="true"/> 
	    <alias field="descriptionLang"  name="descriptionTypeLang" entity-alias="W" group-by="true"/> 
	    <alias name="isVisible" entity-alias="WC" group-by="true"/>
	    <alias name="useFilter" entity-alias="WC" group-by="true"/> 
	    <alias name="onlyAdmin" entity-alias="WC" group-by="true"/>
	    
        <view-link entity-alias="W" rel-entity-alias="WC">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="WC" rel-entity-alias="C">
            <key-map field-name="contentId"/>
        </view-link>
        <view-link entity-alias="C" rel-entity-alias="CA">
            <key-map field-name="contentId" rel-field-name="contentIdTo"/>
            <entity-condition >
                <condition-expr field-name="contentAssocTypeId" entity-alias="CA" value="REP_PERM"/>
            </entity-condition>            
        </view-link>        
    </view-entity>
    
    
    
    <view-entity entity-name="WorkEffortAnalysisAndTypeReportGroup" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="WA" entity-name="WorkEffortAnalysis"/>
        <member-entity entity-alias="WT" entity-name="WorkEffortType"/>
        <member-entity entity-alias="C" entity-name="Content"/>
        
        <alias name="workEffortAnalysisId" entity-alias="WA" group-by="true"/>
        <alias name="parentTypeId" entity-alias="WT" group-by="true"/>
		<alias name="contentId" entity-alias="C" group-by="true"/>
		<alias name="serviceName" entity-alias="C" group-by="true"/>
		
		<alias name="etch" field="description5" entity-alias="WA" group-by="true"/> 
	    <alias name="etchLang" field="description5" entity-alias="WA" group-by="true"/> 
		<alias name="description" entity-alias="C" group-by="true"/> 
	    <alias name="descriptionLang" entity-alias="C" group-by="true"/>
	    
	    <alias field="description" name="descriptionType" entity-alias="WA" group-by="true"/> 
	    <alias field="description"  name="descriptionTypeLang" entity-alias="WA" group-by="true"/> 
	    
	   
        <view-link rel-entity-alias="WT" entity-alias="WA">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="WA" rel-entity-alias="C">
            <key-map field-name="reportId"  rel-field-name="contentId"/>
        </view-link>
    </view-entity>
       
    
    <view-entity entity-name="ReportChildRootEquality" package-name="org.ofbiz.workeffort.workeffort"  title="Work Effort Association  and type Entity with Name">
        <member-entity entity-alias="WA" entity-name="WorkEffortAssoc"/>
        <member-entity entity-alias="WETO" entity-name="WorkEffort"/>
        <member-entity entity-alias="WEFROM" entity-name="WorkEffort"/>
        <member-entity entity-alias="WETTO" entity-name="WorkEffortType"/>
        <member-entity entity-alias="WETFROM" entity-name="WorkEffortType"/>
        <alias-all entity-alias="WA"/>
        <!-- <alias entity-alias="WETTO" name="workEffortTypeIdTo" field="workEffortTypeId" prim-key="false"//>
        <alias entity-alias="WETTO" name="parentTypeIdTo" field="parentTypeId"/>
        <alias entity-alias="WETFROM" name="workEffortTypeIdFrom" field="workEffortTypeId" prim-key="false"/>
        <alias entity-alias="WETFROM" name="parentTypeIdFrom" field="parentTypeId"/> -->
        
        <view-link entity-alias="WA" rel-entity-alias="WETO">
            <key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WETO" rel-entity-alias="WETTO">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="WA" rel-entity-alias="WEFROM">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="WEFROM" rel-entity-alias="WETFROM">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
            <entity-condition>
            	<condition-expr field-name="parentTypeId" entity-alias="WETFROM" rel-entity-alias="WETTO" rel-field-name="parentTypeId"/>
            </entity-condition>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="SchedaValutazioneInfo" package-name="org.ofbiz.workeffort.workeffort">
    	<member-entity entity-alias="A" entity-name="WorkEffort"/>
    	<member-entity entity-alias="B" entity-name="WorkEffortPartyAssignment"/>
    	<member-entity entity-alias="C" entity-name="Person"/>
    	<member-entity entity-alias="D" entity-name="PartyParentRole"/>
    	<member-entity entity-alias="E" entity-name="WorkEffortAssoc"/>
    	<member-entity entity-alias="F" entity-name="WorkEffort"/>
    	<member-entity entity-alias="G" entity-name="Party"/>
    	<member-entity entity-alias="H" entity-name="PartyParentRole"/>
    	<alias name="workEffortId" entity-alias="A"/>
    	<alias name="estimatedStartDate" entity-alias="A"/>
    	<alias name="estimatedCompletionDate" entity-alias="A"/>
    	<alias name="evalId" field="partyId" entity-alias="B"/>
    	<alias name="firstName" entity-alias="C"/>
    	<alias name="lastName" entity-alias="C"/>
    	<alias name="evalCode" field="parentRoleCode" entity-alias="D"/>
    	<alias name="templateCode" field="sourceReferenceId" entity-alias="F"/>
    	<alias name="templateName" field="workEffortName" entity-alias="F"/>
    	<alias name="orgUnitId" entity-alias="A"/>
    	<alias name="orgUnitName" field="partyName" entity-alias="G"/>
    	<alias name="orgUnitCode" field="parentRoleCode" entity-alias="H"/>
    	<view-link rel-entity-alias="B" entity-alias="A">
    		<key-map field-name="workEffortId"/>
    		<entity-condition>
    		    <condition-list>
    		        <condition-expr field-name="roleTypeId" entity-alias="B" value="WEM_EVAL_IN_CHARGE"/>
    		    </condition-list>
    		</entity-condition>
    	</view-link>
    	<view-link rel-entity-alias="C" entity-alias="B">
    	    <key-map field-name="partyId"/>
    	</view-link>
    	<view-link rel-entity-alias="D" entity-alias="C">
    		<key-map field-name="partyId"/>
    		<entity-condition>
    		    <condition-list>
    		        <condition-expr field-name="roleTypeId" entity-alias="D" value="EMPLOYEE"/>
    		    </condition-list>
    		</entity-condition>
    	</view-link>   
    	<view-link rel-entity-alias="E" entity-alias="A" rel-optional="true">
    		<key-map field-name="workEffortId" rel-field-name="workEffortIdFrom"/>
    		<entity-condition>
    		    <condition-list>
    		        <condition-expr field-name="workEffortAssocTypeId" entity-alias="E" value="TEMPL"/>
    		    </condition-list>
    		</entity-condition>
    	</view-link> 
    	<view-link rel-entity-alias="F" entity-alias="E" rel-optional="true">
    		<key-map field-name="workEffortIdTo" rel-field-name="workEffortId"/>
    	</view-link>
    	<view-link rel-entity-alias="G" entity-alias="A">
    		<key-map field-name="orgUnitId" rel-field-name="partyId"/>
    	</view-link>  
    	<view-link rel-entity-alias="H" entity-alias="G">
    		<key-map field-name="partyId"/>
    		<entity-condition>
    		    <condition-list>
    		        <condition-expr field-name="roleTypeId" entity-alias="H" value="ORGANIZATION_UNIT"/>
    		    </condition-list>
    		</entity-condition>
    	</view-link>     	   	    	 	
    </view-entity>    
    
    <view-entity entity-name="WorkEffortRootTypeViewAndAssign" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="Party" entity-alias="E"/>
        <member-entity entity-name="WorkEffortPartyAssignment" entity-alias="WEPA"/>
        <member-entity entity-name="WorkEffortTypeType" entity-alias="F"/>
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="currentStatusId"/>
        <alias entity-alias="A" name="workEffortParentId"/>
        <alias entity-alias="A" name="description"/>
        <alias entity-alias="A" name="organizationId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>
        <alias entity-alias="A" name="orgUnitId"/>
        <alias entity-alias="A" name="sourceReferenceId"/>
        <alias entity-alias="A" name="workEffortName"/>
        <alias entity-alias="A" name="estimatedStartDate"/>
        <alias entity-alias="A" name="estimatedCompletionDate"/>
        <alias entity-alias="A" name="lastCorrectScoreDate"/>
        <alias entity-alias="A" name="workEffortTypeId"/>
        <alias entity-alias="A" name="workEffortSnapshotId"/>
        <alias entity-alias="A" field="etch" name="weEtch"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate"/>
        <alias entity-alias="B" field="description" name="weTypeDescription"/>
        <alias entity-alias="B" field="etch" name="etch"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId"/>
        <alias entity-alias="C" field="description" name="weStatusDescr"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId"/>
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId"/>
        <alias entity-alias="D" field="managWeStatusEnumId" name="managWeStatusEnumId"/>
        <alias entity-alias="E" name="partyName"/>        
        <alias entity-alias="WEPA" name="partyId"/>
        <alias entity-alias="WEPA" name="roleTypeId"/>
        <alias entity-alias="F" name="sequenceNum"/>
        <alias entity-alias="F" name="workEffortTypeIdRoot"/>
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="WEPA">
            <key-map field-name="workEffortId" rel-field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="F">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeIdTo"/>
        </view-link>
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="workEffortSnapshotId" entity-alias="A" operator="equals" value="null"/>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
                <condition-expr field-name="actStEnumId" entity-alias="C" operator="in" value="ACTSTATUS_PENDING,ACTSTATUS_ACTIVE"/>
            </condition-list>
        </entity-condition>
    </view-entity>
    
    
    <view-entity entity-name="WorkEffortRootTypeView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-name="UserLoginValidPartyRole" entity-alias="U"/>
        <member-entity entity-name="WorkEffort" entity-alias="A"/>
        <member-entity entity-name="WorkEffortType" entity-alias="B"/>
        <member-entity entity-name="StatusItem" entity-alias="C"/>
        <member-entity entity-name="WorkEffortTypeStatus" entity-alias="D"/>
        <member-entity entity-name="Party" entity-alias="E"/>
        <member-entity entity-name="PartyParentRole" entity-alias="F"/>
        <member-entity entity-name="WorkEffortTypeType" entity-alias="G"/>
        <alias entity-alias="A" name="workEffortId"/>
        <alias entity-alias="A" name="currentStatusId"/>
        <alias entity-alias="A" name="workEffortParentId"/>
        <alias entity-alias="A" name="description"/>
        <alias entity-alias="A" name="organizationId"/>
        <alias entity-alias="A" name="orgUnitRoleTypeId"/>
        <alias entity-alias="A" name="orgUnitId"/>
        <alias entity-alias="A" name="sourceReferenceId"/>
        <alias entity-alias="A" name="workEffortName"/>
        <alias entity-alias="A" name="estimatedStartDate"/>
        <alias entity-alias="A" name="estimatedCompletionDate"/>
        <alias entity-alias="A" name="lastCorrectScoreDate"/>
        <alias entity-alias="A" name="workEffortTypeId"/>
        <alias entity-alias="A" name="workEffortSnapshotId"/>
        <alias entity-alias="A" field="etch" name="weEtch"/>
        <alias entity-alias="U" field="userLoginId" name="uvUserLoginId"/>
        <alias entity-alias="B" field="parentTypeId" name="weContextId"/>
        <alias entity-alias="B" field="isRoot" name="weIsRoot"/>
        <alias entity-alias="B" field="isTemplate" name="weIsTemplate"/>
        <alias entity-alias="B" field="description" name="weTypeDescription"/>
        <alias entity-alias="B" field="etch" name="etch"/>
        <alias entity-alias="B" field="hierarchyAssocTypeId" name="weHierarchyTypeId"/>
        <alias entity-alias="B" name="gpMenuEnumId"/>
        <alias entity-alias="B" name="seqEsp"/>
        <alias entity-alias="C" field="description" name="weStatusDescr"/>
        <alias entity-alias="C" field="actStEnumId" name="weActivation"/>
        <alias entity-alias="C" field="statusTypeId" name="weStatusTypeId"/>
        <alias entity-alias="D" field="glFiscalTypeId" name="glFiscalTypeId"/>
        <alias entity-alias="D" field="nextStatusId" name="nextStatusId"/>
        <alias entity-alias="D" field="managementRoleTypeId" name="managementRoleTypeId"/>
        <alias entity-alias="D" field="managWeStatusEnumId" name="managWeStatusEnumId"/>
        <alias entity-alias="E" name="partyName"/>         
        <alias entity-alias="A" name="workEffortNameLang"/>
        <alias entity-alias="B" field="descriptionLang" name="weTypeDescriptionLang"/>
        <alias entity-alias="C" field="descriptionLang" name="weStatusDescrLang"/>
        <alias entity-alias="E" name="partyNameLang"/>
        <alias entity-alias="B" field="etchLang" name="etchLang"/>
        <alias entity-alias="F" name="parentRoleCode"/>               
        <alias entity-alias="G" name="sequenceNum"/>
        <alias entity-alias="G" name="workEffortTypeIdRoot"/>
        <view-link entity-alias="A" rel-entity-alias="U">
            <key-map field-name="organizationId" rel-field-name="partyId"/>
            <entity-condition>
                <condition-expr field-name="roleTypeId" entity-alias="U" value="INTERNAL_ORGANIZATIO"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="C">
            <key-map field-name="currentStatusId" rel-field-name="statusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>
        <view-link entity-alias="A" rel-entity-alias="E" rel-optional="true">
            <key-map field-name="orgUnitId" rel-field-name="partyId"/>
        </view-link>       
        <view-link entity-alias="E" rel-entity-alias="F" rel-optional="true">
        	<key-map field-name="partyId"/>
        	<entity-condition>
        		<condition-list>
        			<condition-expr field-name="roleTypeId" entity-alias="F" value="ORGANIZATION_UNIT"/>
        		</condition-list>
        	</entity-condition>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="G">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeIdTo"/>
        </view-link>        
        <relation rel-entity-name="WorkEffort" type="one-nofk">
            <key-map field-name="workEffortId"/>
        </relation>
        <entity-condition>
            <condition-list>
                <condition-expr field-name="workEffortSnapshotId" entity-alias="A" operator="equals" value="null"/>
                <condition-expr field-name="isRoot" entity-alias="B" value="Y"/>
                <condition-expr entity-alias="B" field-name="parentTypeId" operator="like" value="CTX%"/>
                <condition-expr field-name="actStEnumId" entity-alias="C" operator="in" value="ACTSTATUS_PENDING,ACTSTATUS_ACTIVE"/>
            </condition-list>
        </entity-condition>
    </view-entity>
    
    <view-entity entity-name="WorkEffortAndTypeStatusView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffort"/>
        <member-entity entity-alias="B" entity-name="WorkEffortType"/>
        <member-entity entity-alias="C" entity-name="WorkEffortTypeStatus"/>
        <alias name="workEffortId" entity-alias="A"/>
        <alias name="workEffortParentId" entity-alias="A"/>
        <alias name="workEffortTypeId" entity-alias="B"/>
        <alias name="isRoot" entity-alias="B"/>
        <alias name="parentTypeId" entity-alias="B"/>
        <alias name="currentStatusId" entity-alias="C"/>
        <alias name="managementRoleTypeId" entity-alias="C"/>
        <alias name="managWeStatusEnumId" entity-alias="C"/>
        <alias name="params" entity-alias="C"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId"/>
        </view-link> 
        <view-link entity-alias="A" rel-entity-alias="C" rel-optional="true">
            <key-map field-name="workEffortTypeId" rel-field-name="workEffortTypeRootId"/>
            <key-map field-name="currentStatusId" rel-field-name="currentStatusId"/>
        </view-link>                       
    </view-entity>
    
    <view-entity entity-name="AccountReferenceView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffort"/>
        <member-entity entity-alias="B" entity-name="WorkEffortType"/>
        <member-entity entity-alias="C" entity-name="WorkEffortTypeContent"/>
        <member-entity entity-alias="D" entity-name="WorkEffortAssoc"/>
        <member-entity entity-alias="E" entity-name="WorkEffort"/>
        <member-entity entity-alias="F" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="H" entity-name="GlAccount"/>
        <member-entity entity-alias="I" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="N" entity-name="WorkEffortPurposeAccount"/>
        <member-entity entity-alias="M" entity-name="WorkEffortTypeContent"/>
        <alias name="accountName" entity-alias="G"/>
        <alias name="accountNameLang" entity-alias="G"/>
        <alias name="glAccountId" entity-alias="H"/>
        <alias name="glAccountIdRef" field="glAccountId" entity-alias="G"/>
        <alias name="workEffortId" entity-alias="A"/>
        <alias name="workEffortIdRef" field="workEffortId" entity-alias="E"/>
        <alias name="workEffortMeasureId" entity-alias="F"/>
        <alias name="kpiScoreWeight" entity-alias="F"/>
        <alias name="kpiOtherWeight" entity-alias="F"/>
        <alias name="contentId" entity-alias="C"/>
        <alias name="fromDate" entity-alias="F"/>
        <alias name="thruDate" entity-alias="F"/>
        <alias name="workEffortPurposeTypeId" entity-alias="M"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="C">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="weTypeContentTypeId" entity-alias="C" value="FOLDER"/>
                </condition-list>
            </entity-condition>
        </view-link> 
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="workEffortId" rel-field-name="workEffortIdTo"/>
        </view-link> 
        <view-link entity-alias="D" rel-entity-alias="E">
            <key-map field-name="workEffortIdFrom" rel-field-name="workEffortId"/>
        </view-link> 
        <view-link entity-alias="E" rel-entity-alias="F">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="glAccountId" entity-alias="F" operator="not-equals" value="SCORE"/>
                    <condition-expr field-name="fromDate" entity-alias="F" operator="less-equals" rel-entity-alias="E" rel-field-name="estimatedCompletionDate"/>
                    <condition-expr field-name="thruDate" entity-alias="F" operator="greater-equals" rel-entity-alias="E" rel-field-name="estimatedStartDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="F" rel-entity-alias="G">
            <key-map field-name="glAccountId"/>
        </view-link> 
        <view-link entity-alias="G" rel-entity-alias="H">
            <key-map field-name="defaultUomId" rel-field-name="defaultUomId"/>
            <key-map field-name="debitCreditDefault" rel-field-name="debitCreditDefault"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="inputEnumId" entity-alias="H" value="ACCINP_OBJ"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="H" rel-entity-alias="I">
            <key-map field-name="glAccountId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="workEffortPurposeTypeId" rel-field-name="workEffortPurposeTypeId" entity-alias="C" rel-entity-alias="I"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="N">
            <key-map field-name="glAccountId"/>
        </view-link> 
        <view-link entity-alias="E" rel-entity-alias="M">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="weTypeContentTypeId" entity-alias="C" value="FOLDER"/>
                    <condition-expr field-name="workEffortPurposeTypeId" rel-field-name="workEffortPurposeTypeId" entity-alias="N" rel-entity-alias="M"/>
                </condition-list>
            </entity-condition>
        </view-link>
                                                                      
    </view-entity>
    
    <view-entity entity-name="AccountReferenceUOView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffort"/>
        <member-entity entity-alias="B" entity-name="WorkEffortType"/>
        <member-entity entity-alias="C" entity-name="WorkEffortTypeContent"/>
        <member-entity entity-alias="D" entity-name="WorkEffort"/>
        <member-entity entity-alias="E" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="F" entity-name="GlAccount"/>
        <member-entity entity-alias="G" entity-name="GlAccount"/>
        <member-entity entity-alias="H" entity-name="WorkEffortPurposeAccount"/>
        <alias name="accountName" entity-alias="F"/>
        <alias name="accountNameLang" entity-alias="F"/>
        <alias name="glAccountId" entity-alias="G"/>
        <alias name="glAccountIdRef" field="glAccountId" entity-alias="F"/>
        <alias name="workEffortId" entity-alias="A"/>
        <alias name="workEffortIdRef" field="workEffortId" entity-alias="D"/>
        <alias name="workEffortMeasureId" entity-alias="E"/>
        <alias name="kpiScoreWeight" entity-alias="E"/>
        <alias name="kpiOtherWeight" entity-alias="E"/>
        <alias name="contentId" entity-alias="C"/>
        <alias name="fromDate" entity-alias="E"/>
        <alias name="thruDate" entity-alias="E"/>
        <view-link entity-alias="A" rel-entity-alias="B">
            <key-map field-name="workEffortTypeId"/>
        </view-link>
        <view-link entity-alias="B" rel-entity-alias="C">
            <key-map field-name="workEffortTypeId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="weTypeContentTypeId" entity-alias="C" value="FOLDER"/>
                </condition-list>
            </entity-condition>
        </view-link> 
        <view-link entity-alias="A" rel-entity-alias="D">
            <key-map field-name="orgUnitId" rel-field-name="orgUnitId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="workEffortTypeId" entity-alias="D" value="19PEG02"/>
                    <condition-expr field-name="workEffortRevisionId" entity-alias="D" value="null"/>
                </condition-list>
            </entity-condition>
        </view-link> 
        <view-link entity-alias="D" rel-entity-alias="E">
            <key-map field-name="workEffortId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="glAccountId" entity-alias="E" operator="not-equals" value="SCORE"/>
                    <condition-expr field-name="fromDate" entity-alias="E" operator="less-equals" rel-entity-alias="D" rel-field-name="estimatedCompletionDate"/>
                    <condition-expr field-name="thruDate" entity-alias="E" operator="greater-equals" rel-entity-alias="D" rel-field-name="estimatedStartDate"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="E" rel-entity-alias="F">
            <key-map field-name="glAccountId"/>
        </view-link> 
        <view-link entity-alias="F" rel-entity-alias="G">
            <key-map field-name="defaultUomId" rel-field-name="defaultUomId"/>
            <key-map field-name="debitCreditDefault" rel-field-name="debitCreditDefault"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="inputEnumId" entity-alias="G" value="ACCINP_OBJ"/>
                </condition-list>
            </entity-condition>
        </view-link>
        <view-link entity-alias="G" rel-entity-alias="H">
            <key-map field-name="glAccountId"/>
            <entity-condition>
                <condition-list>
                    <condition-expr field-name="workEffortPurposeTypeId" rel-field-name="workEffortPurposeTypeId" entity-alias="C" rel-entity-alias="H"/>
                </condition-list>
            </entity-condition>
        </view-link>                                                              
    </view-entity>    
    
    <view-entity entity-name="GlAccountMeasureUomView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="B" entity-name="GlAccount"/>
        <member-entity entity-alias="C" entity-name="Uom"/>
        <alias name="workEffortMeasureId" entity-alias="A"/>
        <alias name="glAccountId" entity-alias="B"/>
        <alias name="accountName" entity-alias="B"/>
        <alias name="accountNameLang" entity-alias="B"/>
        <alias name="uomId" entity-alias="C"/>
        <alias name="minValue" entity-alias="C"/>
        <alias name="maxValue" entity-alias="C"/>
        <alias name="decimalScale" entity-alias="C"/>
        <view-link rel-entity-alias="B" entity-alias="A">
            <key-map field-name="glAccountId"/>
        </view-link>
       <view-link rel-entity-alias="C" entity-alias="B">
            <key-map field-name="defaultUomId" rel-field-name="uomId"/>
        </view-link>        
    </view-entity>    
    
    <view-entity entity-name="WorkEfforMeasAcctgTEView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="B" entity-name="AcctgTransEntry"/>
        <alias name="workEffortMeasureId" entity-alias="A"/>
        <alias name="accGlAccountId" field="glAccountId" entity-alias="B"/>
        <alias name="workEffortId" entity-alias="A"/>
        <alias name="fromDate" entity-alias="A"/>
        <alias name="thruDate" entity-alias="A"/>
        <view-link rel-entity-alias="B" entity-alias="A">
            <key-map field-name="workEffortMeasureId" rel-field-name="voucherRef"/>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="WorkEffortContentView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffortContent"/>
        <member-entity entity-alias="B" entity-name="Content"/>
        <member-entity entity-alias="C" entity-name="WorkEffortContentType"/>
        <member-entity entity-alias="D" entity-name="DataResource"/>
        <alias name="workEffortId" entity-alias="A"/>
        <alias name="workEffortContentTypeId" entity-alias="A"/>
        <alias name="fromDate" entity-alias="A"/>
        <alias name="thruDate" entity-alias="A"/>
        <alias name="contentId" entity-alias="B"/>
        <alias name="contentTypeId" entity-alias="B"/>
        <alias name="contentName" entity-alias="B"/>
        <alias name="description" entity-alias="B"/>
        <alias name="descriptionLang" entity-alias="B"/>
        <alias entity-alias="C" field="description" name="wctDescription"/>
        <alias entity-alias="C" field="descriptionLang" name="wctDescriptionLang"/> 
        <alias name="dataResourceId" entity-alias="D"/>
        <alias name="objectInfo" entity-alias="D"/>       
        <view-link rel-entity-alias="B" entity-alias="A">
            <key-map field-name="contentId"/>
        </view-link>
        <view-link rel-entity-alias="C" entity-alias="A">
            <key-map field-name="workEffortContentTypeId"/>
        </view-link> 
        <view-link rel-entity-alias="D" entity-alias="B">
            <key-map field-name="dataResourceId"/>
        </view-link>               
    </view-entity>
    
    <view-entity entity-name="WorkEffortMeasAndAcctgTransAndEntry" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffortMeasure"/>
        <member-entity entity-alias="B" entity-name="AcctgTrans"/>
        <member-entity entity-alias="C" entity-name="AcctgTransEntry"/>
        <alias name="workEffortMeasureId" entity-alias="A"/>
        <alias name="workEffortId" entity-alias="A"/>
        <alias name="glAccountId" entity-alias="A"/>
        <alias name="acctgTransId" entity-alias="B"/>
        <alias name="amount" entity-alias="C"/>
        <alias name="transactionDate" entity-alias="B"/>
        <alias name="glFiscalTypeId" entity-alias="B"/>
        <view-link rel-entity-alias="B" entity-alias="A">
            <key-map field-name="workEffortMeasureId" rel-field-name="voucherRef"/>
        </view-link>
        <view-link rel-entity-alias="C" entity-alias="B">
            <key-map field-name="acctgTransId"/>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="QueryConfigCond" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="QueryConfig"/>
        <alias-all entity-alias="A"/>                     
    </view-entity>
    
    <view-entity entity-name="QueryConfigView" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="QueryConfig"/>
        <alias-all entity-alias="A"/>                     
    </view-entity>  
    
    <view-entity entity-name="StatusItemValidChangeStatusType" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="StatusValidChange"/>
        <member-entity entity-alias="B" entity-name="StatusItem"/>
        <member-entity entity-alias="C" entity-name="StatusType"/>
        <member-entity entity-alias="D" entity-name="StatusItem"/>
        <member-entity entity-alias="E" entity-name="StatusType"/>
        <alias-all entity-alias="A"/>
        <alias entity-alias="B" field="sequenceId" name="statusSeq"/>
        <alias entity-alias="B" field="description" name="statusDesc"/>
        <alias entity-alias="B" field="descriptionLang" name="statusDescLang"/>
        <alias entity-alias="C" name="statusTypeId"/>
        <alias entity-alias="C" field="description" name="statusTypeDesc"/>
        <alias entity-alias="D" field="sequenceId" name="statusToSeq"/>
        <alias entity-alias="D" field="description" name="statusToDesc"/>
        <alias entity-alias="D" field="descriptionLang" name="statusToDescLang"/>
        <alias entity-alias="E" field="statusTypeId" name="statusToTypeId"/>
        <alias entity-alias="E" field="description" name="statusToTypeDesc"/>
        <view-link rel-entity-alias="B" entity-alias="A">
            <key-map field-name="statusId"/>
        </view-link> 
        <view-link rel-entity-alias="C" entity-alias="B">
            <key-map field-name="statusTypeId"/>
        </view-link> 
        <view-link rel-entity-alias="D" entity-alias="A">
            <key-map field-name="statusIdTo" rel-field-name="statusId"/>
        </view-link>
        <view-link rel-entity-alias="E" entity-alias="D">
            <key-map field-name="statusTypeId"/>
        </view-link>                              
    </view-entity>  
    
    <view-entity entity-name="WorkEffortStatusValidChange" package-name="org.ofbiz.workeffort.workeffort">
        <member-entity entity-alias="A" entity-name="WorkEffortStatus"/>
        <member-entity entity-alias="B" entity-name="StatusValidChange"/>
        <alias-all entity-alias="A"/>
        <alias name="statusIdTo" entity-alias="B"/>
        <view-link rel-entity-alias="B" entity-alias="A">
             <key-map field-name="statusId"/>
        </view-link>
    </view-entity>
</entitymodel>
