<?xml version="1.0" encoding="UTF-8"?>

<forms xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-form.xsd">

    <!-- ********************************************************************** -->
    <!-- WorkEffortStatus -->
    <!-- ********************************************************************** -->
    <form name="WorkEffortStatusManagementForm" id="WESM001_WorkEffortStatus" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <read-only>
            <not>
                <or>
                    <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                    <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                    <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                    <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                </or>
            </not>
        </read-only>
        <row-actions>
            <set field="statusDatetimeView" from-field="statusDatetime" type="Date"/>
        </row-actions>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortStatus"/>
        </field>
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="statusDatetime" required-field="true" sort-field="true" use-when="isInsertMode">
            <date-time type="date"/>
        </field>
        <field name="statusDatetime" required-field="true" sort-field="true" use-when="!isInsertMode">
            <hidden/>
        </field>
        <field name="statusDatetimeView" title="${uiLabelMap.FormFieldTitle_statusDatetime}" required-field="true" sort-field="true" use-when="!isInsertMode">
            <date-time type="date" read-only="true"/>
        </field>
        <field name="statusId" required-field="true" sort-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="statusId" drop-list-display-field="description">
                <entity-options entity-name="StatusItemAndTypeView" key-field-name="statusId" description="${description}">
                    <!-- select-field sono i campi sui quali viene eseguita la ricerca, se segnati con display=true vengono visualizzati della drop-list -->
                    <select-field field-name="statusTypeDesc" display="true"/>
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="statusId"/>
                    <entity-constraint name="parentTypeId" value="PERFORMANCE_STATUS"/>
                    <!-- campi di ordinamento -->
                    <entity-order-by field-name="statusTypeId"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="reason" sort-field="true">
            <text size="50" maxlength="255" read-only="isReadOnly"/>
        </field>
    </form>  
    <form name="WorkEffortStatusManagementFormForPortlet" style="little" id="WESM001_WorkEffortStatus${bsh: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;workEffortId&quot;)) ? &quot;_&quot; + context.get(&quot;workEffortId&quot;) : &quot;&quot;}" extends="WorkEffortStatusManagementForm">
        <field name="entityName">
            <hidden value="WorkEffortStatus"/>
        </field>
        <field name="statusDatetime">
            <hidden value="${date:nowTimestamp()}"/>
        </field>
        <field name="statusDatetimeView">
            <ignored/>
        </field>
        <field name="statusId">
            <hidden/>
        </field>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortRootStatus"/>
        </field>
        <field name="reason">
            <ignored/>
        </field>
        <field name="resetButton">
            <ignored/>
        </field>
        <field name="saveinsertButton">
            <ignored/>
        </field>
        <field name="deleteButton">
            <ignored/>
        </field>
        <field name="copyButton">
            <ignored/>
        </field>
        <field name="submitButton" widget-style="save-submit-button" title-area-style="hidden">
            <submit/>
        </field>
        <on-event-update-area area-target="${managementPaginationTarget}?screenNameListIndex=${screenNameListIndex}&amp;folderIndex=${folderIndex}&amp;relationTitle=${relationTitle}&amp;entityName=${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;reloadEntityName&quot;)) ? context.get(&quot;reloadEntityName&quot;) : context.get(&quot;entityName&quot;)}&amp;parentEntityName=${parentEntityName}&amp;detail=${parameters.detail}&amp;managementFormType=${managementFormType}&amp;subFolder=${subFolder}&amp;${bsh: return org.ofbiz.base.util.UtilValidate.isNotEmpty(parameters.get(&quot;managementFormName&quot;)) ? &quot;managementFormName=&quot;+parameters.get(&quot;managementFormName&quot;)+&quot;&amp;&quot; : &quot;&quot;}managementFormLocation=${managementFormLocation}&amp;managementScreenName=${managementScreenName}&amp;managementScreenLocation=${managementScreenLocation}&amp;searchFormLocation=${searchFormLocation}&amp;searchFormResultLocation=${searchFormResultLocation}&amp;advancedSearchFormLocation=${advancedSearchFormLocation}&amp;contextManagementScreenName=${contextManagementScreenName}&amp;contextManagementScreenLocation=${contextManagementScreenLocation}&amp;childManagementFormListScreenName=${childManagementFormListScreenName}&amp;childManagementFormListScreenLocation=${childManagementFormListScreenLocation}&amp;contextManagementFormName=${contextManagementFormName}&amp;contextManagementFormLocation=${contextManagementFormLocation}&amp;childManagementFormListLocation=${childManagementFormListLocation}&amp;childManagementDetailTitle=${childManagementDetailTitle}&amp;backAreaId=${backAreaId}&amp;${bsh: import org.ofbiz.base.util.*; UtilValidate.isNotEmpty(context.get(&quot;managementChildExtraParams&quot;)) ? &quot;&amp;&quot; + (StringUtil.replaceString(context.get(&quot;managementChildExtraParams&quot;),&quot;|&quot;,&quot;&amp;&quot;)) : (UtilValidate.isNotEmpty(context.get(&quot;queryString&quot;)) ? &quot;&amp;queryString=&quot; + context.get(&quot;queryString&quot;) : (UtilValidate.isNotEmpty(parameters.get(&quot;queryString&quot;)) ? &quot;&amp;queryString=&quot; + parameters.get(&quot;queryString&quot;) : &quot;&quot;))}&amp;childManagement=${childManagement}${bsh: return org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;extraParams&quot;)) ? &quot;&amp;&quot; + context.get(&quot;extraParams&quot;) : &quot;&quot;}&amp;${bsh: org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;orderBy&quot;)) ? &quot;&amp;orderBy=&quot; + context.get(&quot;orderBy&quot;) : (org.ofbiz.base.util.UtilValidate.isNotEmpty(parameters.get(&quot;orderBy&quot;)) ? &quot;&amp;orderBy=&quot; + parameters.get(&quot;orderBy&quot;) : &quot;&quot;)}${bsh: org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;pkQueryString&quot;)) &amp;&amp; (!&quot;Y&quot;.equals(parameters.get(&quot;insertMode&quot;)) &amp;&amp; !&quot;CREATE&quot;.equals(parameters.get(&quot;operation&quot;))) ? &quot;&amp;&quot; + org.ofbiz.base.util.StringUtil.replaceString(context.get(&quot;pkQueryString&quot;),&quot;|&quot;,&quot;&amp;&quot;) : &quot;&quot;}&amp;oldManagementFormType=${parameters.oldManagementFormType}" event-type="submit" area-id="${managementPaginationAreaId}"/>
<!--        <on-event-update-area area-target="${managementPaginationTarget}?screenNameListIndex=${screenNameListIndex}&amp;folderIndex=${folderIndex}&amp;relationTitle=${relationTitle}&amp;entityName=${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;reloadEntityName&quot;)) ? context.get(&quot;reloadEntityName&quot;) : context.get(&quot;entityName&quot;)}&amp;parentEntityName=${parentEntityName}&amp;detail=${parameters.detail}&amp;managementFormType=${managementFormType}&amp;subFolder=${subFolder}&amp;${bsh: return org.ofbiz.base.util.UtilValidate.isNotEmpty(parameters.get(&quot;managementFormName&quot;)) ? &quot;managementFormName=&quot;+parameters.get(&quot;managementFormName&quot;)+&quot;&amp;&quot; : &quot;&quot;}managementFormLocation=${managementFormLocation}&amp;managementScreenName=${managementScreenName}&amp;managementScreenLocation=${managementScreenLocation}&amp;searchFormLocation=${searchFormLocation}&amp;searchFormResultLocation=${searchFormResultLocation}&amp;advancedSearchFormLocation=${advancedSearchFormLocation}&amp;contextManagementScreenName=${contextManagementScreenName}&amp;contextManagementScreenLocation=${contextManagementScreenLocation}&amp;childManagementFormListScreenName=${childManagementFormListScreenName}&amp;childManagementFormListScreenLocation=${childManagementFormListScreenLocation}&amp;contextManagementFormName=${contextManagementFormName}&amp;contextManagementFormLocation=${contextManagementFormLocation}&amp;childManagementFormListLocation=${childManagementFormListLocation}&amp;childManagementDetailTitle=${childManagementDetailTitle}&amp;backAreaId=${backAreaId}&amp;${bsh: import org.ofbiz.base.util.*; UtilValidate.isNotEmpty(context.get(&quot;managementChildExtraParams&quot;)) ? &quot;&amp;&quot; + (StringUtil.replaceString(context.get(&quot;managementChildExtraParams&quot;),&quot;|&quot;,&quot;&amp;&quot;)) : (UtilValidate.isNotEmpty(context.get(&quot;queryString&quot;)) ? &quot;&amp;queryString=&quot; + context.get(&quot;queryString&quot;) : (UtilValidate.isNotEmpty(parameters.get(&quot;queryString&quot;)) ? &quot;&amp;queryString=&quot; + parameters.get(&quot;queryString&quot;) : &quot;&quot;))}&amp;childManagement=${childManagement}${bsh: return org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;otherExtraParams&quot;)) ? &quot;&amp;&quot; + context.get(&quot;otherExtraParams&quot;) : &quot;&quot;}&amp;${bsh: org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;orderBy&quot;)) ? &quot;&amp;orderBy=&quot; + context.get(&quot;orderBy&quot;) : (org.ofbiz.base.util.UtilValidate.isNotEmpty(parameters.get(&quot;orderBy&quot;)) ? &quot;&amp;orderBy=&quot; + parameters.get(&quot;orderBy&quot;) : &quot;&quot;)}${bsh: org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;pkQueryString&quot;)) &amp;&amp; (!&quot;Y&quot;.equals(parameters.get(&quot;insertMode&quot;)) &amp;&amp; !&quot;CREATE&quot;.equals(parameters.get(&quot;operation&quot;))) ? &quot;&amp;&quot; + org.ofbiz.base.util.StringUtil.replaceString(context.get(&quot;pkQueryString&quot;),&quot;|&quot;,&quot;&amp;&quot;) : &quot;&quot;}&amp;oldManagementFormType=${parameters.oldManagementFormType}" event-type="submit" area-id="${otherExtraAreaId}"/>-->
    </form>   
</forms>
