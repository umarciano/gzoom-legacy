<?xml version="1.0" encoding="UTF-8"?>

<forms xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-form.xsd">

    <form name="WorkEffortViewSearchForm" extends="BaseSearchForm" extends-resource="component://base/widget/BaseForms.xml" append-field="false">
        <actions>
            <set field="orderBy" from-field="parameters.orderBy" default-value="workEffortId"/>
        </actions>   
        <field name="gpMenuOrgUnitRoleTypeId" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="hideIsRootActive" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="hideChildStruct" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="definition" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="organizationId">
            <hidden value="${defaultOrganizationPartyId}"/>
        </field>   
        <field name="orgUnitId" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <drop-down type="drop-list" maxlength="255" size="68" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="partyNameLang">
            	<entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${parentRoleCode} - ${partyNameLang}" distinct="true">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="parentRoleCode"/>
                    <select-field field-name="partyNameLang" display="true" description="@{parentRoleCode} - @{partyNameLang}"/>
                    <entity-constraint name="parentRoleTypeId" value="ORGANIZATION_UNIT"/>
                    <entity-constraint name="roleTypeId" env-name="orgUnitRoleTypeId" lookup-for-field-name="orgUnitRoleTypeId"/>
                    <entity-order-by field-name="parentRoleCode"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="orgUnitId" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <drop-down type="drop-list" maxlength="255" size="68" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="partyName">
            	<entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${parentRoleCode} - ${partyName}" distinct="true">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="parentRoleCode"/>
                    <select-field field-name="partyName" display="true" description="@{parentRoleCode} - @{partyName}"/>
                    <entity-constraint name="parentRoleTypeId" value="ORGANIZATION_UNIT"/>
                    <entity-constraint name="roleTypeId" env-name="orgUnitRoleTypeId" lookup-for-field-name="orgUnitRoleTypeId"/>
                    <entity-order-by field-name="parentRoleCode"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="workEffortTypeId" entry-name="parameters.workEffortTypeId">
            <drop-down type="drop-list" maxlength="255" size="68" local-autocompleter="false" drop-list-key-field="workEffortTypeId" drop-list-display-field="${workEffortTypeDisplayField}">
                <entity-options entity-name="WorkEffortType" key-field-name="workEffortTypeId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}">
                    <select-field field-name="${workEffortTypeDisplayField}" display="true"/>
                    <select-field field-name="workEffortTypeId"/>
                    <entity-order-by field-name="${workEffortTypeDisplayField}"/>
                </entity-options>            
            </drop-down>
        </field>
        <field name="workEffortId">
            <text-find ignore-case="true" hide-options="ignore-case" size="23"/>
        </field>
        <field name="sourceReferenceId">
            <text-find ignore-case="true" hide-options="ignore-case" size="23"/>
        </field>
        <field name="workEffortName" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <text-find ignore-case="true" hide-options="ignore-case" size="49"/>
        </field>
        <field name="workEffortNameLang" title="${uiLabelMap.FormFieldTitle_workEffortName}" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <text-find ignore-case="true" hide-options="ignore-case" size="49"/>
        </field>
        <field name="currentStatusId">
            <text-find hide-options="ignore-case" type="drop-list" maxlength="255" size="49" local-autocompleter="false" drop-list-key-field="statusId" drop-list-display-field="${currentStatusDisplayField}">
                <entity-options entity-name="StatusItemAndTypeView" key-field-name="statusId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}">
                    <select-field field-name="statusTypeDesc" display="true"/>
                    <select-field field-name="${currentStatusDisplayField}" display="true"/>
                    <select-field field-name="statusId"/>
                    <entity-constraint name="parentTypeId" value="PERFORMANCE_STATUS"/>
                    <entity-order-by field-name="statusTypeId"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </text-find>
        </field>
        <field name="estimatedStartDate">
            <date-find type="date" single-option="true"/>
        </field>
        <field name="estimatedCompletionDate">
            <date-find type="date" single-option="true"/>
        </field>
    </form>

    <form name="WorkEffortViewAdvancedSearchForm" extends="BaseAdvancedSearchForm" extends-resource="component://base/widget/BaseForms.xml">
    </form>

    <form name="WorkEffortViewSearchResultListForm" id="WEVSRL001_WorkEffortView" extends="BaseSearchResultDblClickListForm" extends-resource="component://base/widget/BaseForms.xml">      
        <field name="searchDate">
            <hidden value="${parameters.defaultSearchDate}"/>
        </field>
        <field name="entityName">
            <hidden value="WorkEffortView"/>
        </field>
        <field name="workEffortTypeId">
            <hidden/>
        </field> 
        <field name="gpMenuEnumId" widget-style="ignore_check_modification">
            <hidden value="${parameters.gpMenuEnumId}"/>
        </field>     
        <field name="definition" widget-style="ignore_check_modification">
            <hidden value="${parameters.definition}"/>
        </field>
        <field name="withProcess" widget-style="ignore_check_modification">
            <hidden value="${parameters.withProcess}"/>
        </field>          
        <field name="childStruct" widget-style="ignore_check_modification">
            <hidden value="${parameters.childStruct}"/>
        </field>          
        <field name="workEffortId" sort-field="false">
            <display/>
        </field>
        <field name="sourceReferenceId" sort-field="false">
            <display/>
        </field>
        <field name="workEffortName" sort-field="true" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <display/>
        </field>
        <field name="workEffortNameLang" sort-field="true" title="${uiLabelMap.FormFieldTitle_workEffortName}" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <display/>
        </field>
        <field name="weTypeDescription" sort-field="false" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <display/>
        </field>
        <field name="weTypeDescriptionLang" sort-field="false" title="${uiLabelMap.FormFieldTitle_weTypeDescription}" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <display/>
        </field>
        <field name="weStatusDescr" sort-field="true" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <display/>
        </field>
        <field name="weStatusDescrLang" sort-field="true" title="${uiLabelMap.FormFieldTitle_weStatusDescr}" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <display/>
        </field>
        <field name="estimatedStartDate" title="${uiLabelMap.WorkeffortEstimatedStartDateTitle}" sort-field="true">
            <display type="date"/>
        </field>
        <field name="estimatedCompletionDate" title="${uiLabelMap.WorkeffortEstimatedCompletionDateTitle}" sort-field="false">
            <display type="date"/>
        </field>
        <field name="snapshot">
            <hidden value="${parameters.snapshot}"/>
        </field>
    </form>
   
    <form name="WorkEffortViewIsObiettivoManagementForm" id="WorkEffortViewIsObiettivoManagementForm" extends="WorkEffortViewManagementForm">
    	<actions>
    		<!-- default value for isEtchReadOnly -->
            <set field="isEtchReadOnly" value="false" type="Boolean" />
            <set field="isSourceRefReadOnly" value="false" type="Boolean" />
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkWorkEffortViewFormObiettivoReadOnly.groovy"/>
    	</actions>
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only> 
        <field name="isWorkEffortViewFormReadOnly">
            <hidden/>
        </field>                       
        <field name="scheduledStartDate" title="${uiLabelMap.WorkeffortScheduledStartDateTitle}">
            <date-time type="date"/>
        </field>
        <field name="scheduledCompletionDate" title="${uiLabelMap.WorkeffortScheduledCompletionDateTitle}">
            <date-time type="date"/>
        </field>
        <field name="estimatedStartDate" title="${uiLabelMap.WorkeffortEstimatedStartDateTitle}" required-field="true">
            <date-time type="date" read-only="${isEtchReadOnly}"/>
        </field>
        <field name="estimatedCompletionDate" title="${uiLabelMap.WorkeffortEstimatedCompletionDateTitle}" required-field="true">
            <date-time type="date" read-only="${isEtchReadOnly}"/>
        </field>         
        <field name="actualStartDate" title="${uiLabelMap.WorkeffortActualStartDateTitle}">
            <date-time type="date"/>
        </field>
        <field name="actualCompletionDate" title="${uiLabelMap.WorkeffortActualCompletionDateTitle}">
            <date-time type="date"/>
        </field> 
        <field name="estimatedCompletionDate2">
            <ignored/>
        </field>
        <field name="periodFromDate">
            <ignored/>
        </field>
        <field name="periodThruDate">
            <ignored/>
        </field>
        <field name="periodThruDate2">
            <ignored/>
        </field>                        
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="workEffortTypeId" required-field="true" widget-area-style="singleSmall">
            <drop-down show-tooltip="true" tooltip="${parameters.workEffortId}" type="drop-list" read-only="!&quot;Y&quot;.equals(parameters.get(&quot;insertMode&quot;))" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="workEffortTypeId" drop-list-display-field="${workEffortTypeDescDisplayField}">
                <entity-options entity-name="WorkEffortTypeParentRelView" key-field-name="workEffortTypeId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}">
                    <select-field field-name="orgUnitRoleTypeId" display="hidden"/>
                    <select-field field-name="orgUnitRoleTypeId2" display="hidden"/>
                    <select-field field-name="orgUnitRoleTypeId3" display="hidden"/>
                    <select-field field-name="orgUnitRoleTypeDesc" display="hidden"/>
                    <select-field field-name="orgUnitRoleTypeDescLang" display="hidden"/>
                    <select-field field-name="frameEnumId" display="hidden"/>
                    <select-field field-name="parentRelTypeId" display="hidden"/>                    
                    <select-field field-name="parentRelTypeIdRef" display="hidden"/>                    
                    <select-field field-name="parentRelTypeDesc" display="hidden"/>
                    <select-field field-name="parentRelTypeDescLang" display="hidden"/>
                    <select-field field-name="wePurposeTypeIdWe" display="hidden"/>
                    <select-field field-name="purposeEtch" display="hidden"/>                      
                    <select-field field-name="${workEffortTypeDescDisplayField}" display="true"/>
                    <select-field field-name="workEffortTypeId"/>
                    <entity-order-by field-name="${workEffortTypeDescDisplayField}"/>
                </entity-options>
            </drop-down>
        </field>        
        <field name="sourceReferenceId" widget-style="sourceReferenceId" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
            <text size="25" maxlength="60"/>
        </field>
        <field name="sourceReferenceId" widget-style="sourceReferenceId" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}" title-area-style="label hidden" widget-area-style="hidden">
            <text size="25" maxlength="60"/>
        </field>    
        <field name="etch" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
            <text size="25" maxlength="20"/>
        </field>
        <field name="etch" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}" title-area-style="label hidden" widget-area-style="hidden">
            <text size="25" maxlength="20"/>
        </field>              
        <field name="description" title="${uiLabelMap.FormFieldTitle_shortDescription}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="100" rows="2"/>
        </field>        
        <field name="description" title="${descriptionTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="100" rows="2"/>
        </field>
        <field name="descriptionLang" title="${descriptionLangTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="100" rows="2"/>
        </field>          
        <field name="orgUnitId" required-field="true" use-when="! &quot;Y&quot;.equals(context.get(&quot;isWorkEffortViewFormReadOnly&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))">
            <drop-down type="drop-list" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? partyNameLang : partyName}">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${parentRoleCode} - ${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? partyNameLang : partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="parentRoleCode"/>
                    <select-field field-name="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;partyNameLang&quot; : &quot;partyName&quot;}" display="true" description="@{parentRoleCode} - @{${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? &quot;partyNameLang&quot; : &quot;partyName&quot;}}"/>
                    <entity-constraint name="roleTypeId" env-name="orgUnitRoleTypeId" lookup-for-field-name="orgUnitRoleTypeId"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="parentRoleCode"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="workEffortName2">
            <ignored/>
        </field>        
        <field name="workEffortNameLang2">
            <ignored/>
        </field>        
    </form>

    <!-- Attenzione, le action non si ereditano -->
    <form name="WorkEffortViewManagementForm" id="WEVMF0001_WorkEffortView" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <!-- Load UI Labels -->
            <property-map resource="WorkeffortExtUiLabels" map-name="uiLabelMap" global="true"/>
            <!-- default value for isEtchReadOnly -->
            <set field="isEtchReadOnly" value="false" type="Boolean" />
            <set field="isSourceRefReadOnly" value="false" type="Boolean" />
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>           
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getWorkEffortParent.groovy"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkWorkEffortViewFormReadOnly.groovy"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/evaluateCtxTypeParams.groovy"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/executePerformFindPartyRoleOrgUnit.groovy"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/loadWorkEffortViewCard.groovy"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkViewCardPermission.groovy"/>
        </actions>
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <if-compare operator="not-equals" field="isPosted" value="Y"/>
                    <if-compare operator="not-equals" field="crudEnumId" value="NONE"/>
                    <if-compare operator="not-equals" field="crudEnumId" value="INSERT"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="crudService" widget-style="ignore_check_modification">
            <hidden value="crudServiceDefaultOrchestration_WorkEffort"/>
        </field>
        <field name="entityName" widget-style="ignore_check_modification">
            <hidden value="WorkEffort"/>
        </field>
        <field name="_AUTOMATIC_PK_" widget-style="ignore_check_modification">
            <hidden value="Y"/>
        </field>
        <field name="workEffortId" widget-style="ignore_check_modification">
            <hidden/>
        </field>        
        <field name="snapshot" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="searchDate" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="rootTree" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="definition" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="rootInqyTree" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="specialized" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="weIsTemplate" widget-style="ignore_check_modification">
        	<hidden/>
        </field>
        <field name="workEffortIdRoot" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="showCode">
        	<hidden/>
        </field>
        <field name="subFolderExtraParamFields" widget-style="ignore_check_modification">
            <hidden value="rootTree|rootInqyTree|specialized|weIsTemplate|workEffortTypeId|workEffortIdRoot|isObiettivo|searchDate|snapshot"/>
        </field>
        <field name="sourceReferenceId" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showCode&quot;))}">
            <text size="25" maxlength="60"/>
        </field>
        <field name="sourceReferenceId" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showCode&quot;))}" title-area-style="label hidden" widget-area-style="hidden">
            <text size="25" maxlength="60"/>
        </field>        
        <!-- Bug 3994 -->
        <field name="etch" title="${uiLabelMap.FormFieldTitle_weEtch}" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showEtchField&quot;))}">
            <text size="25" maxlength="20"/>
        </field>
        <field name="etch" title="${uiLabelMap.FormFieldTitle_weEtch}" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showEtchField&quot;))}" title-area-style="label hidden" widget-area-style="hidden">
            <text size="25" maxlength="20"/>
        </field>        
        <!-- End 3994 -->
        <field name="workEffortName" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <text size="100" maxlength="2000" read-only="${isEtchReadOnly}" show-tooltip="true" tooltip="${workEffortName}"/>
        </field>        
        <field name="workEffortName" title="${workEffortNameTitle}" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <text size="100" maxlength="2000" read-only="${isEtchReadOnly}" show-tooltip="true" tooltip="${workEffortName}"/>
        </field>
        <field name="workEffortNameLang" title="${workEffortNameLangTitle}" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <text size="100" maxlength="2000" read-only="${isEtchReadOnly}" show-tooltip="true" tooltip="${workEffortNameLang}"/>
        </field>       
        <field name="localNameContentId" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="workEffortParentId" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="wrToOuRoleTypeId" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="wrToOuRoleTypeDesc" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="wetOrgUnitRoleTypeId" widget-style="orgUnitRoleTypeId ignore_check_modification">
            <hidden/>
        </field>
        <field name="wetOrgUnitRoleTypeId2" widget-style="orgUnitRoleTypeId2 ignore_check_modification">
            <hidden/>
        </field>
        <field name="wetOrgUnitRoleTypeId3" widget-style="orgUnitRoleTypeId3 ignore_check_modification">
            <hidden/>
        </field>                
        <field name="wetOrgUnitRoleTypeDesc" use-when="! &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))" widget-style="orgUnitRoleTypeDesc ignore_check_modification">
            <hidden/>
        </field>
        <field name="wetOrgUnitRoleTypeDesc" use-when="&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))" widget-style="orgUnitRoleTypeDescLang ignore_check_modification">
            <hidden/>
        </field>
        <field name="wetFrameEnumId" widget-style="frameEnumId ignore_check_modification">
            <hidden/>
        </field> 
        <field name="wetWePurposeTypeIdWe" widget-style="wePurposeTypeIdWe ignore_check_modification">
        	<hidden/>
        </field>
        <field name="wetPurposeEtch" widget-style="purposeEtch ignore_check_modification">
        	<hidden/>
        </field>
        <field name="wetPurposeEtchLang" widget-style="purposeEtchLang ignore_check_modification">
        	<hidden/>
        </field>                
        <field name="WETATOWorkEffortAssocTypeId" widget-style="parentRelTypeId ignore_check_modification">
            <hidden/>
        </field>
        <field name="wetParentRelTypeDesc" use-when="! &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))" widget-style="parentRelTypeDesc ignore_check_modification">
            <hidden/>
        </field> 
        <field name="wetParentRelTypeDesc" use-when="&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))" widget-style="parentRelTypeDescLang ignore_check_modification">
            <hidden/>
        </field>
        <field name="usePeriod">
            <hidden/>
        </field>
        <field name="description" title="${descriptionFieldLabel}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; UtilValidate.isNotEmpty(context.get(&quot;etchDescr&quot;)) &amp;&amp; (UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;)))}">
            <textarea cols="100" rows="2" read-only="${isEtchReadOnly}"/>
        </field>        
        <field name="description" title="${descriptionTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; UtilValidate.isNotEmpty(context.get(&quot;etchDescr&quot;)) &amp;&amp; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="100" rows="2" read-only="${isEtchReadOnly}"/>
        </field>
        <field name="descriptionLang" title="${descriptionLangTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; UtilValidate.isNotEmpty(context.get(&quot;etchDescr&quot;)) &amp;&amp; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="100" rows="2" read-only="${isEtchReadOnly}"/>
        </field>       
        <field name="organizationId" required-field="true" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
            <drop-down type="drop-list" no-current-selected-key="${defaultOrganizationPartyId}" maxlength="255" size="100" local-autocompleter="true" drop-list-key-field="partyId" drop-list-display-field="groupName">
                <list-options key-name="partyId" list-name="organizationList" description="${groupName}"/>
            </drop-down>
        </field>
        <field name="workEffortTypeId" required-field="true" widget-area-style="singleSmall" use-when="&quot;Y&quot;.equals(context.get(&quot;showType&quot;))">
            <drop-down show-tooltip="true" tooltip="${parameters.workEffortId}" type="drop-list" read-only="!&quot;Y&quot;.equals(parameters.get(&quot;insertMode&quot;))" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="workEffortTypeId" drop-list-display-field="${workEffortTypeDescDisplayField}">
                <entity-options entity-name="WorkEffortTypeParentRelView" key-field-name="workEffortTypeId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}">
                    <select-field field-name="orgUnitRoleTypeId" display="hidden"/>
                    <select-field field-name="orgUnitRoleTypeId2" display="hidden"/>
                    <select-field field-name="orgUnitRoleTypeId3" display="hidden"/>
                    <select-field field-name="orgUnitRoleTypeDesc" display="hidden"/>
                    <select-field field-name="orgUnitRoleTypeDescLang" display="hidden"/>
                    <select-field field-name="frameEnumId" display="hidden"/>
                    <select-field field-name="parentRelTypeId" display="hidden"/>                    
                    <select-field field-name="parentRelTypeIdRef" display="hidden"/>                    
                    <select-field field-name="parentRelTypeDesc" display="hidden"/>
                    <select-field field-name="parentRelTypeDescLang" display="hidden"/>
                    <select-field field-name="wePurposeTypeIdWe" display="hidden"/>
                    <select-field field-name="purposeEtch" display="hidden"/>                      
                    <select-field field-name="${workEffortTypeDescDisplayField}" display="true"/>
                    <select-field field-name="workEffortTypeId"/>
                    <entity-order-by field-name="${workEffortTypeDescDisplayField}"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="workEffortTypeId" use-when="! &quot;Y&quot;.equals(context.get(&quot;showType&quot;))">
            <hidden/>
        </field>
        <field name="typeHierarchyIcon" position="2" title-area-style="hidden-label" widget-style="fa fa-sitemap typeHierarchyIcon" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showHierarchyIcon&quot;))}">
            <image type="icon" tooltip="${uiLabelMap.FormFieldTitle_workEffortTypeHierarchyId}" alternate="${uiLabelMap.FormFieldTitle_workEffortTypeHierarchyId}"/>
        </field>
        <field name="typeHierarchyField" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showHierarchyField&quot;))}">
        	<textarea cols="100" rows="6" read-only="true"/>
        </field>
        <field name="workEffortPurposeTypeId" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}" title="">
             <drop-down type="drop-list" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="workEffortPurposeTypeId" drop-list-display-field="${workEffortPurposeTypeDisplayField}">
                <entity-options entity-name="WorkEffortPurposeType" key-field-name="workEffortPurposeTypeId" description="${${workEffortPurposeTypeDisplayField}}">
                    <select-field field-name="${workEffortPurposeTypeDisplayField}" display="true"/>
                    <select-field field-name="workEffortPurposeTypeId"/>
                    <select-field field-name="workEffortPurposeTypeCode" display="hidden"/>
                    <entity-constraint name="parentTypeId" lookup-for-field-name="wetWePurposeTypeIdWe"/>
                    <entity-order-by field-name="workEffortPurposeTypeCode"/>
                </entity-options>
            </drop-down>
        </field>       
        <field name="workEffortPurposeTypeId" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; UtilValidate.isNotEmpty(workEffortType) &amp;&amp; UtilValidate.isNotEmpty(workEffortType.get(&quot;wePurposeTypeIdWe&quot;))}" title="${workEffortPurposeTypeTitle}">
             <drop-down type="drop-list" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="workEffortPurposeTypeId" drop-list-display-field="${workEffortPurposeTypeDisplayField}">
                <entity-options entity-name="WorkEffortPurposeType" key-field-name="workEffortPurposeTypeId" description="${${workEffortPurposeTypeDisplayField}}">
                    <select-field field-name="${workEffortPurposeTypeDisplayField}" display="true"/>
                    <select-field field-name="workEffortPurposeTypeId"/>
                    <select-field field-name="workEffortPurposeTypeCode" display="hidden"/>
                    <entity-constraint name="parentTypeId" value="${workEffortType.wePurposeTypeIdWe}"/>
                    <entity-order-by field-name="workEffortPurposeTypeCode"/>
                </entity-options>
            </drop-down>
        </field>       
        <field name="productId" title="${uiLabelMap.WorkeffortProductOrService}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(workEffortType) &amp;&amp; &quot;Y&quot;.equals(workEffortType.get(&quot;hasProduct&quot;))}">
            <lookup size="20" description-field-size="100" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpProductForm" modal-lookup="true" key-field-name="productId" description-field-name="internalName" edit-field-name="productMainCode">
                <entity-options entity-name="Product" key-field-name="productId" description="${internalName}">
                    <select-field field-name="productId" display="hidden"/>
                    <select-field field-name="internalName" display="true"/>
                    <entity-constraint name="productId" operator="not-equals" value="ROOT"/>
                    <entity-order-by field-name="productId"/>
                </entity-options>
            </lookup>
        </field>
        <!-- Da visualizzare solo in inserimento -->
        <field name="currentStatusId" required-field="true" use-when="&quot;Y&quot;.equals(parameters.get(&quot;insertMode&quot;))">
            <drop-down type="drop-list" size="100" maxlength="255" local-autocompleter="false" drop-list-key-field="statusId" drop-list-display-field="description">
                <entity-options entity-name="StatusItemAndTypeView" key-field-name="statusId" description="${description}">
                    <!-- select-field sono i campi sui quali viene eseguita la ricerca, se segnati con display=true vengono visualizzati della drop-list -->
                    <select-field field-name="statusTypeDesc" display="true"/>
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="statusId"/>
                    <entity-constraint name="parentTypeId" value="PERFORMANCE_STATUS"/>
                    <!-- campi di ordinamento -->
                    <entity-order-by field-name="statusTypeId"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>    
           
        <field name="scheduledStartDate" title="${uiLabelMap.WorkeffortScheduledStartDateTitle}" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showScheduledDates&quot;))}">
            <date-time type="date"/>
        </field>        
        <field name="scheduledCompletionDate" title="${uiLabelMap.WorkeffortScheduledCompletionDateTitle}" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showScheduledDates&quot;))}">
            <date-time type="date"/>
        </field>       
        <field name="estimatedStartDate" title="${uiLabelMap.WorkeffortEstimatedStartDateTitle}" use-when="${groovy: return (isInsertMode || (org.ofbiz.base.util.UtilValidate.isEmpty(context.get(&quot;usePeriod&quot;)) &amp;&amp; ! &quot;Y&quot;.equals(context.get(&quot;onlyRefDate&quot;))))}" required-field="true">
            <date-time type="date" read-only="${isEtchReadOnly}"/>
        </field>
        <field name="estimatedCompletionDate" title="${uiLabelMap.WorkeffortEstimatedCompletionDateTitle}" use-when="${groovy: return (isInsertMode || (org.ofbiz.base.util.UtilValidate.isEmpty(context.get(&quot;usePeriod&quot;)) &amp;&amp; ! &quot;Y&quot;.equals(context.get(&quot;onlyRefDate&quot;))))}" required-field="true">
            <date-time type="date" read-only="${isEtchReadOnly}"/>
        </field>  
        <field name="estimatedCompletionDate2" title="${uiLabelMap.WorkeffortReferenceDateTitle}" use-when="${groovy: return (isInsertMode || (org.ofbiz.base.util.UtilValidate.isEmpty(context.get(&quot;usePeriod&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;onlyRefDate&quot;))))}" required-field="true">
            <date-time type="date" read-only="${isEtchReadOnly}"/>
        </field>
        <field name="periodFromDate" title="${uiLabelMap.WorkeffortEstimatedStartDateTitle}" required-field="true" use-when="${groovy: return (isInsertMode || (org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;usePeriod&quot;)) &amp;&amp; ! &quot;Y&quot;.equals(context.get(&quot;onlyRefDate&quot;))))}">
            <drop-down type="drop-list" maxlength="255" size="15" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="${customTimePeriodDisplayField}">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${${customTimePeriodDisplayField}}">
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <select-field field-name="${customTimePeriodDisplayField}" display="true"/>
                    <select-field field-name="fromDate" display="hidden"/>
                    <entity-constraint name="periodTypeId" lookup-for-field-name="usePeriod"/>                   
                    <entity-order-by field-name="fromDate"/>
                </entity-options>
            </drop-down>        
        </field>        
        <field name="periodThruDate" title="${uiLabelMap.WorkeffortEstimatedCompletionDateTitle}" required-field="true" use-when="${groovy: return (isInsertMode || (org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;usePeriod&quot;)) &amp;&amp; ! &quot;Y&quot;.equals(context.get(&quot;onlyRefDate&quot;))))}">
            <drop-down type="drop-list" maxlength="255" size="15" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="${customTimePeriodDisplayField}">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${${customTimePeriodDisplayField}}">
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <select-field field-name="${customTimePeriodDisplayField}" display="true"/>
                    <entity-constraint name="periodTypeId" lookup-for-field-name="usePeriod"/>
                    <entity-order-by field-name="fromDate"/>
                </entity-options>
            </drop-down>        
        </field>
        <field name="periodThruDate2" title="${uiLabelMap.WorkeffortReferenceDateTitle}" required-field="true" use-when="${groovy: return (isInsertMode || (org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;usePeriod&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;onlyRefDate&quot;))))}">
            <drop-down type="drop-list" maxlength="255" size="15" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="${customTimePeriodDisplayField}">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${${customTimePeriodDisplayField}}">
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <select-field field-name="${customTimePeriodDisplayField}" display="true"/>
                    <entity-constraint name="periodTypeId" lookup-for-field-name="usePeriod"/>
                    <entity-order-by field-name="fromDate"/>
                </entity-options>
            </drop-down>        
        </field>                                
        <field name="actualStartDate" title="${uiLabelMap.WorkeffortActualStartDateTitle}" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showActualDates&quot;))}">
            <date-time type="date"/>
        </field>        
        <field name="actualCompletionDate" title="${uiLabelMap.WorkeffortActualCompletionDateTitle}" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showActualDates&quot;))}">
            <date-time type="date"/>
        </field>
                
        <field name="orgUnitRoleTypeId" required-field="true" use-when="&quot;Y&quot;.equals(context.get(&quot;showRoleType&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))">
            <drop-down type="drop-list" read-only="readOnlyOrgUnitRoleTypeId || isEtchReadOnly" maxlength="255" size="100" local-autocompleter="true" drop-list-key-field="roleTypeId" drop-list-display-field="descriptionLang">
                <list-options key-name="roleTypeId" list-name="orgUnitRoleTypeList" description="${descriptionLang}"/>
            </drop-down>
        </field>
        
        <field name="orgUnitRoleTypeId" required-field="true" use-when="&quot;Y&quot;.equals(context.get(&quot;showRoleType&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))">
            <drop-down type="drop-list" read-only="readOnlyOrgUnitRoleTypeId || isEtchReadOnly" maxlength="255" size="100" local-autocompleter="true" drop-list-key-field="roleTypeId" drop-list-display-field="description">
                <list-options key-name="roleTypeId" list-name="orgUnitRoleTypeList" description="${description}"/>
            </drop-down>
        </field> 
        <field name="orgUnitRoleTypeId" use-when="! &quot;Y&quot;.equals(context.get(&quot;showRoleType&quot;))">
            <hidden/>
        </field>       
        <!-- -->
        <field name="orgUnitId" required-field="true" use-when="!isEtchReadOnly &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;isWorkEffortViewFormReadOnly&quot;))">
        	<display description="${orgUnitDesc}"/>
        </field>
        <field name="orgUnitId" required-field="true" use-when="!isEtchReadOnly &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;isWorkEffortViewFormReadOnly&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;showUoCode&quot;))">
         	<drop-down type="drop-list" maxlength="255" size="100" local-autocompleter="true" drop-list-key-field="partyId" drop-list-display-field="${orgUnitDisplayField}">
	           <auto-complete choices="1000"/>
	           <list-options key-name="partyId" list-name="partyRoleList" description="${${codeField}} - ${${orgUnitDisplayField}}"/>
	        </drop-down>
        </field> 
        <field name="orgUnitId" required-field="true" use-when="!isEtchReadOnly &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;isWorkEffortViewFormReadOnly&quot;)) &amp;&amp; &quot;NONE&quot;.equals(context.get(&quot;showUoCode&quot;))">
         	<drop-down type="drop-list" maxlength="255" size="100" local-autocompleter="true" drop-list-key-field="partyId" drop-list-display-field="${orgUnitDisplayField}">
	           <auto-complete choices="1000"/>
	           <list-options key-name="partyId" list-name="partyRoleList" description="${${orgUnitDisplayField}}"/>
	        </drop-down>
        </field>                
        <field name="orgUnitId" required-field="true" use-when="isEtchReadOnly">
            <display-entity key-field-name="partyId" entity-name="PartyGroup" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? groupNameLang : groupName}"/>
        </field>
        <field name="workEffortIdFromHasResp">
            <hidden/>
        </field>        
        <field name="assocWeightTOHasResp" widget-style="ignore_check_modification" use-when="${groovy: ! (&quot;Y&quot;.equals(context.get(&quot;showAssocWeightTOHasResp&quot;)))}">
    		<hidden value="100"/>
    	</field>
        <field name="assocWeightTOHasResp" title="${uiLabelMap.FormFieldTitle_assocWeight} ${workEffortTypeDescTOHasResp}" use-when="${groovy: &quot;Y&quot;.equals(context.get(&quot;showAssocWeightTOHasResp&quot;))}" widget-style="numericInSingle" required-field="true">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="workEffortIdToHasResp">
            <hidden/>
        </field>
        <field name="assocWeightFROMHasResp" widget-style="ignore_check_modification" use-when="${groovy: ! (&quot;Y&quot;.equals(context.get(&quot;showAssocWeightFROMHasResp&quot;))) }">
    		<hidden value="100"/>
    	</field>
        <field name="assocWeightFROMHasResp" title="${uiLabelMap.FormFieldTitle_assocWeight} ${workEffortTypeDescFROMHasResp}" use-when="${groovy: &quot;Y&quot;.equals(context.get(&quot;showAssocWeightFROMHasResp&quot;))}" widget-style="numericInSingle" required-field="true">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="responsible" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) || &quot;Y&quot;.equals(context.get(&quot;rootInqyTree&quot;))}">
            <text read-only="true" size="100"/>
        </field>               
        <field name="noteId1" widget-style="ignore_check_modification" use-when="${groovy: return org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;noteId1&quot;))}">
            <hidden/>
        </field>
        <field name="noteInfo1" title="${noteName1}" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;noteId1&quot;)) &amp;&amp; (UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;)))}">
            <textarea cols="100" rows="7"/>
        </field>        
        <field name="noteInfo1" title="${noteInfo1Title}" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;noteId1&quot;)) &amp;&amp; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="100" rows="3"/>
        </field>
        <field name="noteInfo1Lang" title="${noteInfo1LangTitle}" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;noteId1&quot;)) &amp;&amp; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="100" rows="3"/>
        </field>      
        <field name="noteId2" widget-style="ignore_check_modification" use-when="${groovy: return org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;noteId2&quot;))}">
            <hidden/>
        </field>
        <field name="noteInfo2" title="${noteName2}" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;noteId2&quot;)) &amp;&amp; (UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;)))}">
            <textarea cols="100" rows="7"/>
        </field>
        <field name="noteInfo2" title="${noteInfo2Title}" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;noteId2&quot;)) &amp;&amp; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="100" rows="3"/>
        </field>
        <field name="noteInfo2Lang" title="${noteInfo2LangTitle}" use-when="${groovy: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(context.get(&quot;noteId2&quot;)) &amp;&amp; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="100" rows="3"/>
        </field>   
        <field name="uomRangeScoreId" use-when="${groovy: return org.ofbiz.base.util.UtilValidate.isEmpty(context.get(&quot;weTypeUomRangeScoreId&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
            <drop-down type="drop-list" maxlength="255" size="49" local-autocompleter="false" drop-list-key-field="uomRangeId" drop-list-display-field="description">
                <entity-options entity-name="UomRange" key-field-name="uomRangeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="uomRangeId"/>
                    <entity-order-by field-name="uomRangeId"/>
                </entity-options>
            </drop-down>
        </field>
        
        <!-- Presa Visione Scheda di Valutazione -->
        <field name="dataViewCard" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <!-- Pulsante visibile solo con permessi e senza data -->
        <field name="presaVisioneButton" title="${uiLabelMap.WorkEffortCardViewButton}" position="2" widget-style="buttontext" title-area-style="hidden-label" use-when="${groovy: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; context.get(&quot;dataViewCard&quot;) == null &amp;&amp; context.get(&quot;hasViewCardPermission&quot;) == true}">
            <display description="&lt;button type='button' class='smallSubmit' onclick=&quot;if(confirm('${uiLabelMap.WorkEffortCardViewConfirm}')) { window.location.href='updateWorkEffortViewCard?workEffortId=${workEffortId}'; }&quot;&gt;${uiLabelMap.WorkEffortCardViewButton}&lt;/button&gt;"/>
        </field>
        <!-- Label quando gi visionata (qualsiasi utente) -->
        <field name="presaVisioneLabel" title="${uiLabelMap.WorkEffortCardViewTitle}" position="2" use-when="${groovy: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; context.get(&quot;dataViewCard&quot;) != null}">
            <display description="${uiLabelMap.WorkEffortCardViewLabel} ${groovy: context.get(&quot;dataViewCard&quot;) != null ? org.ofbiz.base.util.UtilDateTime.toDateString(context.get(&quot;dataViewCard&quot;), &quot;dd/MM/yyyy HH:mm&quot;) : &quot;&quot;}"/>
        </field>
        <!-- Label quando NON visionata (utente senza permessi) -->
        <field name="presaVisioneNotReviewedLabel" title="" position="2" use-when="${groovy: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; context.get(&quot;dataViewCard&quot;) == null &amp;&amp; context.get(&quot;hasViewCardPermission&quot;) == false}">
            <display description="${uiLabelMap.WorkEffortCardViewNotReviewed}"/>
        </field>
        
        <field name="orgUnitIdListAssocWETATO" widget-style="orgUnitIdListAssocWETATO ignore_check_modification">
            <hidden/>
        </field>
        <field name="wepaPartyIdListAssocWETATO" widget-style="wepaPartyIdListAssocWETATO ignore_check_modification">
            <hidden/>
        </field>        
        <field name="WETATOWorkEffortTypeIdFrom" widget-style="parentRelTypeIdRef ignore_check_modification" use-when="isInsertMode">
            <hidden/>
        </field>      
        <field name="WETATOWorkEffortIdFromShowEtchY" parameter-name="WETATOWorkEffortIdFrom" widget-style="showEtchY" required-field="true" use-when="isInsertMode" title=" " title-area-style="label hidden" widget-area-style="hidden">
            <drop-down type="drop-list" maxlength="255" size="100" read-only="!isInsertMode" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${weEtch} ${workEffortNameField}">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" 
                description="${weEtch}${bsh:import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(weEtch) ? &quot; - &quot; : &quot;&quot;}${${workEffortNameField}}" >
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="weEtch" display="true"/>
                    <select-field field-name="${workEffortNameField}" display="true"/>
                    <select-field field-name="weOrgPartyDescr" display="hidden-disabled"/>
                    <select-field field-name="description" display="hidden-disabled"/>
                    <select-field field-name="sourceReferenceId" display="hidden-disabled"/>
                    <select-field field-name="weTypeDescription" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeId" env-name="WETATOWorkEffortTypeIdFrom" lookup-for-field-name="WETATOWorkEffortTypeIdFrom"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-constraint name="estimatedStartDate" lookup-for-field-name="estimatedCompletionDate" env-name="estimatedCompletionDate" operator="less-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="estimatedCompletionDate" lookup-for-field-name="estimatedStartDate" env-name="estimatedStartDate" operator="greater-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="orgUnitId" operator="in" env-name="orgUnitIdListAssocWETATO" lookup-for-field-name="orgUnitIdListAssocWETATO"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="weEtch, ${workEffortNameField}"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="WETATOWorkEffortIdFromShowEtchC" parameter-name="WETATOWorkEffortIdFrom_2" widget-style="showEtchC" required-field="true" use-when="isInsertMode" title=" " title-area-style="label hidden" widget-area-style="hidden">
            <drop-down type="drop-list" maxlength="255" size="100" read-only="!isInsertMode" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${sourceReferenceId} ${workEffortNameField}">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" 
                description="${sourceReferenceId} - ${${workEffortNameField}}" >
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="sourceReferenceId" display="true"/>
                    <select-field field-name="weEtch" display="hidden-disabled"/>
                    <select-field field-name="${workEffortNameField}" display="true"/>
                    <select-field field-name="weOrgPartyDescr" display="hidden-disabled"/>
                    <select-field field-name="description" display="hidden-disabled"/>
                    <select-field field-name="weTypeDescription" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeId" env-name="WETATOWorkEffortTypeIdFrom" lookup-for-field-name="WETATOWorkEffortTypeIdFrom"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-constraint name="estimatedStartDate" lookup-for-field-name="estimatedCompletionDate" env-name="estimatedCompletionDate" operator="less-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="estimatedCompletionDate" lookup-for-field-name="estimatedStartDate" env-name="estimatedStartDate" operator="greater-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="orgUnitId" operator="in" env-name="orgUnitIdListAssocWETATO" lookup-for-field-name="orgUnitIdListAssocWETATO"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="sourceReferenceId, ${workEffortNameField}"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="WETATOWorkEffortIdFromShowEtchYAss" parameter-name="WETATOWorkEffortIdFrom_3" widget-style="showEtchY" required-field="true" use-when="isInsertMode" title=" " title-area-style="label hidden" widget-area-style="hidden">
            <drop-down type="drop-list" maxlength="255" size="100" read-only="!isInsertMode" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${weEtch} ${workEffortNameField}">
                <entity-options entity-name="WorkEffortViewAss" key-field-name="workEffortId" 
                description="${weEtch}${bsh:import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(weEtch) ? &quot; - &quot; : &quot;&quot;}${${workEffortNameField}}" >
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="weEtch" display="true"/>
                    <select-field field-name="${workEffortNameField}" display="true"/>
                    <select-field field-name="weOrgPartyDescr" display="hidden-disabled"/>
                    <select-field field-name="description" display="hidden-disabled"/>
                    <select-field field-name="sourceReferenceId" display="hidden-disabled"/>
                    <select-field field-name="weTypeDescription" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeId" env-name="WETATOWorkEffortTypeIdFrom" lookup-for-field-name="WETATOWorkEffortTypeIdFrom"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-constraint name="estimatedStartDate" lookup-for-field-name="estimatedCompletionDate" env-name="estimatedCompletionDate" operator="less-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="estimatedCompletionDate" lookup-for-field-name="estimatedStartDate" env-name="estimatedStartDate" operator="greater-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="orgUnitId" operator="in" env-name="orgUnitIdListAssocWETATO" lookup-for-field-name="orgUnitIdListAssocWETATO"/>
                    <entity-constraint name="wepaPartyId" operator="in" env-name="wepaPartyIdListAssocWETATO" lookup-for-field-name="wepaPartyIdListAssocWETATO"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="weEtch, ${workEffortNameField}"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="WETATOWorkEffortIdFromShowEtchCAss" parameter-name="WETATOWorkEffortIdFrom_4" widget-style="showEtchC" required-field="true" use-when="isInsertMode" title=" " title-area-style="label hidden" widget-area-style="hidden">
            <drop-down type="drop-list" maxlength="255" size="100" read-only="!isInsertMode" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${sourceReferenceId} ${workEffortNameField}">
                <entity-options entity-name="WorkEffortViewAss" key-field-name="workEffortId" 
                description="${sourceReferenceId} - ${${workEffortNameField}}" >
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="sourceReferenceId" display="true"/>
                    <select-field field-name="weEtch" display="hidden-disabled"/>
                    <select-field field-name="${workEffortNameField}" display="true"/>
                    <select-field field-name="weOrgPartyDescr" display="hidden-disabled"/>
                    <select-field field-name="description" display="hidden-disabled"/>
                    <select-field field-name="weTypeDescription" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeId" env-name="WETATOWorkEffortTypeIdFrom" lookup-for-field-name="WETATOWorkEffortTypeIdFrom"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-constraint name="estimatedStartDate" lookup-for-field-name="estimatedCompletionDate" env-name="estimatedCompletionDate" operator="less-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="estimatedCompletionDate" lookup-for-field-name="estimatedStartDate" env-name="estimatedStartDate" operator="greater-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="orgUnitId" operator="in" env-name="orgUnitIdListAssocWETATO" lookup-for-field-name="orgUnitIdListAssocWETATO"/>
                    <entity-constraint name="wepaPartyId" operator="in" env-name="wepaPartyIdListAssocWETATO" lookup-for-field-name="wepaPartyIdListAssocWETATO"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="sourceReferenceId, ${workEffortNameField}"/>
                </entity-options>
            </drop-down>
        </field>        
        <field name="WETATOAassocWeight" widget-style="ignore_check_modification" use-when="isInsertMode">
        	<hidden value="100"/>
        </field>  
        <field name="orgUnitIdListAssoc0" widget-style="orgUnitIdListAssoc0 ignore_check_modification">
            <hidden/>
        </field>
        <field name="wepaPartyIdListAssoc0" widget-style="wepaPartyIdListAssoc0 ignore_check_modification">
            <hidden/>
        </field>        
        <field name="wefromWetoEnumId0" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId0&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortAssocTypeId0" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId0&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortTypeId0" widget-style="submit-field ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId0&quot;))}">
        	<hidden/>
        </field>
        <field name="workEffortIdFrom0" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId0&quot;))}" title="${workEffortTypeDesc0}">
            <drop-down type="drop-list" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${weOrgPartyDescrValue0} ${weEtchValue0} ${workEffortNameValue0}">
                 <entity-options entity-name="WorkEffortView${entityNameExtended0}${Ass0}" key-field-name="workEffortId" 
                 description="${${weOrgPartyDescrValue0}}${${weEtchValue0}}${bsh:import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(weEtchValue0) ? &quot; - &quot; : &quot;&quot;}${${workEffortNameValue0}}" >
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="${weEtchValue0}" display="true"/>
                    <select-field field-name="${weOrgPartyDescrField}" display="hidden-disabled"/>   
                    <select-field field-name="${workEffortNameField}" display="true" description="${workEffortNameDescription0}"/>
                    <select-field field-name="${workEffortTypeDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="${workEffortDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="sourceReferenceId" display="hidden-disabled"/>
                    <select-field field-name="description" display="hidden-disabled"/>                    
                    <entity-constraint name="workEffortTypeId" operator="in" env-name="workEffortTypeId0"/>
                    <entity-constraint name="assB1" env-name="assB10" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assB2" env-name="assB20" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA1" env-name="assA10" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA2" env-name="assA20" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA3" env-name="assA30" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="workEffortIdRef" env-name="workEffortIdRef0" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevel4" env-name="workEffortLevel40" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevelA3" env-name="workEffortLevelA30" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-constraint name="estimatedStartDate" env-name="parentWe.estimatedCompletionDate" operator="less-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="estimatedCompletionDate" env-name="parentWe.estimatedStartDate" operator="greater-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="orgUnitId" operator="in" env-name="orgUnitIdListAssoc0" lookup-for-field-name="orgUnitIdListAssoc0"/>
                    <entity-constraint name="wepaPartyId" operator="in" env-name="wepaPartyIdListAssoc0" lookup-for-field-name="wepaPartyIdListAssoc0" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="organizationId" value="${orgUnitIdRelation0}"/>
                    <entity-order-by field-name="${orderByField0}"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="linkFrom0" position="2" widget-style="buttontext" title-area-style="hidden-label" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortIdFrom0&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showRootLink0&quot;))}">
            <hyperlink link-type="anchor" target-type="intra-app" description="${uiLabelMap.WorkeffortRoot}" target="#"/>
            <on-field-event-update-area area-id="common-container" target-type="plain" area-target="workEffortAssocExtViewToManagementContainerOnly?entityName=WorkEffortView&amp;parentEntityName=WorkEffortAssocExtView&amp;workEffortId=${fromWorkEffortParentId0}&amp;rootInqyTree=Y&amp;contextManagement=N&amp;saveView=current&amp;ajaxRequest=Y&amp;contentId=WEFLD_MAIN&amp;folderIndex=0&amp;rootTree=Y&amp;loadTreeView=Y&amp;forcedBackAreaId=${groovy: return org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;forcedBackAreaId&quot;)) ? context.get(&quot;forcedBackAreaId&quot;) : parameters.get(&quot;forcedBackAreaId&quot;)}&amp;ignoreFolderIndex=Y&amp;ignoreSelectedIdFromCookie=Y&amp;specialized=Y" event-type="click"/>
        </field>        
        <field name="assocWeight0" widget-style="ignore_check_modification" use-when="${groovy: ! (&quot;Y&quot;.equals(context.get(&quot;showAssocWeight0&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId0&quot;)))}">
    		<hidden value="100"/>
    	</field>
        <field name="assocWeight0" title="${uiLabelMap.FormFieldTitle_assocWeight} ${workEffortTypeDesc0}" use-when="${groovy: &quot;Y&quot;.equals(context.get(&quot;showAssocWeight0&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId0&quot;))}" widget-style="numericInSingle" required-field="true">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="orgUnitIdListAssoc1" widget-style="orgUnitIdListAssoc1 ignore_check_modification">
            <hidden/>
        </field>
        <field name="wepaPartyIdListAssoc1" widget-style="wepaPartyIdListAssoc1 ignore_check_modification">
            <hidden/>
        </field>         
        <field name="wefromWetoEnumId1" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId1&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortAssocTypeId1" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId1&quot;))}">
        	<hidden/>
        </field>
        <field name="workEffortTypeId1" widget-style="submit-field ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId1&quot;))}">
        	<hidden/>
        </field>
        <field name="workEffortIdFrom1" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId1&quot;))}" title="${workEffortTypeDesc1}">
            <drop-down type="drop-list" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${weOrgPartyDescrValue1} ${weEtchValue1} ${workEffortNameValue1}">
                 <entity-options entity-name="WorkEffortView${entityNameExtended1}${Ass1}" key-field-name="workEffortId" 
                 description="${${weOrgPartyDescrValue1}}${${weEtchValue1}}${bsh:import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(weEtchValue1) ? &quot; - &quot; : &quot;&quot;}${${workEffortNameValue1}}" >
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="${weEtchValue1}" display="true"/>
                    <select-field field-name="${weOrgPartyDescrField}" display="hidden-disabled"/>   
                    <select-field field-name="${workEffortNameField}" display="true" description="${workEffortNameDescription1}"/>
                    <select-field field-name="${workEffortTypeDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="${workEffortDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="sourceReferenceId" display="hidden-disabled"/>
                    <select-field field-name="description" display="hidden-disabled"/>                    
                    <entity-constraint name="workEffortTypeId" operator="in" env-name="workEffortTypeId1"/>
                    <entity-constraint name="assB1" env-name="assB11" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assB2" env-name="assB21" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA1" env-name="assA11" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA2" env-name="assA21" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA3" env-name="assA31" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="workEffortIdRef" env-name="workEffortIdRef1" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevel4" env-name="workEffortLevel41" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevelA3" env-name="workEffortLevelA31" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-constraint name="estimatedStartDate" env-name="parentWe.estimatedCompletionDate" operator="less-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="estimatedCompletionDate" env-name="parentWe.estimatedStartDate" operator="greater-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="orgUnitId" operator="in" env-name="orgUnitIdListAssoc1" lookup-for-field-name="orgUnitIdListAssoc1"/>
                    <entity-constraint name="wepaPartyId" operator="in" env-name="wepaPartyIdListAssoc1" lookup-for-field-name="wepaPartyIdListAssoc1" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="organizationId" value="${orgUnitIdRelation1}"/>
                    <entity-order-by field-name="${orderByField1}"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="linkFrom1" position="2" widget-style="buttontext" title-area-style="hidden-label" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortIdFrom1&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showRootLink1&quot;))}">
            <hyperlink link-type="anchor" target-type="intra-app" description="${uiLabelMap.WorkeffortRoot}" target="#"/>
            <on-field-event-update-area area-id="common-container" target-type="plain" area-target="workEffortAssocExtViewToManagementContainerOnly?entityName=WorkEffortView&amp;parentEntityName=WorkEffortAssocExtView&amp;workEffortId=${fromWorkEffortParentId1}&amp;rootInqyTree=Y&amp;contextManagement=N&amp;saveView=current&amp;ajaxRequest=Y&amp;contentId=WEFLD_MAIN&amp;folderIndex=0&amp;rootTree=Y&amp;loadTreeView=Y&amp;forcedBackAreaId=${groovy: return org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;forcedBackAreaId&quot;)) ? context.get(&quot;forcedBackAreaId&quot;) : parameters.get(&quot;forcedBackAreaId&quot;)}&amp;ignoreFolderIndex=Y&amp;ignoreSelectedIdFromCookie=Y&amp;specialized=Y" event-type="click"/>
        </field>
        <field name="assocWeight1" widget-style="ignore_check_modification" use-when="${groovy: ! (!isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId1&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showAssocWeight1&quot;)))}">
    		<hidden value="100"/>
    	</field>        
        <field name="assocWeight1" title="${uiLabelMap.FormFieldTitle_assocWeight} ${workEffortTypeDesc1}" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId1&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showAssocWeight1&quot;))}" widget-style="numericInSingle" required-field="true">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="orgUnitIdListAssoc2" widget-style="orgUnitIdListAssoc2 ignore_check_modification">
            <hidden/>
        </field>
        <field name="wepaPartyIdListAssoc2" widget-style="wepaPartyIdListAssoc2 ignore_check_modification">
            <hidden/>
        </field>         
        <field name="wefromWetoEnumId2" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId2&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortAssocTypeId2" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId2&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortTypeId2" widget-style="submit-field ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId2&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortIdFrom2" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId2&quot;))}" title="${workEffortTypeDesc2}">
            <drop-down type="drop-list" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${weOrgPartyDescrValue2} ${weEtchValue2} ${workEffortNameValue2}">
                 <entity-options entity-name="WorkEffortView${entityNameExtended2}${Ass2}" key-field-name="workEffortId" 
                 description="${${weOrgPartyDescrValue2}}${${weEtchValue2}}${bsh:import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(weEtchValue2) ? &quot; - &quot; : &quot;&quot;}${${workEffortNameValue2}}" >
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="${weEtchValue2}" display="true"/>
                    <select-field field-name="${weOrgPartyDescrField}" display="hidden-disabled"/>   
                    <select-field field-name="${workEffortNameField}" display="true" description="${workEffortNameDescription2}"/>
                    <select-field field-name="${workEffortTypeDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="${workEffortDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="sourceReferenceId" display="hidden-disabled"/>
                    <select-field field-name="description" display="hidden-disabled"/>                    
                    <entity-constraint name="workEffortTypeId" operator="in" env-name="workEffortTypeId2"/>
                    <entity-constraint name="assB1" env-name="assB12" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assB2" env-name="assB22" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA1" env-name="assA12" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA2" env-name="assA22" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA3" env-name="assA32" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="workEffortIdRef" env-name="workEffortIdRef2" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevel4" env-name="workEffortLevel42" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevelA3" env-name="workEffortLevelA32" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-constraint name="estimatedStartDate" env-name="parentWe.estimatedCompletionDate" operator="less-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="estimatedCompletionDate" env-name="parentWe.estimatedStartDate" operator="greater-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="orgUnitId" operator="in" env-name="orgUnitIdListAssoc2" lookup-for-field-name="orgUnitIdListAssoc2"/>
                    <entity-constraint name="wepaPartyId" operator="in" env-name="wepaPartyIdListAssoc2" lookup-for-field-name="wepaPartyIdListAssoc2" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="organizationId" value="${orgUnitIdRelation2}"/>
                    <entity-order-by field-name="${orderByField2}"/>
                </entity-options>
            </drop-down>
        </field> 
        <field name="linkFrom2" position="2" widget-style="buttontext" title-area-style="hidden-label" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortIdFrom2&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showRootLink2&quot;))}">
            <hyperlink link-type="anchor" target-type="intra-app" description="${uiLabelMap.WorkeffortRoot}" target="#"/>
            <on-field-event-update-area area-id="common-container" target-type="plain" area-target="workEffortAssocExtViewToManagementContainerOnly?entityName=WorkEffortView&amp;parentEntityName=WorkEffortAssocExtView&amp;workEffortId=${fromWorkEffortParentId2}&amp;rootInqyTree=Y&amp;contextManagement=N&amp;saveView=current&amp;ajaxRequest=Y&amp;contentId=WEFLD_MAIN&amp;folderIndex=0&amp;rootTree=Y&amp;loadTreeView=Y&amp;forcedBackAreaId=${groovy: return org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;forcedBackAreaId&quot;)) ? context.get(&quot;forcedBackAreaId&quot;) : parameters.get(&quot;forcedBackAreaId&quot;)}&amp;ignoreFolderIndex=Y&amp;ignoreSelectedIdFromCookie=Y&amp;specialized=Y" event-type="click"/>
        </field>      
        <field name="assocWeight2" widget-style="ignore_check_modification" use-when="${groovy: ! (&quot;Y&quot;.equals(context.get(&quot;showAssocWeight2&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId2&quot;)))}">
    		<hidden value="100"/>
    	</field>        
        <field name="assocWeight2" title="${uiLabelMap.FormFieldTitle_assocWeight} ${workEffortTypeDesc2}" use-when="${groovy: &quot;Y&quot;.equals(context.get(&quot;showAssocWeight2&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId2&quot;))}" widget-style="numericInSingle" required-field="true">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="orgUnitIdListAssoc3" widget-style="orgUnitIdListAssoc3 ignore_check_modification">
            <hidden/>
        </field>
        <field name="wepaPartyIdListAssoc3" widget-style="wepaPartyIdListAssoc3 ignore_check_modification">
            <hidden/>
        </field>         
        <field name="wefromWetoEnumId3" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId3&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortAssocTypeId3" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId3&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortTypeId3" widget-style="submit-field ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId3&quot;))}">
        	<hidden/>
        </field>  
         <field name="workEffortIdFrom3" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId3&quot;))}" title="${workEffortTypeDesc3}">
            <drop-down type="drop-list" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${weOrgPartyDescrValue3} ${weEtchValue3} ${workEffortNameValue3}">
                 <entity-options entity-name="WorkEffortView${entityNameExtended3}${Ass3}" key-field-name="workEffortId" 
                 description="${${weOrgPartyDescrValue3}}${${weEtchValue3}}${bsh:import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(weEtchValue3) ? &quot; - &quot; : &quot;&quot;}${${workEffortNameValue3}}" >
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="${weEtchValue3}" display="true"/>
                    <select-field field-name="${weOrgPartyDescrField}" display="hidden-disabled"/>   
                    <select-field field-name="${workEffortNameField}" display="true" description="${workEffortNameDescription3}"/>
                    <select-field field-name="${workEffortTypeDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="${workEffortDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="sourceReferenceId" display="hidden-disabled"/>
                    <select-field field-name="description" display="hidden-disabled"/>                    
                    <entity-constraint name="workEffortTypeId" operator="in" env-name="workEffortTypeId3"/>
                    <entity-constraint name="assB1" env-name="assB13" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assB2" env-name="assB23" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA1" env-name="assA13" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA2" env-name="assA23" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA3" env-name="assA33" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="workEffortIdRef" env-name="workEffortIdRef3" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevel4" env-name="workEffortLevel43" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevelA3" env-name="workEffortLevelA33" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-constraint name="estimatedStartDate" env-name="parentWe.estimatedCompletionDate" operator="less-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="estimatedCompletionDate" env-name="parentWe.estimatedStartDate" operator="greater-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="orgUnitId" operator="in" env-name="orgUnitIdListAssoc3" lookup-for-field-name="orgUnitIdListAssoc3"/>
                    <entity-constraint name="wepaPartyId" operator="in" env-name="wepaPartyIdListAssoc3" lookup-for-field-name="wepaPartyIdListAssoc3" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="organizationId" value="${orgUnitIdRelation3}"/>
                    <entity-order-by field-name="${orderByField3}"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="linkFrom3" position="2" widget-style="buttontext" title-area-style="hidden-label" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortIdFrom3&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showRootLink3&quot;))}">
            <hyperlink link-type="anchor" target-type="intra-app" description="${uiLabelMap.WorkeffortRoot}" target="#"/>
            <on-field-event-update-area area-id="common-container" target-type="plain" area-target="workEffortAssocExtViewToManagementContainerOnly?entityName=WorkEffortView&amp;parentEntityName=WorkEffortAssocExtView&amp;workEffortId=${fromWorkEffortParentId3}&amp;rootInqyTree=Y&amp;contextManagement=N&amp;saveView=current&amp;ajaxRequest=Y&amp;contentId=WEFLD_MAIN&amp;folderIndex=0&amp;rootTree=Y&amp;loadTreeView=Y&amp;forcedBackAreaId=${groovy: return org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;forcedBackAreaId&quot;)) ? context.get(&quot;forcedBackAreaId&quot;) : parameters.get(&quot;forcedBackAreaId&quot;)}&amp;ignoreFolderIndex=Y&amp;ignoreSelectedIdFromCookie=Y&amp;specialized=Y" event-type="click"/>
        </field>        
        <field name="assocWeight3" widget-style="ignore_check_modification" use-when="${groovy: ! (&quot;Y&quot;.equals(context.get(&quot;showAssocWeight3&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId3&quot;)))}">
    		<hidden value="100"/>
    	</field>        
        <field name="assocWeight3" title="${uiLabelMap.FormFieldTitle_assocWeight} ${workEffortTypeDesc3}" use-when="${groovy: &quot;Y&quot;.equals(context.get(&quot;showAssocWeight3&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId3&quot;))}" widget-style="numericInSingle" required-field="true">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="orgUnitIdListAssoc4" widget-style="orgUnitIdListAssoc4 ignore_check_modification">
            <hidden/>
        </field>
        <field name="wepaPartyIdListAssoc4" widget-style="wepaPartyIdListAssoc4 ignore_check_modification">
            <hidden/>
        </field>        
        <field name="wefromWetoEnumId4" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId4&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortAssocTypeId4" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId4&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortTypeId4" widget-style="submit-field ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId4&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortIdFrom4" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId4&quot;))}" title="${workEffortTypeDesc4}">
            <drop-down type="drop-list" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${weOrgPartyDescrValue4} ${weEtchValue4} ${workEffortNameValue4}">
                 <entity-options entity-name="WorkEffortView${entityNameExtended4}${Ass4}" key-field-name="workEffortId" 
                 description="${${weOrgPartyDescrValue4}}${${weEtchValue4}}${bsh:import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(weEtchValue4) ? &quot; - &quot; : &quot;&quot;}${${workEffortNameValue4}}" >
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="${weEtchValue4}" display="true"/>
                    <select-field field-name="${weOrgPartyDescrField}" display="hidden-disabled"/>   
                    <select-field field-name="${workEffortNameField}" display="true" description="${workEffortNameDescription4}"/>
                    <select-field field-name="${workEffortTypeDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="${workEffortDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="sourceReferenceId" display="hidden-disabled"/>
                    <select-field field-name="description" display="hidden-disabled"/>                    
                    <entity-constraint name="workEffortTypeId" operator="in" env-name="workEffortTypeId4"/>
                    <entity-constraint name="assB1" env-name="assB14" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assB2" env-name="assB24" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA1" env-name="assA14" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA2" env-name="assA24" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA3" env-name="assA34" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="workEffortIdRef" env-name="workEffortIdRef4" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevel4" env-name="workEffortLevel44" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevelA3" env-name="workEffortLevelA34" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-constraint name="estimatedStartDate" env-name="parentWe.estimatedCompletionDate" operator="less-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="estimatedCompletionDate" env-name="parentWe.estimatedStartDate" operator="greater-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="orgUnitId" operator="in" env-name="orgUnitIdListAssoc4" lookup-for-field-name="orgUnitIdListAssoc4"/>
                    <entity-constraint name="wepaPartyId" operator="in" env-name="wepaPartyIdListAssoc4" lookup-for-field-name="wepaPartyIdListAssoc4" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="organizationId" value="${orgUnitIdRelation4}"/>
                    <entity-order-by field-name="${orderByField4}"/>
                </entity-options>
            </drop-down>
        </field>   
        <field name="linkFrom4" position="2" widget-style="buttontext" title-area-style="hidden-label" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortIdFrom4&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showRootLink4&quot;))}">
            <hyperlink link-type="anchor" target-type="intra-app" description="${uiLabelMap.WorkeffortRoot}" target="#"/>
            <on-field-event-update-area area-id="common-container" target-type="plain" area-target="workEffortAssocExtViewToManagementContainerOnly?entityName=WorkEffortView&amp;parentEntityName=WorkEffortAssocExtView&amp;workEffortId=${fromWorkEffortParentId4}&amp;rootInqyTree=Y&amp;contextManagement=N&amp;saveView=current&amp;ajaxRequest=Y&amp;contentId=WEFLD_MAIN&amp;folderIndex=0&amp;rootTree=Y&amp;loadTreeView=Y&amp;forcedBackAreaId=${groovy: return org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;forcedBackAreaId&quot;)) ? context.get(&quot;forcedBackAreaId&quot;) : parameters.get(&quot;forcedBackAreaId&quot;)}&amp;ignoreFolderIndex=Y&amp;ignoreSelectedIdFromCookie=Y&amp;specialized=Y" event-type="click"/>
        </field>              
        <field name="assocWeight4" widget-style="ignore_check_modification" use-when="${groovy: ! (&quot;Y&quot;.equals(context.get(&quot;showAssocWeight4&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId4&quot;)))}">
    		<hidden value="100"/>
    	</field>        
        <field name="assocWeight4" title="${uiLabelMap.FormFieldTitle_assocWeight} ${workEffortTypeDesc4}" use-when="${groovy: &quot;Y&quot;.equals(context.get(&quot;showAssocWeight4&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId4&quot;))}" widget-style="numericInSingle" required-field="true">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="orgUnitIdListAssoc5" widget-style="orgUnitIdListAssoc5 ignore_check_modification">
            <hidden/>
        </field>
        <field name="wepaPartyIdListAssoc5" widget-style="wepaPartyIdListAssoc5 ignore_check_modification">
            <hidden/>
        </field>         
        <field name="wefromWetoEnumId5" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId5&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortAssocTypeId5" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId5&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortTypeId5" widget-style="submit-field ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId5&quot;))}">
        	<hidden/>
        </field>
        <field name="workEffortIdTo5" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId5&quot;))}" title="${workEffortTypeDesc5}">
            <drop-down type="drop-list" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${weOrgPartyDescrValue5} ${weEtchValue5} ${workEffortNameValue5}">
                <entity-options cache="false" entity-name="WorkEffortView${entityNameExtended5}${Ass5}" key-field-name="workEffortId" 
                description="${${weOrgPartyDescrValue5}}${${weEtchValue5}}${bsh:import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(weEtchValue5) ? &quot; - &quot; : &quot;&quot;}${${workEffortNameValue5}}">                  
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="${weEtchValue5}" display="true"/>
                    <select-field field-name="${workEffortNameField}" display="true" description="${workEffortNameDescription5}"/>
                    <select-field field-name="${workEffortTypeDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="${weOrgPartyDescrField}" display="hidden-disabled"/>
                    <select-field field-name="${workEffortDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="sourceReferenceId" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeId" operator="in" env-name="workEffortTypeId5"/>
                    <entity-constraint name="assB1" env-name="assB15" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assB2" env-name="assB25" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA1" env-name="assA15" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA2" env-name="assA25" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA3" env-name="assA35" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="workEffortIdRef" env-name="workEffortIdRef5" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevel4" env-name="workEffortLevel45" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevelA3" env-name="workEffortLevelA35" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-constraint name="estimatedStartDate" env-name="parentWe.estimatedCompletionDate" operator="less-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="estimatedCompletionDate" env-name="parentWe.estimatedStartDate" operator="greater-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="orgUnitId" operator="in" env-name="orgUnitIdListAssoc5" lookup-for-field-name="orgUnitIdListAssoc5"/>
                    <entity-constraint name="wepaPartyId" operator="in" env-name="wepaPartyIdListAssoc5" lookup-for-field-name="wepaPartyIdListAssoc5" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="organizationId" value="${orgUnitIdRelation5}"/>
                    <entity-order-by field-name="${orderByField5}"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="linkTo5" position="2" widget-style="buttontext" title-area-style="hidden-label" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortIdTo5&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showRootLink5&quot;))}">
            <hyperlink link-type="anchor" target-type="intra-app" description="${uiLabelMap.WorkeffortRoot}" target="#"/>
            <on-field-event-update-area area-id="common-container" target-type="plain" area-target="workEffortAssocExtViewFromManagementContainerOnly?entityName=WorkEffortView&amp;parentEntityName=WorkEffortAssocExtView&amp;workEffortId=${toWorkEffortParentId5}&amp;rootInqyTree=Y&amp;contextManagement=N&amp;saveView=current&amp;ajaxRequest=Y&amp;contentId=WEFLD_MAIN&amp;folderIndex=0&amp;rootTree=Y&amp;loadTreeView=Y&amp;forcedBackAreaId=${groovy: return org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;forcedBackAreaId&quot;)) ? context.get(&quot;forcedBackAreaId&quot;) : parameters.get(&quot;forcedBackAreaId&quot;)}&amp;ignoreFolderIndex=Y&amp;ignoreSelectedIdFromCookie=Y&amp;specialized=Y" event-type="click"/>
        </field>        
         <field name="assocWeight5" widget-style="ignore_check_modification" use-when="${groovy: ! (&quot;Y&quot;.equals(context.get(&quot;showAssocWeight5&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId5&quot;)))}">
    		<hidden value="100"/>
    	</field>        
        <field name="assocWeight5" title="${uiLabelMap.FormFieldTitle_assocWeight} ${workEffortTypeDesc5}" use-when="${groovy: &quot;Y&quot;.equals(context.get(&quot;showAssocWeight5&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId5&quot;))}" widget-style="numericInSingle" required-field="true">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="orgUnitIdListAssoc6" widget-style="orgUnitIdListAssoc6 ignore_check_modification">
            <hidden/>
        </field>
        <field name="wepaPartyIdListAssoc6" widget-style="wepaPartyIdListAssoc6 ignore_check_modification">
            <hidden/>
        </field>        
        <field name="wefromWetoEnumId6" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId6&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortAssocTypeId6" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId6&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortTypeId6" widget-style="submit-field ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId6&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortIdTo6" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId6&quot;))}" title="${workEffortTypeDesc6}">
            <drop-down type="drop-list" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${weOrgPartyDescrValue6} ${weEtchValue6} ${workEffortNameValue6}">
                <entity-options cache="false" entity-name="WorkEffortView${entityNameExtended6}${Ass6}" key-field-name="workEffortId" 
                description="${${weOrgPartyDescrValue6}}${${weEtchValue6}}${bsh:import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(weEtchValue6) ? &quot; - &quot; : &quot;&quot;}${${workEffortNameValue6}}">                  
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="${weEtchValue6}" display="true"/>
                    <select-field field-name="${workEffortNameField}" display="true" description="${workEffortNameDescription6}"/>
                    <select-field field-name="${workEffortTypeDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="${weOrgPartyDescrField}" display="hidden-disabled"/>
                    <select-field field-name="${workEffortDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="sourceReferenceId" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeId" operator="in" env-name="workEffortTypeId6"/>
                    <entity-constraint name="assB1" env-name="assB16" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assB2" env-name="assB26" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA1" env-name="assA16" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA2" env-name="assA26" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA3" env-name="assA36" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="workEffortIdRef" env-name="workEffortIdRef6" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevel4" env-name="workEffortLevel46" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevelA3" env-name="workEffortLevelA36" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-constraint name="estimatedStartDate" env-name="parentWe.estimatedCompletionDate" operator="less-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="estimatedCompletionDate" env-name="parentWe.estimatedStartDate" operator="greater-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="orgUnitId" operator="in" env-name="orgUnitIdListAssoc6" lookup-for-field-name="orgUnitIdListAssoc6"/>
                    <entity-constraint name="wepaPartyId" operator="in" env-name="wepaPartyIdListAssoc6" lookup-for-field-name="wepaPartyIdListAssoc6" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="organizationId" value="${orgUnitIdRelation6}"/>
                    <entity-order-by field-name="${orderByField6}"/>
                </entity-options>
            </drop-down>
        </field>
		<field name="linkTo6" position="2" widget-style="buttontext" title-area-style="hidden-label" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortIdTo6&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showRootLink6&quot;))}">
            <hyperlink link-type="anchor" target-type="intra-app" description="${uiLabelMap.WorkeffortRoot}" target="#"/>
            <on-field-event-update-area area-id="common-container" target-type="plain" area-target="workEffortAssocExtViewFromManagementContainerOnly?entityName=WorkEffortView&amp;parentEntityName=WorkEffortAssocExtView&amp;workEffortId=${toWorkEffortParentId6}&amp;rootInqyTree=Y&amp;contextManagement=N&amp;saveView=current&amp;ajaxRequest=Y&amp;contentId=WEFLD_MAIN&amp;folderIndex=0&amp;rootTree=Y&amp;loadTreeView=Y&amp;forcedBackAreaId=${groovy: return org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;forcedBackAreaId&quot;)) ? context.get(&quot;forcedBackAreaId&quot;) : parameters.get(&quot;forcedBackAreaId&quot;)}&amp;ignoreFolderIndex=Y&amp;ignoreSelectedIdFromCookie=Y&amp;specialized=Y" event-type="click"/>
        </field>         
        <field name="assocWeight6" widget-style="ignore_check_modification" use-when="${groovy: ! (&quot;Y&quot;.equals(context.get(&quot;showAssocWeight6&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId6&quot;)))}">
    		<hidden value="100"/>
    	</field>        
        <field name="assocWeight6" title="${uiLabelMap.FormFieldTitle_assocWeight} ${workEffortTypeDesc6}" use-when="${groovy: &quot;Y&quot;.equals(context.get(&quot;showAssocWeight6&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId6&quot;))}" widget-style="numericInSingle" required-field="true">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="orgUnitIdListAssoc7" widget-style="orgUnitIdListAssoc7 ignore_check_modification">
            <hidden/>
        </field>
        <field name="wepaPartyIdListAssoc7" widget-style="wepaPartyIdListAssoc7 ignore_check_modification">
            <hidden/>
        </field>        
        <field name="wefromWetoEnumId7" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId7&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortAssocTypeId7" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId7&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortTypeId7" widget-style="submit-field ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId7&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortIdTo7" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId7&quot;))}" title="${workEffortTypeDesc7}">
            <drop-down type="drop-list" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${weOrgPartyDescrValue7} ${weEtchValue7} ${workEffortNameValue7}">
                <entity-options cache="false" entity-name="WorkEffortView${entityNameExtended7}${Ass7}" key-field-name="workEffortId" 
                description="${${weOrgPartyDescrValue7}}${${weEtchValue7}}${bsh:import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(weEtchValue7) ? &quot; - &quot; : &quot;&quot;}${${workEffortNameValue7}}">                  
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="${weEtchValue7}" display="true"/>
                    <select-field field-name="${workEffortNameField}" display="true" description="${workEffortNameDescription7}"/>
                    <select-field field-name="${workEffortTypeDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="${weOrgPartyDescrField}" display="hidden-disabled"/>
                    <select-field field-name="${workEffortDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="sourceReferenceId" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeId" operator="in" env-name="workEffortTypeId7"/>
                    <entity-constraint name="assB1" env-name="assB17" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assB2" env-name="assB27" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA1" env-name="assA17" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA2" env-name="assA27" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA3" env-name="assA37" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="workEffortIdRef" env-name="workEffortIdRef7" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevel4" env-name="workEffortLevel47" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevelA3" env-name="workEffortLevelA37" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-constraint name="estimatedStartDate" env-name="parentWe.estimatedCompletionDate" operator="less-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="estimatedCompletionDate" env-name="parentWe.estimatedStartDate" operator="greater-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="orgUnitId" operator="in" env-name="orgUnitIdListAssoc7" lookup-for-field-name="orgUnitIdListAssoc7"/>
                    <entity-constraint name="wepaPartyId" operator="in" env-name="wepaPartyIdListAssoc7" lookup-for-field-name="wepaPartyIdListAssoc7" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="organizationId" value="${orgUnitIdRelation7}"/>
                    <entity-order-by field-name="${orderByField7}"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="linkTo7" position="2" widget-style="buttontext" title-area-style="hidden-label" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortIdTo7&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showRootLink7&quot;))}">
            <hyperlink link-type="anchor" target-type="intra-app" description="${uiLabelMap.WorkeffortRoot}" target="#"/>
            <on-field-event-update-area area-id="common-container" target-type="plain" area-target="workEffortAssocExtViewFromManagementContainerOnly?entityName=WorkEffortView&amp;parentEntityName=WorkEffortAssocExtView&amp;workEffortId=${toWorkEffortParentId7}&amp;rootInqyTree=Y&amp;contextManagement=N&amp;saveView=current&amp;ajaxRequest=Y&amp;contentId=WEFLD_MAIN&amp;folderIndex=0&amp;rootTree=Y&amp;loadTreeView=Y&amp;forcedBackAreaId=${groovy: return org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;forcedBackAreaId&quot;)) ? context.get(&quot;forcedBackAreaId&quot;) : parameters.get(&quot;forcedBackAreaId&quot;)}&amp;ignoreFolderIndex=Y&amp;ignoreSelectedIdFromCookie=Y&amp;specialized=Y" event-type="click"/>
        </field> 
        <field name="assocWeight7" widget-style="ignore_check_modification" use-when="${groovy: ! (!isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId7&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showAssocWeight7&quot;)))}">
    		<hidden value="100"/>
    	</field>        
        <field name="assocWeight7" title="${uiLabelMap.FormFieldTitle_assocWeight} ${workEffortTypeDesc7}" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId7&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showAssocWeight7&quot;))}" widget-style="numericInSingle" required-field="true">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="orgUnitIdListAssoc8" widget-style="orgUnitIdListAssoc8 ignore_check_modification">
            <hidden/>
        </field>
        <field name="wepaPartyIdListAssoc8" widget-style="wepaPartyIdListAssoc8 ignore_check_modification">
            <hidden/>
        </field>        
        <field name="wefromWetoEnumId8" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId8&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortAssocTypeId8" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId8&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortTypeId8" widget-style="submit-field ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId8&quot;))}">
        	<hidden/>
        </field>
        <field name="workEffortIdTo8" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId8&quot;))}" title="${workEffortTypeDesc8}">
            <drop-down type="drop-list" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${weOrgPartyDescrValue8} ${weEtchValue8} ${workEffortNameValue8}">
                <entity-options cache="false" entity-name="WorkEffortView${entityNameExtended8}${Ass8}" key-field-name="workEffortId" 
                description="${${weOrgPartyDescrValue8}}${${weEtchValue8}}${bsh:import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(weEtchValue8) ? &quot; - &quot; : &quot;&quot;}${${workEffortNameValue8}}">                  
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="${weEtchValue8}" display="true"/>
                    <select-field field-name="${workEffortNameField}" display="true" description="${workEffortNameDescription8}"/>
                    <select-field field-name="${workEffortTypeDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="${weOrgPartyDescrField}" display="hidden-disabled"/>
                    <select-field field-name="${workEffortDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="sourceReferenceId" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeId" operator="in" env-name="workEffortTypeId8"/>
                    <entity-constraint name="assB1" env-name="assB18" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assB2" env-name="assB28" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA1" env-name="assA18" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA2" env-name="assA28" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA3" env-name="assA38" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="workEffortIdRef" env-name="workEffortIdRef8" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevel4" env-name="workEffortLevel48" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevelA3" env-name="workEffortLevelA38" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-constraint name="estimatedStartDate" env-name="parentWe.estimatedCompletionDate" operator="less-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="estimatedCompletionDate" env-name="parentWe.estimatedStartDate" operator="greater-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="orgUnitId" operator="in" env-name="orgUnitIdListAssoc8" lookup-for-field-name="orgUnitIdListAssoc8"/>
                    <entity-constraint name="wepaPartyId" operator="in" env-name="wepaPartyIdListAssoc8" lookup-for-field-name="wepaPartyIdListAssoc8" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="organizationId" value="${orgUnitIdRelation8}"/>
                    <entity-order-by field-name="${orderByField8}"/>
                </entity-options>
            </drop-down>
        </field> 
        <field name="linkTo8" position="2" widget-style="buttontext" title-area-style="hidden-label" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortIdTo8&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showRootLink8&quot;))}">
            <hyperlink link-type="anchor" target-type="intra-app" description="${uiLabelMap.WorkeffortRoot}" target="#"/>
            <on-field-event-update-area area-id="common-container" target-type="plain" area-target="workEffortAssocExtViewFromManagementContainerOnly?entityName=WorkEffortView&amp;parentEntityName=WorkEffortAssocExtView&amp;workEffortId=${toWorkEffortParentId8}&amp;rootInqyTree=Y&amp;contextManagement=N&amp;saveView=current&amp;ajaxRequest=Y&amp;contentId=WEFLD_MAIN&amp;folderIndex=0&amp;rootTree=Y&amp;loadTreeView=Y&amp;forcedBackAreaId=${groovy: return org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;forcedBackAreaId&quot;)) ? context.get(&quot;forcedBackAreaId&quot;) : parameters.get(&quot;forcedBackAreaId&quot;)}&amp;ignoreFolderIndex=Y&amp;ignoreSelectedIdFromCookie=Y&amp;specialized=Y" event-type="click"/>
        </field>              
        <field name="assocWeight8" widget-style="ignore_check_modification" use-when="${groovy: ! (&quot;Y&quot;.equals(context.get(&quot;showAssocWeight8&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId8&quot;)))}">
    		<hidden value="100"/>
    	</field>        
        <field name="assocWeight8" title="${uiLabelMap.FormFieldTitle_assocWeight} ${workEffortTypeDesc8}" use-when="${groovy: &quot;Y&quot;.equals(context.get(&quot;showAssocWeight8&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId8&quot;))}" widget-style="numericInSingle" required-field="true">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="orgUnitIdListAssoc9" widget-style="orgUnitIdListAssoc9 ignore_check_modification">
            <hidden/>
        </field>
        <field name="wepaPartyIdListAssoc9" widget-style="wepaPartyIdListAssoc9 ignore_check_modification">
            <hidden/>
        </field>        
        <field name="wefromWetoEnumId9" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId9&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortAssocTypeId9" widget-style="ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId9&quot;))}">
        	<hidden/>
        </field>  
        <field name="workEffortTypeId9" widget-style="submit-field ignore_check_modification" use-when="${groovy: return !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId9&quot;))}">
        	<hidden/>
        </field>
        <field name="workEffortIdTo9" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId9&quot;))}" title="${workEffortTypeDesc9}">
            <drop-down type="drop-list" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${weOrgPartyDescrValue9} ${weEtchValue9} ${workEffortNameValue9}">
                <entity-options cache="false" entity-name="WorkEffortView${entityNameExtended9}${Ass9}" key-field-name="workEffortId" 
                description="${${weOrgPartyDescrValue9}}${${weEtchValue9}}${bsh:import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(weEtchValue9) ? &quot; - &quot; : &quot;&quot;}${${workEffortNameValue9}}">                  
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="${weEtchValue9}" display="true"/>
                    <select-field field-name="${workEffortNameField}" display="true" description="${workEffortNameDescription9}"/>
                    <select-field field-name="${workEffortTypeDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="${weOrgPartyDescrField}" display="hidden-disabled"/>
                    <select-field field-name="${workEffortDescriptionField}" display="hidden-disabled"/>
                    <select-field field-name="sourceReferenceId" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeId" operator="in" env-name="workEffortTypeId9"/>
                    <entity-constraint name="assB1" env-name="assB19" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assB2" env-name="assB29" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA1" env-name="assA19" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA2" env-name="assA29" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="assA3" env-name="assA39" ignore-if-empty="true" ignore-if-null="true"/>
                    <entity-constraint name="workEffortIdRef" env-name="workEffortIdRef9" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevel4" env-name="workEffortLevel49" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortLevelA3" env-name="workEffortLevelA39" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-constraint name="estimatedStartDate" env-name="parentWe.estimatedCompletionDate" operator="less-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="estimatedCompletionDate" env-name="parentWe.estimatedStartDate" operator="greater-equals" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="orgUnitId" operator="in" env-name="orgUnitIdListAssoc9" lookup-for-field-name="orgUnitIdListAssoc9"/>
                    <entity-constraint name="wepaPartyId" operator="in" env-name="wepaPartyIdListAssoc9" lookup-for-field-name="wepaPartyIdListAssoc9" ignore-if-null="true" ignore-if-empty="true"/>
                    <entity-constraint name="organizationId" value="${orgUnitIdRelation9}"/>
                    <entity-order-by field-name="${orderByField9}"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="linkTo9" position="2" widget-style="buttontext" title-area-style="hidden-label" use-when="${groovy: !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortIdTo9&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showRootLink9&quot;))}">
            <hyperlink link-type="anchor" target-type="intra-app" description="${uiLabelMap.WorkeffortRoot}" target="#"/>
            <on-field-event-update-area area-id="common-container" target-type="plain" area-target="workEffortAssocExtViewFromManagementContainerOnly?entityName=WorkEffortView&amp;parentEntityName=WorkEffortAssocExtView&amp;workEffortId=${toWorkEffortParentId9}&amp;rootInqyTree=Y&amp;contextManagement=N&amp;saveView=current&amp;ajaxRequest=Y&amp;contentId=WEFLD_MAIN&amp;folderIndex=0&amp;rootTree=Y&amp;loadTreeView=Y&amp;forcedBackAreaId=${groovy: return org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;forcedBackAreaId&quot;)) ? context.get(&quot;forcedBackAreaId&quot;) : parameters.get(&quot;forcedBackAreaId&quot;)}&amp;ignoreFolderIndex=Y&amp;ignoreSelectedIdFromCookie=Y&amp;specialized=Y" event-type="click"/>
        </field>                
        <field name="assocWeight9" widget-style="ignore_check_modification" use-when="${groovy: ! (&quot;Y&quot;.equals(context.get(&quot;showAssocWeight9&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId9&quot;)))}">
    		<hidden value="100"/>
    	</field>        
        <field name="assocWeight9" title="${uiLabelMap.FormFieldTitle_assocWeight} ${workEffortTypeDesc9}" use-when="${groovy: &quot;Y&quot;.equals(context.get(&quot;showAssocWeight9&quot;)) &amp;&amp; !isInsertMode &amp;&amp; org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId9&quot;))}" widget-style="numericInSingle" required-field="true">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="workEffortName2" title="${uiLabelMap.FormFieldTitle_workEffortName}" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; isInsertMode &amp;&amp; (UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;)))}">
            <text size="100" maxlength="2000" read-only="${isEtchReadOnly}" show-tooltip="true" tooltip="${workEffortName}"/>
        </field>        
        <field name="workEffortName2" title="${workEffortNameTitle}" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; isInsertMode &amp;&amp; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <text size="100" maxlength="2000" read-only="${isEtchReadOnly}" show-tooltip="true" tooltip="${workEffortName}"/>
        </field>
        <field name="workEffortNameLang2" title="${workEffortNameLangTitle}" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; isInsertMode &amp;&amp; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <text size="100" maxlength="2000" read-only="${isEtchReadOnly}" show-tooltip="true" tooltip="${workEffortNameLang}"/>
        </field>        
        <sort-order>
            <sort-field name="organizationId"/>
            <sort-field name="typeHierarchyField"/>
            <sort-field name="workEffortTypeId"/>          
            <sort-field name="workEffortPurposeTypeId"/>
            <sort-field name="typeHierarchyIcon"/>
            <sort-field name="sourceReferenceId"/>
            <sort-field name="etch"/>            
            <sort-field name="workEffortName"/>
            <sort-field name="workEffortNameLang"/>           
            <sort-field name="description"/>
            <sort-field name="descriptionLang"/>
            <sort-field name="noteInfo1"/>
            <sort-field name="noteInfo1Lang"/>
            <sort-field name="noteInfo2"/>
            <sort-field name="noteInfo2Lang"/>           
            <sort-field name="scheduledStartDate"/>
            <sort-field name="scheduledCompletionDate"/>           
            <sort-field name="estimatedStartDate"/>
            <sort-field name="estimatedCompletionDate"/>            
            <sort-field name="actualStartDate"/>
            <sort-field name="actualCompletionDate"/>            
            <sort-field name="orgUnitRoleTypeId"/>
            <sort-field name="orgUnitId"/>
            <sort-field name="WETATOWorkEffortIdFromShowEtchY"/>
            <sort-field name="WETATOWorkEffortIdFromShowEtchC"/>
            <sort-field name="WETATOWorkEffortIdFromShowEtchYAss"/>
            <sort-field name="WETATOWorkEffortIdFromShowEtchCAss"/>
            <sort-field name="responsible"/>
            <sort-field name="assocWeightFROMHasResp"/>
            <sort-field name="assocWeightTOHasResp"/>
            <sort-field name="productId"/>
            <sort-field name="currentStatusId"/>            
            <sort-field name="uomRangeScoreId"/>
            <sort-field name="presaVisioneButton"/>
            <sort-field name="presaVisioneLabel"/>
            <sort-field name="presaVisioneNotReviewedLabel"/>
            <sort-field name="workEffortIdFrom0"/>
            <sort-field name="linkFrom0"/>
            <sort-field name="assocWeight0"/>
            <sort-field name="workEffortIdFrom1"/>
            <sort-field name="linkFrom1"/>
            <sort-field name="assocWeight1"/>
            <sort-field name="workEffortIdFrom2"/>
            <sort-field name="linkFrom2"/>
            <sort-field name="assocWeight2"/>
            <sort-field name="workEffortIdFrom3"/>
            <sort-field name="linkFrom3"/>
            <sort-field name="assocWeight3"/>
            <sort-field name="workEffortIdFrom4"/>
            <sort-field name="linkFrom4"/>
            <sort-field name="assocWeight4"/>
            <sort-field name="workEffortIdTo5"/>
            <sort-field name="linkTo5"/>
            <sort-field name="assocWeight5"/>
            <sort-field name="workEffortIdTo6"/>
            <sort-field name="linkTo6"/>
            <sort-field name="assocWeight6"/>
            <sort-field name="workEffortIdTo7"/>
            <sort-field name="linkTo7"/>
            <sort-field name="assocWeight7"/>
            <sort-field name="workEffortIdTo8"/>
            <sort-field name="linkTo8"/>
            <sort-field name="assocWeight8"/>
            <sort-field name="workEffortIdTo9"/>
            <sort-field name="linkTo9"/>
            <sort-field name="assocWeight9"/>
            <sort-field name="workEffortName2"/>
            <sort-field name="workEffortNameLang2"/>              
        </sort-order>
    </form>
    
    

    <form name="WorkEffortViewRootManagementForm" id="WEVRMF0001_WorkEffortView" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkWefldOthersScoreParams.groovy"/>
        </actions>
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <if-compare field="isPosted" operator="not-equals" value="Y"/>
                    <if-compare field="crudEnumId" operator="not-equals" value="NONE"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="crudService" widget-style="ignore_check_modification">
            <hidden value="crudServiceDefaultOrchestration_WorkEffort"/>
        </field>
        <field name="entityName" widget-style="ignore_check_modification">
            <hidden value="WorkEffort"/>
        </field>
        <field name="_AUTOMATIC_PK_" widget-style="ignore_check_modification">
            <hidden value="Y"/>
        </field>
        <field name="workEffortId" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="orgUnitRoleTypeId" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="orgUnitId" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="organizationId" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        
        <field name="currentStatusId" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        
        <field name="lastStatusUpdate" widget-style="ignore_check_modification">
            <hidden/>
        </field>

        <field name="group_OtherDataEmpty" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <hidden/>
        </field>

  
        <field name="group_OtherData" title="${uiLabelMap.WorkeffortOtherData}" title-area-style="label field-group-title" title-style="field-group-title" widget-area-style="field-group-title" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <display description="" also-hidden="false"/>
        </field>
        
        <field name="workEffortIdEmpty" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <hidden/>
        </field>
        
        <field name="workEffortId" position="1" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <text size="10" read-only="true"/>
        </field>
              
        <field name="organizationId" required-field="true" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="true" drop-list-key-field="partyId" drop-list-display-field="groupName">
                <list-options key-name="partyId" list-name="organizationList" description="${groupName}"/>
            </drop-down>
        </field>
        
         <field name="organizationIdEmpty" required-field="true" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;)) &amp;&amp; ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <hidden/>
        </field>

        <field name="workEffortParentIdEmpty" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
        	<hidden/>
        </field>

        <field name="workEffortParentId" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" edit-field-name="sourceReferenceId" key-field-name="workEffortId" description-field-name="workEffortName">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>
        
        <field name="estimatedTotalEffortEmpty" widget-style="numericInSingle" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <hidden/>
        </field>

        <field name="estimatedTotalEffort" widget-style="numericInSingle" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <text size="14" maxlength="18"/>
        </field>

        <field name="effortUomIdEmpty" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <hidden/>
        </field>
        
        <field name="effortUomId" position="2" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="uomId" drop-list-display-field="description">
                <entity-options entity-name="Uom" key-field-name="uomId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="uomId"/>
                    <entity-order-by field-name="uomId"/>
                </entity-options>
            </drop-down>
        </field>
        
        <field name="lastCorrectScoreDate" position="2" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <date-time type="date" read-only="${bsh: return &quot;Y&quot;.equals(parameters.get(&quot;rootTree&quot;))}"/>
        </field>
        <field name="lastCorrectScoreDateEmpty" title=" " position="2" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <display description="" also-hidden="false"/>
        </field>
        
        
        <field name="universalId" position="1" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <text size="24" maxlength="60"/>
        </field>
        
        <field name="universalIdEmpty" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <hidden/>
        </field>
        
        <field name="specialTermsEmpty" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <hidden/>
        </field>
        
        <field name="specialTerms" position="2" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <textarea cols="50" rows="3"/>
        </field>

        <field name="priorityEmpty" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <hidden/>
        </field>

        
        <field name="priority" position="2" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <drop-down allow-empty="true" current="selected" no-current-selected-key="5">
                <option key="1" description="${uiLabelMap.WorkEffortPriorityOne}"/>
                <option key="2"/>
                <option key="3"/>
                <option key="4"/>
                <option key="5"/>
                <option key="6"/>
                <option key="7"/>
                <option key="8"/>
                <option key="9" description="${uiLabelMap.WorkEffortPriorityNine}"/>
            </drop-down>
        </field>

   
        <field name="currentStatusIdEmpty" required-field="true" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <hidden/>
        </field>

        <field name="currentStatusId" required-field="true" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <drop-down type="drop-list" size="50" maxlength="255" local-autocompleter="false" drop-list-key-field="statusId" drop-list-display-field="description">
                <entity-options entity-name="StatusItemAndTypeView" key-field-name="statusId" description="${description}">
                    <select-field field-name="statusTypeDesc" display="true"/>
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="statusId"/>
                    <entity-constraint name="parentTypeId" value="PERFORMANCE_STATUS"/>
                    <entity-order-by field-name="statusTypeId"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        
        <field name="lastStatusUpdateEmpty" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <hidden/>
        </field>
        
        <field name="lastStatusUpdate" position="2" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <date-time type="date" read-only="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(parameters.get(&quot;workEffortIdFrom&quot;))}"/>
        </field>
        
        
        <field name="emplPositionTypeIdEmpty" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <hidden/>
        </field>
        
        
        <field name="emplPositionTypeId" position="1" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpEmplPositionTypeForm" modal-lookup="true" key-field-name="emplPositionTypeId" description-field-name="description">
                <entity-options entity-name="EmplPositionType" key-field-name="emplPositionTypeId" description="${description}">
                    <select-field field-name="emplPositionTypeId" display="false"/>
                    <select-field field-name="description" display="true"/>
                    <entity-order-by field-name="emplPositionTypeId"/>
                </entity-options>
            </lookup>
        </field>
        
        <field name="workEffortTypePeriodIdEmpty" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
        	<hidden/>
        </field>


        <field name="workEffortTypePeriodId" position="1" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N,workEffortTypeId=${workEffortTypeId}" target-form-name="lookUpWorkEffortTypePeriodForm" modal-lookup="true" key-field-name="workEffortTypePeriodId" description-field-name="desProc">
                <entity-options entity-name="WorkEffortTypePeriod" key-field-name="workEffortTypePeriodId" description="${desProc}">
                    <select-field field-name="workEffortTypePeriodId" display="false"/>
                    <select-field field-name="desProc" display="true"/>
                    <entity-constraint name="workEffortTypeId" env-name="workEffortTypeId"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="workEffortTypePeriodId"/>
                </entity-options>
            </lookup>
        </field>
        
        <field name="isPostedEmpty" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <hidden/>
        </field>
                
        <field name="isPosted" position="1" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <drop-down read-only="${bsh: import org.ofbiz.base.util.UtilValidate; return !&quot;Y&quot;.equals(context.get(&quot;weIsTemplate&quot;)) &amp;&amp; !&quot;Y&quot;.equals(parameters.get(&quot;isObiettivo&quot;))}" allow-empty="true" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
        
        <field name="snapShotDescriptionEmpty" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <hidden/>
        </field>
        
        <field name="snapShotDescription" position="1" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <text size="50" default-value="${uiLabelMap.defaultSnapShotDescription}" read-only="true"/>
        </field>
        
        <field name="snapShotDateEmpty"  use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <hidden/>
        </field> 
        <field name="snapShotDate" position="2" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <date-time type="date" read-only="true"/>
        </field>        
        
        <field name="group_ManagementScore_sepEmpty" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <hidden/>
        </field>
                
        <field name="group_ManagementScore_sep" title=" " position="2" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <display description=" " also-hidden="false"/>
        </field>
        
                
        <field name="group_ManagementScore" title="${uiLabelMap.WorkeffortManagementScore}" title-area-style="label field-group-title" title-style="field-group-title" widget-area-style="field-group-title" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;)) || &quot;Y&quot;.equals(context.get(&quot;showKpiWeight&quot;)) || &quot;Y&quot;.equals(context.get(&quot;showDetailWeight&quot;)) || &quot;Y&quot;.equals(context.get(&quot;showAssocWeight&quot;))}">
            <display description=" " also-hidden="false"/>
        </field>
        <field name="group_ManagementScoreEmpty" title=" " use-when="${bsh: &quot;N&quot;.equals(context.get(&quot;showNotWeight&quot;)) &amp;&amp; &quot;N&quot;.equals(context.get(&quot;showKpiWeight&quot;)) &amp;&amp; &quot;N&quot;.equals(context.get(&quot;showDetailWeight&quot;)) &amp;&amp; &quot;N&quot;.equals(context.get(&quot;showAssocWeight&quot;))}">
            <display description="" also-hidden="false"/>
        </field>
        <field name="weightKpi" widget-style="numericInSingle" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showKpiWeight&quot;))}">
            <text size="14" maxlength="18"/>
        </field>        
         <field name="weightKpiEmpty" title=" " use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showKpiWeight&quot;))}">
            <display description="" also-hidden="false"/>
        </field>
        <field name="totalEnumIdKpi" position="2" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <drop-down allow-empty="true" current="selected">
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" value="TOTAL"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="totalEnumIdKpiEmpty" title=" " position="2" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <display description="" also-hidden="false"/>
        </field>
        <field name="weightSons" widget-style="numericInSingle" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showDetailWeight&quot;))}">
            <text size="14" maxlength="18"/>
        </field>
        <field name="weightSonsEmpty" title=" " use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showDetailWeight&quot;))}">
            <display description="" also-hidden="false"/>
        </field>
        <field name="totalEnumIdSons" position="2" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <drop-down allow-empty="true" current="selected">
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" value="TOTAL"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="totalEnumIdSonsEmpty" title=" " position="2" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <display description="" also-hidden="false"/>
        </field>
        <field name="weightAssocWorkEffort" widget-style="numericInSingle" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showAssocWeight&quot;))}">
            <text size="14" maxlength="18"/>
        </field>
        <field name="weightAssocWorkEffortEmpty" title=" " use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showAssocWeight&quot;))}">
            <display description="" also-hidden="false"/>
        </field>
        <field name="totalEnumIdAssoc" position="2" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <drop-down allow-empty="true" current="selected">
                <entity-options entity-name="Enumeration" description="${description}" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" value="TOTAL"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="totalEnumIdAssocEmpty" title=" " position="2" use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
        	<display description="" also-hidden="false"/>
        </field>
        <field name="weAssocTypeId" title="${uiLabelMap.workEffortAssocTypeIdTitle}" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="workEffortAssocTypeId" drop-list-display-field="description">
                <entity-options entity-name="WorkEffortAssocType" key-field-name="workEffortAssocTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="workEffortAssocTypeId"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weAssocTypeIdEmpty" title=" " use-when="${bsh: ! &quot;Y&quot;.equals(context.get(&quot;showNotWeight&quot;))}">
            <display description="" also-hidden="false"/>
        </field>
        <sort-order>
            <sort-field name="group_OtherData"/>
            <sort-field name="group_OtherDataEmpty"/>
            <sort-field name="workEffortId"/>
            <sort-field name="workEffortIdEmpty"/>
            <sort-field name="organizationId"/>
            <sort-field name="organizationIdEmpty"/>
            <sort-field name="workEffortParentId"/>
            <sort-field name="workEffortParentIdEmpty"/>
            <sort-field name="specialTerms"/>
            <sort-field name="specialTermsEmpty"/>
            <sort-field name="universalId"/>
            <sort-field name="universalIdEmpty"/>
            <sort-field name="priority"/>
            <sort-field name="priorityEmpty"/>
            <sort-field name="currentStatusId"/>
            <sort-field name="currentStatusIdEmpty"/>
            <sort-field name="lastStatusUpdate"/>
            <sort-field name="lastStatusUpdateEmpty"/>
            <sort-field name="emplPositionTypeId"/>
            <sort-field name="emplPositionTypeIdEmpty"/>
            <sort-field name="workEffortTypePeriodId"/>
            <sort-field name="workEffortTypePeriodIdEmpty"/>
            <sort-field name="estimatedTotalEffort"/>
            <sort-field name="estimatedTotalEffortEmpty"/>
            <sort-field name="effortUomId"/>
            <sort-field name="effortUomIdEmpty"/>
            <sort-field name="isPosted"/>
            <sort-field name="isPostedEmpty"/>
            <sort-field name="snapShotDescription"/>
            <sort-field name="snapShotDescriptionEmpty"/>
            <sort-field name="snapShotDate"/>
            <sort-field name="snapShotDateEmpty"/>
            <sort-field name="group_ManagementScore_sep"/>
            <sort-field name="group_ManagementScore_sepEmpty"/>            
            <sort-field name="group_ManagementScore"/>
            <sort-field name="group_ManagementScoreEmpty"/>
            <sort-field name="weightKpi"/>
            <sort-field name="weightKpiEmpty"/>
            <sort-field name="totalEnumIdKpi"/>
            <sort-field name="totalEnumIdKpiEmpty"/>            
            <sort-field name="weightSons"/>
            <sort-field name="weightSonsEmpty"/>            
            <sort-field name="totalEnumIdSons"/>
            <sort-field name="totalEnumIdSonsEmpty"/>            
            <sort-field name="weightAssocWorkEffort"/>
            <sort-field name="weightAssocWorkEffortEmpty"/>
            <sort-field name="totalEnumIdAssoc"/>
            <sort-field name="totalEnumIdAssocEmpty"/>            
            <sort-field name="weAssocTypeId"/>
            <sort-field name="weAssocTypeIdEmpty"/>            
            <sort-field name="lastCorrectScoreDate"/>
            <sort-field name="lastCorrectScoreDateEmpty"/>        
        </sort-order>
    </form>
    
    <form name="WorkEffortViewRootManagementFormTree" extends="WorkEffortViewRootManagementForm">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkWefldOthersScoreParams.groovy"/>
        </actions>
        <field name="currentStatusId" required-field="true">
            <drop-down type="drop-list" size="50" maxlength="255" local-autocompleter="false" drop-list-key-field="statusId" drop-list-display-field="description" read-only="true">
                <entity-options entity-name="StatusItemAndTypeView" key-field-name="statusId" description="${description}">
                    <select-field field-name="statusTypeDesc" display="true"/>
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="statusId"/>
                    <entity-constraint name="parentTypeId" value="PERFORMANCE_STATUS"/>
                    <entity-order-by field-name="statusTypeId"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
    </form>
    <form name="WorkEffortViewRootIsObiettivoManagementForm" extends="WorkEffortViewRootManagementForm">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkWefldOthersScoreParams.groovy"/>
        </actions>
        <!-- aggiunto per obiettivo per sbiancare isposted -->
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>       
    </form>
    
    <form name="WorkEffortViewManagementParentForm" id="WEVMP001_WorkEffortView" extends="BaseManagementParentForm" extends-resource="component://base/widget/BaseForms.xml">
    </form>

    <form name="WorkEffortViewExtendedManagementParentForm" id="WEVMP001_WorkEffortView" extends="BaseManagementParentForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="workEffortId" title="${wt.etch}">
            <display description="${workEffortName}"/>
        </field>
 		<field name="estimatedStartDate" widget-style="width-auto" widget-area-style="short-date-field" title="${uiLabelMap.parentFormValidity}">
            <display type="date"></display>
        </field>
        <field name="estimatedCompletionDate" position="2" widget-style="width-auto" widget-area-style="short-date-field" title=" " title-area-style="hidden-label">
            <display type="date"></display>
        </field>
    </form>
    
    <form name="WorkEffortViewContextManagementForm" extends="BaseContextMultiExtendedManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="attachmentButton" id-name="attachmentButton" widget-style="buttontext attachment-button" title=" " position="5">
            <hyperlink link-type="anchor" target="managementContainerOnly?parentEntityName=WorkEffortView&amp;workEffortId=${bsh: context.get(&quot;workEffortId&quot;)}&amp;entityName=WorkEffortAndContentDataResourceExtended&amp;contextManagement=Y&amp;saveView=current" also-hidden="false" description="description"/>
            <on-field-event-update-area area-target="managementContainerOnly?parentEntityName=WorkEffortView&amp;workEffortId=${bsh: context.get(&quot;workEffortId&quot;)}&amp;entityName=WorkEffortAndContentDataResourceExtended&amp;contextManagement=Y&amp;saveView=current" event-type="click" area-id="common-container"/>
        </field>        
        <field name="arrayListButton">
            <ignored/>
        </field>
        <field name="filterByDateButton">
            <ignored/>
        </field>
        <field name="subFolder">
            <ignored/>
        </field>
        <field name="managementFormScreenName">
            <ignored/>
        </field>
    </form>    
    
    <form name="WorkEffortViewPrintContextManagementForm" extends="WorkEffortViewContextManagementForm">
        <actions>
            <entity-one entity-name="WorkEffort" value-field="workEffortRoot" auto-field-map="false">
                <field-map field-name="workEffortId" from-field="parameters.workEffortIdRoot"/>
            </entity-one>
        </actions>
        <field name="saveView">
            <hidden value="N"/>
        </field>        
		<!-- stampa scheda -->
        <field name="printBirtButton" widget-style="buttontext management-print-birt-button" title=" " position="2">
            <hyperlink link-type="anchor" description="${uiLabelMap.CommonPrint}" target="popupWorkEffortLoadPrintBirt?repContextContentId=WE_PRINT&amp;workEffortTypeId=${workEffortRoot.workEffortTypeId}&amp;workEffortId=${parameters.workEffortIdRoot}&amp;workEffortIdChild=${parameters.workEffortIdRoot}&amp;weHierarchyTypeId=${parameters.weHierarchyTypeId}&amp;monitoringDate=${parameters.searchDate}&amp;workEffortRevisionId=${parameters.workEffortRevisionId}&amp;saveView=N" target-window="_blank" also-hidden="false"/>
        </field>        
    </form>

    <!-- ********************************************************************** -->
    <!-- WorkEffortStatus -->
    <!-- ********************************************************************** -->
   <form name="WorkEffortStatusIsObiettivoManagementMultiForm" extends="WorkEffortStatusManagementMultiForm">
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
    </form>
    
	<form name="WorkEffortStatusManagementMultiForm" id="WESMM001_WorkEffortStatus" extends="BaseManagementMultiForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
    	 	<script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
    	</actions>
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>                    
                    <if-compare operator="not-equals" field="crudEnumId" value="NONE"/>
                    <or>
	                    <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
	                    <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
	                    <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
	                    <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>                  
            </not>
        </read-only>
        <row-actions>
            <set field="statusDatetimeView" from-field="statusDatetime" type="Timestamp"/>
            <entity-and entity-name="UserLoginAndPartyView" list="userLoginPartyList">
                <field-map field-name="userLoginId" from-field="createdByUserLogin"/>
            </entity-and>
            <set field="partyName" value="${userLoginPartyList[0].partyName}"/>
        </row-actions>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortStatus"/>
        </field>
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="statusDatetime" required-field="true" sort-field="true" use-when="isInsertMode">
            <date-time type="timestamp" default-value="${parameters.modifiedDate}"/>
        </field>
        <field name="statusDatetime" required-field="true" sort-field="true" use-when="!isInsertMode">
            <hidden/>
        </field>
        <field name="statusDatetimeView" title="${uiLabelMap.FormFieldTitle_statusDatetime}" required-field="true" sort-field="true" use-when="!isInsertMode">
            <date-time type="timestamp" read-only="true"/>
        </field>
        <field name="statusId" required-field="true" sort-field="true" use-when="!&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="statusId" drop-list-display-field="description">
                <entity-options entity-name="StatusItemAndTypeView" key-field-name="statusId" description="${description}">
                    <select-field field-name="statusTypeDesc" display="true"/>
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="statusId"/>
                    <entity-constraint name="parentTypeId" value="PERFORMANCE_STATUS"/>
                    <entity-order-by field-name="statusTypeId"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="statusId" required-field="true" sort-field="true" use-when="&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="statusId" drop-list-display-field="descriptionLang">
                <entity-options entity-name="StatusItemAndTypeView" key-field-name="statusId" description="${descriptionLang}">
                    <select-field field-name="statusTypeDesc" display="true"/>
                    <select-field field-name="descriptionLang" display="true"/>
                    <select-field field-name="statusId"/>
                    <entity-constraint name="parentTypeId" value="PERFORMANCE_STATUS"/>
                    <entity-order-by field-name="statusTypeId"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field> 
        <field name="partyName" title="${uiLabelMap.UserLoginPartyNameTitle}">
            <display/>
        </field>       
        <field name="reason" sort-field="true">
        	<textarea rows="4" cols="100" read-only="isReadOnly"/>
        </field>
    </form>

    <!-- ********************************************************************** -->
    <!-- WorkEffortAttribute -->
    <!-- ********************************************************************** -->
    <form name="WorkEffortAttributeIsObiettivoManagementMultiForm"  extends="WorkEffortAttributeManagementMultiForm">
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="attrValue" required-field="true" sort-field="true">
            <textarea cols="50" rows="2"/>
        </field>
        <field name="sequenceId" widget-style="sequenceId numericInList" sort-field="true">
            <text maxlength="60" size="20"/>
        </field>
    </form>
    
    <form name="WorkEffortAttributeManagementMultiForm" id="WEAMM001_WorkEffortAttribute" extends="BaseManagementMultiForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
        </actions>
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <if-compare operator="not-equals" field="isPosted" value="Y"/>
                    <if-compare operator="not-equals" field="crudEnumId" value="NONE"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortAttribute"/>
        </field>
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="isPosted">
            <hidden/>
        </field>
        <field name="attrName" required-field="true" sort-field="true" title="${uiLabelMap.FormFieldTitle_code}" use-when="isInsertMode &amp;&amp; !isReadOnly">
            <drop-down type="drop-list" maxlength="255" size="20" local-autocompleter="false" drop-list-key-field="attrName" drop-list-display-field="attrName">
                <entity-options entity-name="WorkEffortTypeAttr" key-field-name="attrName" description="${attrName}">
                    <select-field field-name="attrName" display="true"/>
                    <select-field field-name="sequenceId" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeId" operator="equals" env-name="workEffortTypeId"/>
                    <entity-constraint name="isAttribute" value="Y"/>
                    <entity-order-by field-name="workEffortTypeId"/>
                    <entity-order-by field-name="attrName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="attrName" required-field="true" use-when="!isInsertMode || isReadOnly">
            <text maxlength="255" size="20" read-only="true"/>
        </field>
        <field name="attrValue" required-field="true" sort-field="true">
            <textarea cols="50" rows="2" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))"/>
        </field>
        <field name="sequenceId" widget-style="sequenceId numericInList" sort-field="true">
            <text maxlength="60" size="20" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))"/>
        </field>
    </form>

    <!-- ********************************************************************** -->
    <!-- WorkEffortNoteAndData -->
    <!-- ********************************************************************** -->
    <form name="WorkEffortNoteAndDataIsObiettivoManagementForm" extends="WorkEffortNoteAndDataManagementForm" >
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="isPosted">
            <drop-down read-only="${isInsertMode}" allow-empty="true" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
    </form>
    
    <form name="WorkEffortNoteAndDataManagementFormPanel" extends="WorkEffortNoteAndDataManagementForm">
    	<actions>
    		<set field="contentId" from-field="noteContentId"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/evaluateParamsWorkEffortNoteAndData.groovy"/>
        </actions>
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <if-compare field="isPosted" operator="not-equals" value="Y"/>
                    <if-compare field="crudEnumId" operator="not-equals" value="NONE"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only> 
    	<field name="ignoreToolbar" widget-style="ignoreToolbar ignore_check_modification">
            <hidden value="Y"/>
        </field>
        <field name="internalNote">
        	<ignored/>
        </field>
        <field name="isPosted">
        	<ignored/>
        </field>
        <field name="noteDateTime" use-when="&quot;N&quot;.equals(context.get(&quot;showDate&quot;))">
        	<ignored/>
        </field> 
        <field name="entityName" widget-style="ignore_check_modification">
        	<hidden value="WorkEffortNoteAndData"/>
        </field>
    </form>
    
    <form name="WorkEffortNoteAndDataManagementForm" id="WENADM001_WorkEffortNoteAndData_${parameters.noteContentId}" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
        </actions>
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <if-compare field="isPosted" operator="not-equals" value="Y"/>
                    <if-compare field="crudEnumId" operator="not-equals" value="NONE"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="crudService" widget-style="ignore_check_modification">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortNoteAndData"/>
        </field>
        <field name="workEffortId" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="weIsTemplate" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="noteContentId" widget-style="ignore_check_modification">
            <hidden/>
        </field>  
        <field name="noteId" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="noteNameLang" widget-style="attrNameLang" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; (UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
        	<hidden/>
        </field>
        <field name="noteName" widget-style="noteName" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
        	<hidden/>
        </field>        
        <field name="noteName" required-field="true" use-when="!&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; isInsertMode &amp;&amp; !isReadOnly">
            <drop-down type="drop-list" maxlength="100" size="50" local-autocompleter="false" drop-list-key-field="attrName" drop-list-display-field="attrName">
                <entity-options entity-name="WorkEffortTypeAttr" key-field-name="attrName" description="${attrName}">
                    <select-field field-name="attrName" display="true"/>
                    <select-field field-name="attrNameLang" display="hidden"/>
                    <select-field field-name="sequenceId" display="hidden-disabled"/>
                    <select-field field-name="isHtml" display="hidden-disabled"/>
                    <select-field field-name="isMain" display="hidden-disabled"/>
                    <select-field field-name="internalNote" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeId" operator="equals" env-name="workEffortTypeId"/>
                    <entity-constraint name="isNote" value="Y"/>
                    <entity-constraint name="isMain" operator="not-equals" value="Y"/>
                    <entity-constraint name="contentId" operator="equals" env-name="parameters.noteContentId"/>
                    <entity-order-by field-name="sequenceId"/>
                    <entity-order-by field-name="attrName"/>
                    <entity-order-by field-name="workEffortTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="noteNameLang" title="${uiLabelMap.FormFieldTitle_noteName}" required-field="true" use-when="&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; isInsertMode &amp;&amp; !isReadOnly">
            <drop-down type="drop-list" maxlength="100" size="50" local-autocompleter="false" drop-list-key-field="attrNameLang" drop-list-display-field="attrNameLang">
                <entity-options entity-name="WorkEffortTypeAttrAndNoteData" key-field-name="attrNameLang" description="${attrNameLang}">
                    <select-field field-name="attrNameLang" display="true"/>
                    <select-field field-name="noteName" display="hidden"/>
                    <select-field field-name="sequenceId" display="hidden-disabled"/>
                    <select-field field-name="isHtml" display="hidden-disabled"/>
                    <select-field field-name="isMain" display="hidden-disabled"/>
                    <select-field field-name="internalNote" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeId" operator="equals" env-name="workEffortTypeId"/>
                    <entity-constraint name="isNote" value="Y"/>
                    <entity-constraint name="isMain" operator="not-equals" value="Y"/>
                    <entity-constraint name="contentId" operator="equals" env-name="parameters.noteContentId"/>
                    <entity-order-by field-name="sequenceId"/>
                    <entity-order-by field-name="attrName"/>
                    <entity-order-by field-name="workEffortTypeId"/>
                </entity-options>
            </drop-down>
        </field>        
        <field name="isHtml" widget-style="ignore_check_modification isHtml">
            <hidden/>
        </field>
        <field name="isMain" widget-style="ignore_check_modification isMain">
            <hidden/>
        </field>
        <field name="workEffortTypeId" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="noteName" required-field="true" use-when="!&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; (!isInsertMode || isReadOnly)">
            <text maxlength="100" size="50" read-only="true"/>
        </field>
        <field name="noteNameLang" title="${uiLabelMap.FormFieldTitle_noteName}" required-field="true" use-when="&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) &amp;&amp; (!isInsertMode || isReadOnly)">
            <text maxlength="100" size="50" read-only="true"/>
        </field>
        <field name="noteDateTime" required-field="true">
            <date-time type="date" read-only="!isInsertMode || isReadOnly"/>
        </field>
        <field name="internalNote" widget-style="internalNote submit-field" >
            <drop-down no-current-selected-key="Y" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>      
        <field name="noteInfo" id-name="WorkEffortNoteAndDataManagementForm_noteInfo" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}" encode-output="false" widget-area-style="noteInfo">
            <textarea cols="120" rows="20"/>
        </field>      
        <field name="noteInfoIcon" title="${uiLabelMap.WorkEffortNoteAndData_noteInfo}" position="1" widget-style="icon" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
        	<image type="content-url" tooltip="${primaryLangTooltip}" value="${primaryLangFlagPath}"/>
        </field>
        <field name="noteInfo" id-name="WorkEffortNoteAndDataManagementForm_noteInfo" title-area-style="hidden-label" position="2" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}" encode-output="false" widget-area-style="noteInfo">
            <textarea cols="118" rows="10"/>
        </field>         
        <field name="noteInfoLangIcon" title="&#32;" position="1" widget-style="icon" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
        	<image type="content-url" tooltip="${secondaryLangTooltip}" value="${secondaryLangFlagPath}"/>
        </field>
        <field name="noteInfoLang" id-name="WorkEffortNoteAndDataManagementForm_noteInfoLang" title-area-style="hidden-label" position="2" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}" encode-output="false" widget-area-style="noteInfoLang">
            <textarea cols="118" rows="10"/>
        </field>       
        <field name="sequenceId" widget-style="sequenceId ignore_check_modification">
            <hidden/>
        </field>
        <field name="isPosted" widget-style="sequenceId ignore_check_modification">
            <drop-down read-only="${bsh: import org.ofbiz.base.util.UtilValidate; return !&quot;Y&quot;.equals(parameters.get(&quot;weIsTemplate&quot;)) || isInsertMode}" allow-empty="true" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
        <sort-order>
        	<sort-field name="noteName"/>
        	<sort-field name="noteNameLang"/>
        	<sort-field name="noteDateTime"/>
        	<sort-field name="internalNote"/>
        	<sort-field name="noteInfoIcon"/>
        	<sort-field name="noteInfo"/>
        	<sort-field name="noteInfoLangIcon"/>
        	<sort-field name="noteInfoLang"/>
        	<sort-field name="isPosted"/>       	
        </sort-order>
    </form>
    
    <form name="WorkEffortNoteAndDataIsObiettivoManagementMultiForm" extends="WorkEffortNoteAndDataManagementMultiForm">
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="noteName" widget-area-style="align-top" required-field="true" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <drop-down type="drop-list" maxlength="100" size="50" local-autocompleter="false" drop-list-key-field="attrName" drop-list-display-field="attrName" show-tooltip="true" tooltip="${attrName}">
                <entity-options entity-name="WorkEffortTypeAttr" key-field-name="attrName" description="${attrName}">
                    <select-field field-name="attrName" display="true"/>
                    <select-field field-name="attrNameLang" display="hidden"/>
                    <select-field field-name="sequenceId" display="hidden-disabled"/>
                    <select-field field-name="isHtml" display="hidden-disabled"/>
                    <select-field field-name="isMain" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeId" operator="equals" env-name="workEffortTypeId"/>
                    <entity-constraint name="isNote" value="Y"/>
                    <entity-constraint name="isMain" operator="not-equals" value="Y"/>
                    <entity-constraint name="contentId" operator="equals" env-name="parameters.noteContentId"/>
                    <entity-order-by field-name="sequenceId"/>
                    <entity-order-by field-name="attrName"/>
                    <entity-order-by field-name="workEffortTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="noteNameLang" widget-area-style="align-top" title="${uiLabelMap.FormFieldTitle_noteName}" required-field="true" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <drop-down type="drop-list" maxlength="100" size="50" local-autocompleter="false" drop-list-key-field="attrNameLang" drop-list-display-field="attrNameLang" show-tooltip="true" tooltip="${attrNameLang}">
                <entity-options entity-name="WorkEffortTypeAttrAndNoteData" key-field-name="attrNameLang" description="${attrNameLang}">
                    <select-field field-name="attrNameLang" display="true"/>
                    <select-field field-name="noteName" display="hidden"/>
                    <select-field field-name="sequenceId" display="hidden-disabled"/>
                    <select-field field-name="isHtml" display="hidden-disabled"/>
                    <select-field field-name="isMain" display="hidden-disabled"/>
                    <entity-constraint name="workEffortTypeId" operator="equals" env-name="workEffortTypeId"/>
                    <entity-constraint name="isNote" value="Y"/>
                    <entity-constraint name="isMain" operator="not-equals" value="Y"/>
                    <entity-constraint name="contentId" operator="equals" env-name="parameters.noteContentId"/>
                    <entity-order-by field-name="sequenceId"/>
                    <entity-order-by field-name="attrName"/>
                    <entity-order-by field-name="workEffortTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="noteDateTime" required-field="true" >
            <date-time type="date" />
        </field>
    </form>

    <form name="WorkEffortNoteAndDataManagementMultiForm" id="WENADML001_WorkEffortNoteAndData_${parameters.noteContentId}" extends="BaseManagementMultiForm" extends-resource="component://base/widget/BaseForms.xml" style="basic-form cachable">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
            <set field="showField" value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}" type="Boolean"/>
            <set field="showFieldLang" value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}" type="Boolean"/>
            <log message="#### showField ${showField}"/>
            <log message="#### showFieldLang ${showFieldLang}"/>
        </actions>
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <if-compare operator="not-equals" field="isPosted" value="Y"/>
                    <if-compare operator="not-equals" field="crudEnumId" value="NONE"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <!-- TODO  -->
        <row-actions> 
        	<script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/setWorkEffortNoteAndDataFormDefaultFields.groovy"/>
        </row-actions>
        <field name="crudService" widget-style="ignore_check_modification">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortNoteAndData"/>
        </field>
        <field name="workEffortId" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="workEffortTypeId" widget-style="ignore_check_modification">
            <hidden/>
        </field>       
        <field name="showList" widget-style="ignore_check_modification">
            <hidden/>
        </field>        
        <field name="noteContentId" widget-style="ignore_check_modification">
            <hidden/>
        </field>              
        <field name="noteId" widget-style="ignore_check_modification">
            <hidden/>
        </field>        
        <field name="isHtml" widget-style="isHtml ignore_check_modification">
            <hidden/>
        </field>       
        <field name="isMain" widget-style="isMain ignore_check_modification">
            <hidden/>
        </field>
        <field name="sequenceId" widget-style="sequenceId ignore_check_modification">
            <hidden/>
        </field>     
        <field name="weIsTemplate" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="isPosted" widget-style="ignore_check_modification">
            <hidden/>
        </field>          
        <field name="noteDateTime" use-when="&quot;N&quot;.equals(context.get(&quot;showDate&quot;))">
            <hidden/>
        </field>
        <field name="noteDateTime" required-field="true" use-when="! &quot;N&quot;.equals(context.get(&quot;showDate&quot;)) &amp;&amp; ! &quot;Y&quot;.equals(context.get(&quot;showList&quot;))">
            <date-time type="date" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))"/>
        </field>                
        <field name="noteDateTime" required-field="true" use-when="! &quot;N&quot;.equals(context.get(&quot;showDate&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showList&quot;))" widget-area-style="align-top width120">
            <date-time type="date" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))"/>
        </field>
        <field name="noteInfo" use-when="!&quot;Y&quot;.equals(context.get(&quot;showList&quot;))">
            <ignored/>
        </field>
        <field name="noteInfo" use-when="&quot;Y&quot;.equals(context.get(&quot;showList&quot;)) &amp;&amp; showField">
            <textarea rows="7"/>
        </field>
        <field name="noteInfo" title="${wenoteNoteInfoTitle}" use-when="&quot;Y&quot;.equals(context.get(&quot;showList&quot;)) &amp;&amp; showFieldLang">
            <textarea rows="7"/>
        </field>
        <field name="noteInfoLang" title="${wenoteNoteInfoLangTitle}" use-when="!&quot;Y&quot;.equals(context.get(&quot;showList&quot;))">
            <ignored/>
        </field>
        <field name="noteInfoLang" title="${wenoteNoteInfoLangTitle}" use-when="&quot;Y&quot;.equals(context.get(&quot;showList&quot;)) &amp;&amp; showFieldLang">
            <textarea rows="7"/>
        </field>
        <field name="internalNote" widget-area-style="align-top" widget-style="internalNote" use-when="&quot;Y&quot;.equals(context.get(&quot;showInternalNote&quot;))">
            <drop-down allow-empty="false" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
        <field name="internalNote" widget-style="internalNote" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;showInternalNote&quot;))}">
            <hidden/>
        </field>
        <field name="attention" title=" " widget-area-style="attentionNote " widget-style="fa fa-exclamation attentionIcon ignore_check_modification" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; !&quot;Y&quot;.equals(context.get(&quot;showList&quot;)) &amp;&amp; (UtilValidate.isEmpty(context.get(&quot;noteInfo&quot;)) || UtilValidate.isEmpty(context.get(&quot;noteInfo&quot;).trim()))}">
            <display/>
        </field>
        <field name="attention" title=" " widget-area-style="align-top" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; !&quot;Y&quot;.equals(context.get(&quot;showList&quot;)) &amp;&amp; UtilValidate.isNotEmpty(context.get(&quot;noteInfo&quot;)) &amp;&amp; UtilValidate.isNotEmpty(context.get(&quot;noteInfo&quot;).trim())}" widget-style="ignore_check_modification">
            <display/>
        </field>
        <field name="noteName" widget-style="noteName" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <hidden/>
        </field>
        <field name="noteName" required-field="true" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}"
        widget-area-style="${bsh: &quot;Y&quot;.equals(context.get(&quot;showList&quot;)) ? &quot;align-top columnWidthClass20&quot; : &quot;&quot;}"> 
            <drop-down type="drop-list" maxlength="100" size="50" local-autocompleter="false" drop-list-key-field="attrName" drop-list-display-field="attrName" 
            read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || &quot;UPDATE&quot;.equals(context.get(&quot;crudEnumId&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;crudEnumId&quot;))" 
            show-tooltip="true" tooltip="${attrName}">
                <entity-options entity-name="WorkEffortTypeAttrAndNoteData" key-field-name="attrName" description="${attrName}">
                    <select-field field-name="attrName" display="true"/>
                    <select-field field-name="attrNameLang" display="hidden"/>
                    <select-field field-name="sequenceId" display="hidden-disabled"/>
                    <select-field field-name="isHtml" display="hidden-disabled"/>
                    <select-field field-name="isMain" display="hidden-disabled"/>
                    <select-field field-name="internalNote" display="hidden-disabled"/>
                    <select-field field-name="noteInfo" display="hidden-no-find"/>              
                    <entity-constraint name="workEffortTypeId" operator="equals" env-name="workEffortTypeId"/>
                    <entity-constraint name="isNote" value="Y"/>
                    <entity-constraint name="isMain" operator="not-equals" value="Y"/>
                    <entity-constraint name="contentId" operator="equals" env-name="parameters.noteContentId"/>
                    <entity-order-by field-name="sequenceId"/>
                    <entity-order-by field-name="attrName"/>
                    <entity-order-by field-name="workEffortTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="noteNameLang" widget-style="attrNameLang" 
        use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <hidden/>
        </field>
        <field name="noteNameLang" title="${uiLabelMap.FormFieldTitle_noteName}" required-field="true"
        use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}"
        widget-area-style="${bsh: &quot;Y&quot;.equals(context.get(&quot;showList&quot;)) ? &quot;align-top columnWidthClass20&quot; : &quot;&quot;}"> 
            <drop-down type="drop-list" maxlength="100" size="50" local-autocompleter="false" drop-list-key-field="attrNameLang" drop-list-display-field="attrNameLang" 
            read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || &quot;UPDATE&quot;.equals(context.get(&quot;crudEnumId&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;crudEnumId&quot;))" 
            show-tooltip="true" tooltip="${attrNameLang}">                
                <entity-options entity-name="WorkEffortTypeAttrAndNoteData" key-field-name="attrNameLang" description="${attrNameLang}">              
                    <select-field field-name="attrNameLang" display="true"/>                
                    <select-field field-name="noteName" display="hidden"/>
                    <select-field field-name="sequenceId" display="hidden-disabled"/>
                    <select-field field-name="isHtml" display="hidden-disabled"/>
                    <select-field field-name="isMain" display="hidden-disabled"/>
                    <select-field field-name="internalNote" display="hidden-disabled"/> 
                    <select-field field-name="noteInfoLang" display="hidden-no-find"/>               
                    <entity-constraint name="workEffortTypeId" operator="equals" env-name="workEffortTypeId"/>
                    <entity-constraint name="isNote" value="Y"/>
                    <entity-constraint name="isMain" operator="not-equals" value="Y"/>
                    <entity-constraint name="contentId" operator="equals" env-name="parameters.noteContentId"/>
                    <entity-order-by field-name="sequenceId"/>
                    <entity-order-by field-name="attrNameLang"/>
                    <entity-order-by field-name="workEffortTypeId"/>
                </entity-options>
            </drop-down>
        </field>      
        <sort-order>
        	<sort-field name="noteDateTime"/>
        	<sort-field name="noteName"/>
        	<sort-field name="noteNameLang"/>
        	<sort-field name="noteInfo"/>
        	<sort-field name="noteInfoLang"/>
        	<sort-field name="internalNote"/>
        	<sort-field name="attention"/>
        </sort-order>
    </form>

    <!-- ********************************************************************** -->
    <!-- WorkEffortAssignmentView -->
    <!-- ********************************************************************** -->

    <form name="WorkEffortAssignmentViewSearchForm" extends="BaseSearchForm" extends-resource="component://base/widget/BaseForms.xml" append-field="false">
        <actions>
            <set field="orderBy" value="workEffortId|roleTypeId|partyId|-fromDate"/>
        </actions>
        <field name="workEffortSnapshotId_fld0_op" use-when="${groovy: org.ofbiz.base.util.UtilValidate.isEmpty(parameters.get(&quot;snapshot&quot;)) || !&quot;Y&quot;.equals(parameters.get(&quot;snapshot&quot;))}">
        	<hidden value="empty"/>
        </field>
        <field name="workEffortTypeId" title="${uiLabelMap.WorkEffortType}" >
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="workEffortTypeId" drop-list-display-field="description">
                <entity-options entity-name="WorkEffortType" key-field-name="workEffortTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="workEffortTypeId"/>
                    <entity-order-by field-name="workEffortTypeId"/>
                </entity-options>            
            </drop-down>
        </field>
        <field widget-style="light-mandatory" required-field="true" name="workEffortId" title="${uiLabelMap.WorkEffort}">
            <lookup size="12" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" edit-field-name="sourceReferenceId" key-field-name="workEffortId" description-field-name="workEffortName">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-constraint name="workEffortTypeId" env-name="workEffortTypeId"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>
        <!-- unit responsabile -->
        <field name="orgUnitRoleTypeId" title="${uiLabelMap.WorkEffortView_orgUnitRoleTypeId}">
           <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="roleTypeId" drop-list-display-field="description">
                <entity-options entity-name="RoleType" key-field-name="roleTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="roleTypeId"/>
                    <entity-constraint name="parentTypeId" operator="equals" value="ORGANIZATION_UNIT"/>
                    <entity-order-by field-name="description"/>
                </entity-options>           
           </drop-down>
        </field>
        <field name="orgUnitId" widget-style="options-field">
            <lookup target="lookupPartyRoleOrgUnitView" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N" target-form-name="lookUpPartyRoleViewForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="parentRoleCode" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <entity-constraint name="parentRoleTypeId" value="ORGANIZATION_UNIT"/>
                    <entity-constraint name="roleTypeId" env-name="orgUnitRoleTypeId" lookup-for-field-name="orgUnitRoleTypeId"/>
                    <entity-order-by field-name="partyName"/>
                </entity-options>
            </lookup>
        </field>
        
        <field name="roleTypeId">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="roleTypeId" drop-list-display-field="description">
                <entity-options entity-name="RoleType" key-field-name="roleTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="roleTypeId"/>
                    <entity-order-by field-name="parentTypeId"/>
                    <entity-order-by field-name="roleTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field widget-style="light-mandatory" required-field="true" name="partyId" title="${uiLabelMap.BaseParty}">
            <lookup target-parameter="lookupScreenLocation=component://partyext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N" target-form-name="lookUpPartyRoleViewForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </lookup>
        </field>        
            
        <!-- ricerca sulle date -->
        <field name="fromDate_op">
            <hidden value="greaterThanEqualTo"/>
        </field>
        <field name="fromDate" title="${uiLabelMap.BaseBegin}" >
            <date-time type="date"/>
        </field>
        
        <field name="thruDate_op">
            <hidden value="lessThanEqualTo"/>
        </field>
        <field name="thruDate" title="${uiLabelMap.BaseEnd}" >
            <date-time type="date"/>
        </field>
        
    </form>

    <form name="WorkEffortAssignmentViewManagementMultiForm" id="WEAVMM004_WorkEffortAssignmentView" extends="BaseManagementDblClickMultiForm" extends-resource="component://base/widget/BaseForms.xml" style="basic-form cachable">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
        </actions>
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <if-compare operator="not-equals" field="isPosted" value="Y"/>
                    <if-compare operator="not-equals" field="crudEnumId" value="NONE"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="paramToSubmitReport">
        	<hidden value="|partyId|"/>
        </field>
        <field name="showComment">
        	<hidden/>
        </field>
        <field name="operationalEntityName">
            <hidden value="WorkEffortPartyAssignment"/>
        </field>
        <field name="searchDate">
            <hidden value="${parameters.searchDate}"/>
        </field>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortPartyAssignment"/>
        </field>
        <field name="backAreaId">
            <hidden value="common-container"/>
        </field>
        <field name="workEffortId" use-when="!isMultiWorkEffort">
            <hidden/>
        </field>
        <field name="isPosted">
            <hidden/>
        </field>
        <field name="workEffortId" title="${uiLabelMap.WorkEffort}" required-field="true" use-when="isMultiWorkEffort">
            <lookup size="40" read-only="!isInsertMode || isReadOnly" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" edit-field-name="sourceReferenceId" key-field-name="workEffortId" description-field-name="workEffortName">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="roleTypeId" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode || isReadOnly" maxlength="255" size="15" local-autocompleter="true" drop-list-key-field="roleTypeId" drop-list-display-field="description">
                <auto-complete choices="1000"/>
                <entity-options entity-name="RoleType" key-field-name="roleTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="roleTypeId"/>
                    <entity-order-by field-name="parentTypeId"/>
                    <entity-order-by field-name="roleTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyId" title="${uiLabelMap.BaseParty}" required-field="true">
            <lookup size="25" read-only="!isInsertMode || isReadOnly" target-parameter="lookupScreenLocation=component://partyext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N" target-form-name="lookUpPartyRoleViewForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="fromDate" title="${uiLabelMap.BaseBegin}" required-field="true">
            <date-time read-only="!isInsertMode || isReadOnly" type="date" default-value="${we.estimatedStartDate}"/>
        </field>
        <field name="thruDate" title="${uiLabelMap.BaseEnd}" required-field="true">
            <date-time type="date" default-value="${we.estimatedCompletionDate}" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))"/>
        </field>
        <field name="roleTypeWeight" title="${uiLabelMap.WorkEffortAssignment_weight}" widget-style="numericInList">
            <text size="5" maxlength="18" default-value="100" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))"/>
        </field>
        <field name="sequenceNum" widget-style="numericInList" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showSequence&quot;))}">
        	<text default-value="1"/>
        </field>
    </form>

    <form name="WorkEffortAssignmentViewManagementFormExtends" id="WEAVM001_WorkEffortAssignmentViewExtends" extends="BaseMultiExtendedManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <entity-condition entity-name="PartyRoleViewRelationshipRoleView" list="partyRoleViewRelationshipRoleViewList">
                <condition-list>
                    <condition-expr field-name="roleTypeId" from-field="roleTypeId"/>
                    <condition-expr field-name="partyRelationshipTypeIdFrom" value="ORG_ALLOCATION"/>
                    <condition-expr field-name="partyId" from-field="partyId"/>
                </condition-list>
            </entity-condition>
            <set field="category" value="${partyRoleViewRelationshipRoleViewList[0].category}"/>
            <set field="profile" value="${partyRoleViewRelationshipRoleViewList[0].profile}"/>
            <set field="employmentAmount" value="${partyRoleViewRelationshipRoleViewList[0].employmentAmount}"/>

            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
            
            <set field="defaultFromDate" from-field="parameters.searchDate" default-value="${we.estimatedStartDate}" type="Timestamp"/>
            <set field="fromDate" from-field="fromDate" default-value="${defaultFromDate}" type="Timestamp"/>
            <set field="thruDate" from-field="thruDate" default-value="${we.estimatedCompletionDate}" type="Timestamp"/>
            <set field="fromDateOld" from-field="fromDate" default-value="${defaultFromDate}" type="Timestamp"/>
        </actions>
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" value="true" field="isReadOnly"/>
                    <if-compare field="isPosted" operator="not-equals" value="Y"/>
                    <if-compare field="crudEnumId" operator="not-equals" value="NONE"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortPartyAssignment"/>
        </field>
        <field name="entityName">
            <hidden value="WorkEffortPartyAssignmentPerson"/>
        </field>
        <field name="workEffortId" use-when="!isMultiWorkEffort">
            <hidden/>
        </field>
        <field name="fromDateOld">
            <hidden/>
        </field>
        <field name="workEffortId" title="${uiLabelMap.WorkEffort}" required-field="true" use-when="isMultiWorkEffort">
            <lookup size="12" read-only="!isInsertMode" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" edit-field-name="sourceReferenceId" key-field-name="workEffortId" description-field-name="workEffortName">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="roleTypeId" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="roleTypeId" drop-list-display-field="description">
                <entity-options entity-name="RoleType" key-field-name="roleTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="roleTypeId"/>
                    <entity-order-by field-name="parentTypeId"/>
                    <entity-order-by field-name="roleTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyId" title="${uiLabelMap.BaseParty}" required-field="true">
            <lookup read-only="!isInsertMode" target-parameter="lookupScreenLocation=component://partyext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N" target-form-name="lookUpPartyRoleViewForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="category" widget-style="category" title="${uiLabelMap.WorkEffortAssignment_category}">
            <text read-only="true"/>
        </field>
        <field name="profile" widget-style="profile" title="${uiLabelMap.WorkEffortAssignment_profile}">
            <text read-only="true"/>
        </field>
        <field name="employmentAmount" widget-style="numericInSingle employmentAmount" >
            <text size="14" maxlength="18" read-only="true"/>
        </field>
        <field name="fromDate" title="${uiLabelMap.BaseBegin}" required-field="true">
            <date-time type="date" default-value="${we.estimatedStartDate}"/>
        </field>
        <field name="thruDate" title="${uiLabelMap.BaseEnd}" required-field="true">
            <date-time type="date" default-value="${we.estimatedCompletionDate}"/>
        </field>
        <field name="comments" title="${uiLabelMap.FormFieldTitle_comments2}">
            <textarea cols="100" rows="3"/>
        </field>
        <field name="roleTypeWeight" widget-style="numericInSingle submit-field">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
		<field name="workEffortMeasureId" title="${uiLabelMap.FormFieldTitle_indicatorGlAccountId}">
            <drop-down size="50" type="drop-list" maxlength="255" local-autocompleter="false" drop-list-key-field="weMeasureId" drop-list-display-field="weMeasureAccountDesc" show-tooltip="true">
                <entity-options entity-name="WorkEffortMeasureView" key-field-name="weMeasureId" description="${weMeasureAccountDesc}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weMeasureUomDescr&quot;)) ? &quot; - &quot; + context.get(&quot;weMeasureUomDescr&quot;) : &quot;&quot;}">
                    <select-field field-name="weMeasureId" display="false"/>
                    <select-field field-name="weMeasureAccountDesc" display="true"/>
                    <select-field field-name="weMeasureUomDescr" display="true"/>
                    <entity-constraint name="weMeasureWeId" env-name="workEffortId"/>
                    <entity-constraint name="accountTypeEnumId" value="INDICATOR"/>
                    <entity-order-by field-name="weMeasureId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="isPosted">
            <drop-down read-only="${bsh: import org.ofbiz.base.util.UtilValidate; return !&quot;Y&quot;.equals(parameters.get(&quot;weIsTemplate&quot;)) || isInsertMode}" allow-empty="true" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
    </form>

	<!-- WorkEffortAssignmentRoleView -->
    <form name="WorkEffortAssignmentViewManagementForm" id="WEAVM001_WorkEffortAssignmentView" extends="BaseMultiExtendedManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
        </actions>
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" value="true" field="isReadOnly"/>
                    <if-compare field="isPosted" operator="not-equals" value="Y"/>
                    <if-compare field="crudEnumId" operator="not-equals" value="NONE"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortPartyAssignment"/>
        </field>
        <field name="entityName">
            <hidden value="WorkEffortPartyAssignment"/>
        </field>
        <field name="workEffortId" use-when="!isMultiWorkEffort">
            <hidden/>
        </field>
        <field name="weIsTemplate">
            <hidden/>
        </field>
        <field name="workEffortId" title="${uiLabelMap.WorkEffort}" required-field="true" use-when="isMultiWorkEffort">
            <lookup size="12" read-only="!isInsertMode" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" edit-field-name="sourceReferenceId" key-field-name="workEffortId" description-field-name="workEffortName">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="roleTypeId" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="roleTypeId" drop-list-display-field="description">
                <entity-options entity-name="RoleType" key-field-name="roleTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="roleTypeId"/>
                    <entity-order-by field-name="parentTypeId"/>
                    <entity-order-by field-name="roleTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyId" title="${uiLabelMap.BaseParty}" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="partyName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="fromDate" title="${uiLabelMap.BaseBegin}" required-field="true">
            <date-time type="date" read-only="!isInsertMode" default-value="${we.estimatedStartDate}"/>
        </field>
        <field name="thruDate" title="${uiLabelMap.BaseEnd}" required-field="true">
            <date-time type="date" default-value="${we.estimatedCompletionDate}"/>
        </field>
        <field name="comments">
            <text size="50" maxlength="255"/>
        </field>
        <field name="roleTypeWeight" title="${uiLabelMap.WorkEffortAssignment_weight}" widget-style="numericInSingle submit-field">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="isPosted">
            <drop-down read-only="${bsh: import org.ofbiz.base.util.UtilValidate; return !&quot;Y&quot;.equals(parameters.get(&quot;weIsTemplate&quot;)) || isInsertMode}" allow-empty="true" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
    </form>

    <form name="WorkEffortAssignmentRoleViewIsObiettivoManagementMultiForm" extends="WorkEffortAssignmentRoleViewManagementMultiForm">        
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="roleTypeId" title="${uiLabelMap.WorkEffortAssignment_roleTypeId}" required-field="true" use-when="!isInsertMode">
            <drop-down type="drop-list" read-only="true" maxlength="255" size="30" local-autocompleter="false" drop-list-key-field="roleTypeId" drop-list-display-field="${roleTypeDisplayField}">
                <entity-options entity-name="RoleType" key-field-name="roleTypeId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}">
                    <select-field field-name="${roleTypeDisplayField}" display="true"/>
                    <select-field field-name="roleTypeId"/>
                    <entity-order-by field-name="parentTypeId"/>
                    <entity-order-by field-name="roleTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="roleTypeId" title="${uiLabelMap.WorkEffortAssignment_roleTypeId}" required-field="true" use-when="isInsertMode">
            <drop-down type="drop-list" maxlength="255" size="30" local-autocompleter="true" drop-list-key-field="roleTypeId" drop-list-display-field="${roleTypeDisplayField}">
                <list-options key-name="roleTypeId" list-name="workEffortTypeAndRoleList" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}"/>
            </drop-down>
        </field>
        <field name="partyId" title="${uiLabelMap.BaseParty}" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode || isReadOnly" maxlength="255" size="68" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <entity-constraint name="roleTypeId" operator="in" env-name="workEffortTypeRoleList"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="partyName"/>
                </entity-options>
            </drop-down>
        </field>        
        <field name="roleTypeWeight" title="${uiLabelMap.WorkEffortAssignment_weight}" widget-style="numericInList submit-field">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="sequenceNum" widget-style="numericInList">
        	<text default-value="1"/>
        </field>
    </form>
    <form name="WorkEffortAssignmentRoleViewManagementMultiForm" id="WEAVMM002_WorkEffortAssignmentView" extends="WorkEffortAssignmentViewManagementMultiForm">
        <actions>
            <set field="weTypeRoleWeTypeId" value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId&quot;)) ? context.get(&quot;workEffortTypeId&quot;) : parameters.get(&quot;workEffortTypeId&quot;)}"/>
        	<script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
            <set field="weTypeRoleParentTypeId" value="EMPLOYEE"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getWorkEffortTypeRoleList.groovy"/>        	
        </actions>
        <field name="checkPartyRole">
        	<hidden value="Y"/>
        </field>       
        <field name="roleTypeId" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showRoleType&quot;))}" title="${uiLabelMap.WorkEffortAssignment_roleTypeId}" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="30" local-autocompleter="true" drop-list-key-field="roleTypeId" drop-list-display-field="${roleTypeDisplayField}">
                <list-options key-name="roleTypeId" list-name="workEffortTypeAndRoleList" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}"/>
            </drop-down>
        </field>
        <field name="roleTypeId" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;showRoleType&quot;))}" widget-style="roleTypeId">
        	<hidden/>
        </field>       
        <field name="partyId" title="${PartyTitleValue}" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode || isReadOnly" maxlength="255" size="68" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="roleTypeId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <entity-constraint name="roleTypeId" operator="in" env-name="workEffortTypeRoleList"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="partyName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="fromDate" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;showDates&quot;))}">
            <hidden value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;fromDate&quot;)) ? context.get(&quot;fromDate&quot;) : we.get(&quot;estimatedStartDate&quot;)}"/>
        </field>
        <field name="thruDate" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;showDates&quot;))}">
            <hidden value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;thruDate&quot;)) ? context.get(&quot;thruDate&quot;) : we.get(&quot;estimatedCompletionDate&quot;)}"/>
        </field>
        <field name="roleTypeWeight" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;showRoleTypeWeight&quot;))}">
            <hidden value="100"/>
        </field>        
    </form>
    
    <form name="WorkEffortAssignmentRoleViewIsObiettivoManagementForm" extends="WorkEffortAssignmentRoleViewManagementForm">
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" value="true" field="isReadOnly"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="roleTypeId" title="${uiLabelMap.WorkEffortAssignment_roleTypeId}" required-field="true" use-when="!isInsertMode">
            <drop-down type="drop-list" read-only="true" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="roleTypeId" drop-list-display-field="${roleTypeDisplayField}">
                <entity-options entity-name="RoleType" key-field-name="roleTypeId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}">
                    <select-field field-name="${roleTypeDisplayField}" display="true"/>
                    <select-field field-name="roleTypeId"/>
                    <entity-order-by field-name="parentTypeId"/>
                    <entity-order-by field-name="roleTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="roleTypeId" title="${uiLabelMap.WorkEffortAssignment_roleTypeId}" required-field="true" use-when="isInsertMode">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="true" drop-list-key-field="roleTypeId" drop-list-display-field="${roleTypeDisplayField}">
                <list-options key-name="roleTypeId" list-name="workEffortTypeAndRoleList" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}"/>
            </drop-down>
        </field>
        <field name="isPosted">
            <drop-down read-only="${isInsertMode}" allow-empty="true" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
    </form>

    <form name="WorkEffortAssignmentRoleViewManagementForm" extends="WorkEffortAssignmentViewManagementForm">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
            <set field="weTypeRoleWeTypeId" from-field="parameters.workEffortTypeId"/>
            <set field="weTypeRoleParentTypeId" value="EMPLOYEE"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getWorkEffortTypeRoleList.groovy"/>            
        </actions>
        <field name="checkPartyRole">
        	<hidden value="Y"/>
        </field>    
        <field name="roleTypeId" title="${uiLabelMap.WorkEffortAssignment_roleTypeId}" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="50" local-autocompleter="true" drop-list-key-field="roleTypeId" drop-list-display-field="${roleTypeDisplayField}">
                <list-options key-name="roleTypeId" list-name="workEffortTypeAndRoleList" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}"/>
            </drop-down>
        </field>
        <field name="partyId" title="${uiLabelMap.BaseParty}" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <entity-constraint name="roleTypeId" operator="in" env-name="workEffortTypeRoleList"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="partyName"/>
                </entity-options>
            </drop-down>
        </field>        
    </form>

    <!-- WorkEffortAssignmentGoalView -->

    <form name="WorkEffortAssignmentGoalViewIsObiettivoManagementMultiForm" extends="WorkEffortAssignmentGoalViewManagementMultiForm">        
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="roleTypeId" title="${uiLabelMap.WorkEffortAssignment_roleTypeId}" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="30" local-autocompleter="true" drop-list-key-field="roleTypeId" drop-list-display-field="${roleTypeDisplayField}">
                <list-options key-name="roleTypeId" list-name="workEffortTypeAndRoleList" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}"/>
            </drop-down>
        </field>        
        <field name="roleTypeWeight" title="${uiLabelMap.WorkEffortAssignment_weight}" widget-style="numericInList submit-field">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="fromDate">
            <hidden value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;fromDate&quot;)) ? context.get(&quot;fromDate&quot;) : we.get(&quot;estimatedStartDate&quot;)}"/>
        </field>
        <field name="thruDate">
            <hidden value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;thruDate&quot;)) ? context.get(&quot;thruDate&quot;) : we.get(&quot;estimatedCompletionDate&quot;)}"/>
        </field>      
        <field name="sequenceNum" widget-style="numericInList">
        	<text default-value="1"/>
        </field>  
    </form>
    
    <form name="WorkEffortAssignmentGoalViewManagementMultiForm" id="WEAVMM003_WorkEffortAssignmentView" extends="WorkEffortAssignmentViewManagementMultiForm">
        <actions>
        	<script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
            <set field="weTypeRoleWeTypeId" value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId&quot;)) ? context.get(&quot;workEffortTypeId&quot;) : parameters.get(&quot;workEffortTypeId&quot;)}"/>
            <set field="weTypeRoleParentTypeId" value="GOAL%"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getWorkEffortTypeRoleList.groovy"/>            
        </actions>
        <field name="checkPartyRole">
        	<hidden value="Y"/>
        </field>        
        <field name="roleTypeId" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showRoleType&quot;))}" title="${uiLabelMap.WorkEffortAssignment_roleTypeId}" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="30" local-autocompleter="true" drop-list-key-field="roleTypeId" drop-list-display-field="${roleTypeDisplayField}">
                <list-options key-name="roleTypeId" list-name="workEffortTypeAndRoleList" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}"/>
            </drop-down>
        </field>
        <field name="roleTypeId" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;showRoleType&quot;))}" widget-style="roleTypeId">
        	<hidden/>
        </field>        
        <field name="partyId" title="${PartyTitleValue}" required-field="true" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <drop-down type="drop-list" read-only="!isInsertMode || isReadOnly" maxlength="255" size="30" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="partyNameLang">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${parentRoleCode} - ${partyNameLang}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="roleTypeId" display="hidden"/>
                    <select-field field-name="parentRoleCode"/>
                    <select-field field-name="partyNameLang" display="true" description="@{parentRoleCode} - @{partyNameLang}"/>                    
                    <entity-constraint name="roleTypeId" operator="in" env-name="workEffortTypeRoleList"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="parentRoleCode"/>
                </entity-options>
            </drop-down>
        </field>       
        <field name="partyId" title="${PartyTitleValue}" required-field="true" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <drop-down type="drop-list" read-only="!isInsertMode || isReadOnly" maxlength="255" size="30" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${parentRoleCode} - ${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="roleTypeId" display="hidden"/>
                    <select-field field-name="parentRoleCode"/>
                    <select-field field-name="partyName" display="true" description="@{parentRoleCode} - @{partyName}"/>                    
                    <entity-constraint name="roleTypeId" operator="in" env-name="workEffortTypeRoleList"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="parentRoleCode"/>
                </entity-options>
            </drop-down>
        </field>        
        <field name="fromDate" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;showDates&quot;))}">
            <hidden value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;fromDate&quot;)) ? context.get(&quot;fromDate&quot;) : we.get(&quot;estimatedStartDate&quot;)}"/>
        </field>
        <field name="thruDate" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;showDates&quot;))}">
            <hidden value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;thruDate&quot;)) ? context.get(&quot;thruDate&quot;) : we.get(&quot;estimatedCompletionDate&quot;)}"/>
        </field>
        <field name="roleTypeWeight" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;showRoleTypeWeight&quot;))}">
            <hidden value="100"/>
        </field>       
    </form>
    
    <form name="WorkEffortAssignmentGoalViewIsObiettivoManagementForm" extends="WorkEffortAssignmentGoalViewManagementForm">
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" value="true" field="isReadOnly"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="isPosted">
            <drop-down read-only="${isInsertMode}" allow-empty="true" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
    </form>

    <form name="WorkEffortAssignmentGoalViewManagementForm" extends="WorkEffortAssignmentViewManagementForm">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
            <set field="weTypeRoleWeTypeId" from-field="parameters.workEffortTypeId"/>
            <set field="weTypeRoleParentTypeId" value="GOAL%"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getWorkEffortTypeRoleList.groovy"/>            
        </actions>
        <field name="checkPartyRole">
        	<hidden value="Y"/>
        </field>        
        <field name="roleTypeId" title="${uiLabelMap.WorkEffortAssignment_roleTypeId}" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="50" local-autocompleter="true" drop-list-key-field="roleTypeId" drop-list-display-field="${roleTypeDisplayField}">
                <list-options key-name="roleTypeId" list-name="workEffortTypeAndRoleList" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}"/>
            </drop-down>
        </field>
        <field name="partyId" title="${uiLabelMap.BaseParty}" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="${partyDisplayField}">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? partyNameLang : partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="${partyDisplayField}" display="true"/>
                    <entity-constraint name="roleTypeId" operator="in" env-name="workEffortTypeRoleList"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="partyName"/>
                </entity-options>
            </drop-down>
        </field>        
    </form>

    <!-- WorkEffortAssignmentAssignmentView -->
    <form name="WorkEffortAssignmentAssignmentViewIsObiettivoManagementMultiForm" extends="WorkEffortAssignmentAssignmentViewManagementMultiForm">
        
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="roleTypeWeight" widget-style="numericInList submit-field" title="${uiLabelMap.WorkEffortAssignment_roleTypeWeightImpiego}">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="partyId" title="${uiLabelMap.BasePerson}" required-field="true" sort-field="true">
            <lookup size="60" description-field-size="60" read-only="!isInsertMode" target="lookupPartyRoleOrgHumanResView" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N,partyRelationshipTypeIdApp=ORG_EMPLOYMENT,roleTypeIdApp=${we.orgUnitRoleTypeId},partyIdApp=${we.orgUnitId},workEffortId=${we.workEffortId},enableMultiRowInsert=Y,multiRowInsertFields=partyId,fromHumanResFolder=Y" target-form-name="lookUpPartyRoleViewForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
                <entity-options entity-name="PartyRoleViewAndEmpl" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <select-field field-name="category" display="hidden-disabled"/>
                    <select-field field-name="profile" display="hidden-disabled"/>
                    <select-field field-name="employmentAmount" display="hidden-disabled"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="fromDate" widget-style="fromDate">
        	<hidden/>
        </field>
        <field name="thruDate">
        	<hidden/>
        </field>
        <field name="periodFromDate">
        	<ignored/>
        </field>
        <field name="periodThruDate">
        	<ignored/>
        </field>        
    </form>
    
    <!-- Risorse Umane -->
    <!-- id gestisce se e' attivo o meno il js per la ricerca della disponibilita (avability) -->
    <form name="WorkEffortAssignmentAssignmentViewManagementMultiForm" id="WEAVMM004_${bsh: return (&quot;Assignment&quot; == typeEmployment ? &quot;AS_&quot; : &quot;&quot; )}WorkEffortAssignmentView" extends="WorkEffortAssignmentViewManagementMultiForm">
        <actions>
        	<script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkRoleTypeWeightEditability.groovy"/>
        </actions>
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" field="isReadOnly" value="true"/>
                    <if-compare operator="not-equals" field="isPosted" value="Y"/>
                    <if-compare operator="not-equals" field="crudEnumId" value="NONE"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>        
        <row-actions>       
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/setWorkEffortAssignmentAssignmentViewDefaultFields.groovy"/>        
        </row-actions>
        <field name="fromDateOld">
            <hidden/>
        </field>
        <field name="roleTypeId">
        	<hidden />
        </field>
        <field name="personComments">
        	<hidden />
        </field>
        <field name="personAllocation">
        	<hidden />
        </field>                
        <field name="typeEmployment" use-when="&quot;Assignment&quot; == typeEmployment">
            <hidden value="Assignment"/>
        </field>
        <field name="startDate">
        	<hidden/>
        </field>
        <field name="usePeriod">
        	<hidden/>
        </field>
        <field name="workEffortIdRoot">
        	<hidden value="${parameters.workEffortIdRoot}"/>
        </field>        
        <field name="searchDate">
            <hidden value="${parameters.searchDate}"/>
        </field>
        <field name="comments">
            <hidden/>
        </field>
        <field name="commentsLang">
            <hidden/>
        </field>        
        <field name="weTypeSubId">
            <hidden/>
        </field>
        <field name="weTypeSubFilter">
            <hidden/>
        </field>
        <field name="weTypeSubWeId">
            <hidden/>
        </field>
        <field name="orgUnitIdTypeSubList">
            <hidden/>
        </field>
        <field name="partyId" title="${uiLabelMap.BasePerson}" required-field="true" sort-field="true" use-when="! &quot;Y&quot;.equals(context.get(&quot;hideLookUp&quot;))">
            <lookup size="60" description-field-size="60" read-only="!isInsertMode" target="lookupPartyRoleOrgHumanResView" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N,partyRelationshipTypeIdApp=ORG_EMPLOYMENT,roleTypeIdApp=${we.orgUnitRoleTypeId},partyIdApp=${we.orgUnitId},workEffortId=${we.workEffortId},enableMassiveInsert=Y,massiveInsertReloadFormId=WEAVMM004_WorkEffortAssignmentView,enableMultiRowInsert=Y,multiRowInsertFields=partyId,resetFormAfterSelect=Y,reloadCurrentRow=Y,searchDate=${parameters.searchDate},fromHumanResFolder=Y" target-form-name="lookUpPartyRoleViewForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
                <entity-options entity-name="PartyRoleViewAndEmpl" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <select-field field-name="category" display="hidden-disabled"/>
                    <select-field field-name="categoryLang" display="hidden-disabled"/>
                    <select-field field-name="profile" display="hidden-disabled"/>
                    <select-field field-name="profileLang" display="hidden-disabled"/>
                    <select-field field-name="employmentAmount" display="hidden-disabled"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="partyId" title="${uiLabelMap.BasePerson}" required-field="true" sort-field="true" use-when="! &quot;Y&quot;.equals(context.get(&quot;hideLookUp&quot;)) &amp;&amp; &quot;Parent&quot;.equals(context.get(&quot;typeEmployment&quot;))">
            <lookup size="60" description-field-size="60" read-only="!isInsertMode" target="lookupPartyRoleOrgHumanResView" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N,partyRelationshipTypeIdApp=ORG_EMPLOYMENT,roleTypeIdApp=${weOrgUnitParent.roleTypeIdFrom},partyIdApp=${weOrgUnitParent.partyIdFrom},workEffortId=${we.workEffortId},enableMassiveInsert=Y,massiveInsertReloadFormId=WEAVMM004_WorkEffortAssignmentView,,enableMultiRowInsert=Y,multiRowInsertFields=partyId,resetFormAfterSelect=Y,reloadCurrentRow=Y,searchDate=${parameters.searchDate},fromHumanResFolder=Y" target-form-name="lookUpPartyRoleViewForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
                <entity-options entity-name="PartyRoleViewAndEmpl" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <select-field field-name="category" display="hidden-disabled"/>
                    <select-field field-name="categoryLang" display="hidden-disabled"/>
                    <select-field field-name="profile" display="hidden-disabled"/>
                    <select-field field-name="profileLang" display="hidden-disabled"/>
                    <select-field field-name="employmentAmount" display="hidden-disabled"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="partyId" title="${uiLabelMap.BasePerson}" required-field="true" sort-field="true" use-when="! &quot;Y&quot;.equals(context.get(&quot;hideLookUp&quot;)) &amp;&amp; &quot;Assignment&quot;.equals(context.get(&quot;typeEmployment&quot;))">
            <lookup size="60" description-field-size="60" lookup-autocomplete="false" read-only="!isInsertMode" target="lookupPartyRoleAssignmentView" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N,roleTypeId=WE_ASSIGNMENT,wepaFromDateFrom=${defaultThruDate},wepaThruDateFrom=${defaultFromDate},enableMultiRowInsert=Y,multiRowInsertFields=partyId|wepaFromDateFrom|wepaWorkEffortIdFrom|wepaRoleTypeIdFrom|wepaRoleTypeWeight|wepaWorkEffortName|wepaWorkEffortEtch,resetFormAfterSelect=Y,reloadCurrentRow=Y,searchDate=${parameters.searchDate}" target-form-name="lookupWepaView" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
				<entity-options entity-name="PartyRoleAssignmentView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <select-field field-name="category" display="hidden-disabled"/>
                    <select-field field-name="categoryLang" display="hidden-disabled"/>
                    <select-field field-name="profile" display="hidden-disabled"/>
                    <select-field field-name="profileLang" display="hidden-disabled"/>
                    <select-field field-name="employmentAmount" display="hidden-disabled"/>
                    <entity-constraint name="roleTypeId" value="WE_ASSIGNMENT"/>
                    <entity-constraint name="wepaWorkEffortIdFrom" env-name="wepaWorkEffortIdFrom"/>
                    <entity-constraint name="wepaFromDateFrom" env-name="wepaFromDateFrom"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="partyId" title="${uiLabelMap.BasePerson}" required-field="true" sort-field="true" use-when="&quot;Y&quot;.equals(context.get(&quot;hideLookUp&quot;)) &amp;&amp; !&quot;Assignment&quot;.equals(context.get(&quot;typeEmployment&quot;))">
            <drop-down read-only="!isInsertMode" type="drop-list" size="60" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="partyName">
                <entity-options entity-name="PartyRoleViewAndEmpl" key-field-name="partyId" description="${parentRoleCode} - ${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="parentRoleCode" display="true"/>
                    <select-field field-name="partyName" display="true"/>
                    <select-field field-name="category" display="hidden-disabled"/>
                    <select-field field-name="categoryLang" display="hidden-disabled"/>
                    <select-field field-name="profile" display="hidden-disabled"/>
                    <select-field field-name="profileLang" display="hidden-disabled"/>
                    <select-field field-name="employmentAmount" display="hidden-disabled"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyId" title="${uiLabelMap.BasePerson}" required-field="true" sort-field="true" use-when="&quot;Y&quot;.equals(context.get(&quot;hideLookUp&quot;)) &amp;&amp; &quot;Assignment&quot;.equals(context.get(&quot;typeEmployment&quot;))">
            <drop-down read-only="!isInsertMode" type="drop-list" size="60" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="partyName">
                <entity-options entity-name="PartyRoleAssignmentView" key-field-name="partyId" description="${parentRoleCode} - ${partyName}" distinct="true">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="parentRoleCode" display="true"/>
                    <select-field field-name="partyName" display="true"/>
                    <select-field field-name="category" display="hidden-disabled"/>
                    <select-field field-name="categoryLang" display="hidden-disabled"/>
                    <select-field field-name="profile" display="hidden-disabled"/>
                    <select-field field-name="profileLang" display="hidden-disabled"/>
                    <select-field field-name="employmentAmount" display="hidden-disabled"/>
                    <entity-constraint name="roleTypeId" value="WE_ASSIGNMENT"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </drop-down>
        </field>        
        <field name="wepaRoleTypeIdFrom" use-when="&quot;Assignment&quot; == typeEmployment">
            <hidden value="WE_ASSIGNMENT"/>
        </field>
        <field name="wepaWorkEffortIdFrom">
            <hidden/>
        </field>
        <field name="wepaFromDateFrom">
            <hidden/>
        </field>
        <field name="category" widget-style="category" title="${uiLabelMap.WorkEffortAssignment_category}" use-when="! &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))">
            <text size="15" read-only="true"/>
        </field>
        <field name="categoryLang" widget-style="categoryLang" title="${uiLabelMap.WorkEffortAssignment_category}" use-when="&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))">
            <text size="15" read-only="true"/>
        </field>        
        <field name="profile" widget-style="profile" use-when="&quot;Y&quot; != showDates &amp;&amp; ! &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))" title="${uiLabelMap.WorkEffortAssignment_profile}">
            <text size="50" read-only="true"/>
        </field>
        <field name="profileLang" widget-style="profileLang" use-when="&quot;Y&quot; != showDates &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))" title="${uiLabelMap.WorkEffortAssignment_profile}">
            <text size="50" read-only="true"/>
        </field>        
        <field name="profile" use-when="&quot;Y&quot; == showDates">
            <ignored/>
        </field>
        <field name="profileLang" use-when="&quot;Y&quot; == showDates">
            <ignored/>
        </field>        
        <field name="roleTypeWeightActual" widget-style="submit-field numericInList" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;showRoleTypeWeightActual&quot;)) &amp;&amp; !&quot;N&quot;.equals(showRoleTypeWeightActual) }">
            <text size="14" maxlength="18" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || !&quot;Y&quot;.equals(canModifyRoleTypeWeightActual)"/>
        </field>
        <field name="roleTypeWeight" widget-style="submit-field numericInList" title="${uiLabelMap.WorkEffortAssignment_roleTypeWeightImpiego}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;showRoleTypeWeight&quot;)) &amp;&amp; !&quot;N&quot;.equals(showRoleTypeWeight) }">
            <text size="14" maxlength="18" default-value="0" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || !&quot;Y&quot;.equals(canModifyRoleTypeWeight)"/>
        </field>
        <field name="roleTypeWeight" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isEmpty(context.get(&quot;showRoleTypeWeight&quot;)) || &quot;N&quot;.equals(showRoleTypeWeight) }" >
            <hidden value="0"/>
        </field>
        <field name="fromDate" widget-style="fromDate" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; !&quot;Y&quot;.equals(context.get(&quot;showDates&quot;)) || UtilValidate.isNotEmpty(context.get(&quot;usePeriod&quot;))}">
            <hidden/>
        </field>
        <field name="thruDate" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; !&quot;Y&quot;.equals(context.get(&quot;showDates&quot;)) || UtilValidate.isNotEmpty(context.get(&quot;usePeriod&quot;))}">
            <hidden/>
        </field>
        <field name="fromDate" title="${uiLabelMap.BaseBegin}" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isEmpty(context.get(&quot;usePeriod&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showDates&quot;))}">
            <date-time type="date"/>
        </field>
        <field name="thruDate" title="${uiLabelMap.BaseEnd}" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isEmpty(context.get(&quot;usePeriod&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;showDates&quot;))}">
            <date-time type="date"/>
        </field>        
        <field name="periodFromDate" title="${uiLabelMap.BaseBegin}" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;usePeriod&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <drop-down type="drop-list" maxlength="255" size="15" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="customTimePeriodCode">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${customTimePeriodCode}">
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <select-field field-name="customTimePeriodCode" display="true"/>
                    <select-field field-name="fromDate" display="hidden"/>
                    <entity-constraint name="periodTypeId" env-name="usePeriod"/>                   
                    <entity-constraint name="fromDate" env-name="estimatedCompletionDate" operator="less-equals"/>                 
                    <entity-constraint name="thruDate" env-name="estimatedStartDate" operator="greater-equals"/>
                    <entity-order-by field-name="fromDate"/>
                </entity-options>
            </drop-down>        
        </field>        
        <field name="periodFromDate" title="${uiLabelMap.BaseBegin}" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;usePeriod&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <drop-down type="drop-list" maxlength="255" size="15" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="customTimePeriodCodeLang">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${customTimePeriodCodeLang}">
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <select-field field-name="customTimePeriodCodeLang" display="true"/>
                    <select-field field-name="fromDate" display="hidden"/>
                    <entity-constraint name="periodTypeId" env-name="usePeriod"/>                   
                    <entity-constraint name="fromDate" env-name="estimatedCompletionDate" operator="less-equals"/>                 
                    <entity-constraint name="thruDate" env-name="estimatedStartDate" operator="greater-equals"/>
                    <entity-order-by field-name="fromDate"/>
                </entity-options>
            </drop-down>        
        </field>      
        <field name="periodThruDate" title="${uiLabelMap.BaseEnd}" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;usePeriod&quot;)) &amp;&amp; !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <drop-down type="drop-list" maxlength="255" size="15" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="customTimePeriodCode">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${customTimePeriodCode}">
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <select-field field-name="customTimePeriodCode" display="true"/>
                    <entity-constraint name="periodTypeId" env-name="usePeriod"/>
                    <entity-constraint name="fromDate" env-name="estimatedCompletionDate" operator="less-equals"/>                 
                    <entity-constraint name="thruDate" env-name="estimatedStartDate" operator="greater-equals"/>
                    <entity-order-by field-name="fromDate"/>
                </entity-options>
            </drop-down>        
        </field>
        <field name="periodThruDate" title="${uiLabelMap.BaseEnd}" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;usePeriod&quot;)) &amp;&amp; &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <drop-down type="drop-list" maxlength="255" size="15" local-autocompleter="false" drop-list-key-field="customTimePeriodId" drop-list-display-field="customTimePeriodCodeLang">
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${customTimePeriodCodeLang}">
                    <select-field field-name="customTimePeriodId" display="hidden"/>
                    <select-field field-name="customTimePeriodCodeLang" display="true"/>
                    <entity-constraint name="periodTypeId" env-name="usePeriod"/>
                    <entity-constraint name="fromDate" env-name="estimatedCompletionDate" operator="less-equals"/>                 
                    <entity-constraint name="thruDate" env-name="estimatedStartDate" operator="greater-equals"/>
                    <entity-order-by field-name="fromDate"/>
                </entity-options>
            </drop-down>        
        </field>        
        <field name="employmentAmount" widget-style="numericInList employmentAmount">
            <text size="14" maxlength="18" read-only="true"/>
        </field>
        <!-- disponibilita in caso di typeEmployment=Assignment e' determinata dal roleTypeWeight dell'altra wepa -->
		<field name="availability" widget-style="availability" widget-area-style="numericInList" title="${uiLabelMap.FormFieldTitle_availability}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;showRoleTypeWeight&quot;)) &amp;&amp; !&quot;N&quot;.equals(showRoleTypeWeight) }">
            <display/>
        </field>
        <field name="availability" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isEmpty(context.get(&quot;showRoleTypeWeight&quot;)) || &quot;N&quot;.equals(showRoleTypeWeight) || &quot;Assignment&quot; == typeEmployment }" >
            <ignored/>
        </field>
        <field name="wepaRoleTypeWeight" widget-style="wepaRoleTypeWeight" widget-area-style="numericInList" use-when="${&quot;Assignment&quot; == typeEmployment}">
            <display floating-tooltip="${bsh: import org.ofbiz.base.util.*; (UtilValidate.isNotEmpty( context.get(&quot;wepaFromDateFrom&quot;) ) ? UtilDateTime.getFormattedDate( context.get(&quot;wepaFromDateFrom&quot;) , &quot;dd/MM/yyyy&quot; , timeZone , locale ) + &quot; - &quot; : &quot;&quot; ) + (UtilValidate.isNotEmpty( context.get(&quot;wepaWorkEffortEtch&quot;) ) ?  context.get(&quot;wepaWorkEffortEtch&quot;) + &quot; - &quot; : &quot;&quot;) + (UtilValidate.isNotEmpty( context.get(&quot;wepaWorkEffortName&quot;) ) ?  context.get(&quot;wepaWorkEffortName&quot;) : &quot;&quot;) }" />
        </field>
        <field name="wepaRoleTypeWeight" use-when="${&quot;Assignment&quot; != typeEmployment}">
            <ignored/>
        </field>
        <field name="endDate" title="${uiLabelMap.WeAssAssEndDateTitle}" widget-style="submit-field" widget-area-style="long-date-field" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weTypeSubId&quot;))}">
            <date-time type="date"/>
        </field>
        <field name="endCauseEnumId" title="${uiLabelMap.WeAssAssEndCauseTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weTypeSubId&quot;))}">
            <drop-down type="drop-list" size="60" local-autocompleter="false" drop-list-key-field="enumId" drop-list-display-field="${endCauseDisplayField}">
                <entity-options entity-name="Enumeration" key-field-name="enumId" description="${${endCauseDisplayField}}">
                    <select-field field-name="enumId" display="hidden"/>
                    <select-field field-name="${endCauseDisplayField}" display="true"/>
                    <entity-constraint name="enumTypeId" value="END_CAUS_TYPE"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>  
        <field name="endReplacementEnumId" title="${uiLabelMap.WeAssAssEndReplacementTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weTypeSubId&quot;))}">
            <drop-down type="drop-list" size="60" local-autocompleter="false" drop-list-key-field="enumId" drop-list-display-field="${endReplacementDisplayField}">
                <entity-options entity-name="Enumeration" key-field-name="enumId" description="${${endReplacementDisplayField}}">
                    <select-field field-name="enumId" display="hidden"/>
                    <select-field field-name="${endReplacementDisplayField}" display="true"/>
                    <entity-constraint name="enumTypeId" value="END_SOST_TYPE"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field> 
        <field name="endWorkEffortId" title="${uiLabelMap.WeAssAssEndWorkEffortTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weTypeSubId&quot;))}">
            <drop-down type="drop-list" size="60" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${endWorkEffortDisplayField}">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${weEtch} - ${${endWorkEffortDisplayField}}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="weEtch" display="true"/>
                    <select-field field-name="${endWorkEffortDisplayField}" display="true"/>
                    <entity-constraint name="workEffortTypeId" env-name="weTypeSubId"/>
                    <entity-constraint name="orgUnitId" operator="in" env-name="orgUnitIdTypeSubList"/>
                    <entity-constraint name="estimatedStartDate" operator="less-equals" lookup-for-field-name="thruDate"/>
                    <entity-constraint name="estimatedCompletionDate" operator="greater-equals" lookup-for-field-name="fromDate"/>
                    <entity-constraint name="sourceReferenceId" operator="not-equals" lookup-for-field-name="personComments"/>
                    <entity-constraint name="orgUnitId" operator="in" lookup-for-field-name="personAllocation"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
					<entity-constraint name="weActivation" operator="not-equals" value="ACTSTATUS_REPLACED"/>
					<entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="weEtch"/>
                </entity-options>
            </drop-down>
        </field>                                
        <field name="entityName">
            <hidden value="WorkEffortPartyAssignmentPerson"/>
        </field>
        <sort-order>
            <sort-field name="partyId"/>
            <sort-field name="category"/>
            <sort-field name="categoryLang"/>
            <sort-field name="fromDate"/>
            <sort-field name="thruDate"/>
            <sort-field name="periodFromDate"/>
            <sort-field name="periodThruDate"/>            
            <sort-field name="profile"/>
            <sort-field name="profileLang"/>
            <sort-field name="employmentAmount"/>
            <sort-field name="roleTypeWeight"/>
            <sort-field name="roleTypeWeightActual"/>
            <sort-field name="availability"/>
            <sort-field name="wepaRoleTypeWeight"/>
            <sort-field name="endDate"/>
            <sort-field name="endCauseEnumId"/>
            <sort-field name="endReplacementEnumId"/>
            <sort-field name="endWorkEffortId"/>
        </sort-order>
    </form>

    <form name="WorkEffortAssignmentAssignmentViewIsObiettivoManagementForm" extends="WorkEffortAssignmentAssignmentViewManagementForm">
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" field="isInqyReadOnly" value="true"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="isPosted">
            <drop-down read-only="${isInsertMode}" allow-empty="true" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
     </form>
    
    <form name="WorkEffortAssignmentAssignmentViewManagementForm" extends="WorkEffortAssignmentViewManagementFormExtends">
        <actions>
        	<script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkRoleTypeWeightEditability.groovy"/>
        </actions>
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" value="true" field="isReadOnly"/>
                    <if-compare field="isPosted" operator="not-equals" value="Y"/>
                    <if-compare field="crudEnumId" operator="not-equals" value="NONE"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="typeEmployment">
            <hidden/>
        </field>
        <field name="roleTypeId" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="roleTypeId" drop-list-display-field="description">
                <entity-options entity-name="RoleType" key-field-name="roleTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="roleTypeId"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId"/>
                    <entity-order-by field-name="parentTypeId"/>
                    <entity-order-by field-name="roleTypeId"/>
                </entity-options>
            </drop-down>
        </field>
        
        <field name="partyId" title="${uiLabelMap.BaseParty}" required-field="true">
            <lookup read-only="!isInsertMode" target="lookupPartyRoleOrgHumanResView" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N,partyRelationshipTypeIdApp=ORG_EMPLOYMENT,roleTypeIdApp=${we.orgUnitRoleTypeId},partyIdApp=${we.orgUnitId},workEffortId=${we.workEffortId},searchDate=${parameters.searchDate},fromHumanResFolder=Y" target-form-name="lookUpPartyRoleViewForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
                <entity-options entity-name="PartyRoleViewAndEmpl" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <select-field field-name="category" display="hidden-disabled"/>
                    <select-field field-name="profile" display="hidden-disabled"/>
                    <select-field field-name="employmentAmount" display="hidden-disabled"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="partyId" title="${uiLabelMap.BaseParty}" required-field="true" sort-field="true" use-when="${&quot;Parent&quot; == typeEmployment}">
            <lookup size="60" description-field-size="60" read-only="!isInsertMode" target="lookupPartyRoleOrgHumanResView" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N,partyRelationshipTypeIdApp=ORG_EMPLOYMENT,roleTypeIdApp=${weOrgUnitParent.roleTypeIdFrom},partyIdApp=${weOrgUnitParent.partyIdFrom},workEffortId=${we.workEffortId},enableMassiveInsert=Y,massiveInsertReloadFormId=WEAVMM004_WorkEffortAssignmentView,enableMultiRowInsert=Y,multiRowInsertFields=partyId,resetFormAfterSelect=Y,reloadCurrentRow=Y,searchDate=${parameters.searchDate},fromHumanResFolder=Y" target-form-name="lookUpPartyRoleViewForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
                <entity-options entity-name="PartyRoleViewAndEmpl" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <select-field field-name="category" display="hidden-disabled"/>
                    <select-field field-name="profile" display="hidden-disabled"/>
                    <select-field field-name="employmentAmount" display="hidden-disabled"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="partyId" title="${uiLabelMap.BaseParty}" required-field="true" use-when="${&quot;Assignment&quot; == typeEmployment}">
            <lookup lookup-autocomplete="false" read-only="!isInsertMode" target="lookupPartyRoleAssignmentView" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N,roleTypeId=WE_ASSIGNMENT,wepaFromDateFrom=${defaultThruDate},wepaThruDateFrom=${defaultFromDate},searchDate=${parameters.searchDate}" target-form-name="lookupWepaView" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
				<entity-options entity-name="PartyRoleAssignmentView" key-field-name="partyId" description="${partyName}">
                    <!-- campi finti perche' autocomplete e' disabilitato, cerca WE_ASSIGNMENT, poi crea con valore roleTypeId da config -->
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <select-field field-name="category" display="hidden-disabled"/>
                    <select-field field-name="profile" display="hidden-disabled"/>
                    <select-field field-name="employmentAmount" display="hidden-disabled"/>
                    <select-field field-name="wepaWorkEffortIdFrom" display="hidden-disabled"/>
                    <select-field field-name="wepaFromDateFrom" display="hidden-disabled"/>
                    <select-field field-name="wepaRoleTypeWeight" display="hidden-disabled"/>
                    <select-field field-name="wepaWorkEffortName" display="hidden-disabled"/>
                    <entity-constraint name="roleTypeId" value="WE_ASSIGNMENT"/>
                    <entity-constraint name="wepaWorkEffortIdFrom" env-name="wepaWorkEffortIdFrom"/>
                    <entity-constraint name="wepaFromDateFrom" env-name="wepaFromDateFrom"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="wepaRoleTypeIdFrom" use-when="${&quot;Assignment&quot; == typeEmployment}">
            <hidden value="WE_ASSIGNMENT"/>
        </field>
        <field name="wepaWorkEffortIdFrom" widget-style="wepaWorkEffortIdFrom" >
            <hidden/>
        </field>
        <field name="roleTypeWeight" widget-style="submit-field numericInSingle" title="${uiLabelMap.WorkEffortAssignment_roleTypeWeightImpiego}">
            <text size="14" maxlength="18" default-value="100" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || !&quot;Y&quot;.equals(canModifyRoleTypeWeight)"/>
        </field>
        <field name="roleTypeWeightActual" widget-style="submit-field numericInSingle">
            <text size="14" maxlength="18" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;)) || !&quot;Y&quot;.equals(canModifyRoleTypeWeightActual)"/>
        </field>
        <!-- disponibilita in caso di typeEmployment=Assignment e' determinata dal roleTypeWeight dell'altra wepa -->
        <field name="availability" use-when="${&quot;Assignment&quot; != typeEmployment}" widget-style="numericInSingle" title="${uiLabelMap.FormFieldTitle_availability}">
            <text size="14" maxlength="18" read-only="true"/>
        </field>
        <field name="availability" use-when="${&quot;Assignment&quot; == typeEmployment}" >
            <ignored/>
        </field>
        <field name="wepaRoleTypeWeight" widget-style="wepaRoleTypeWeight numericInSingle submit-field" use-when="${&quot;Assignment&quot; == typeEmployment}">
            <text size="14" maxlength="18" read-only="true"/>
        </field>
        <field name="wepaFromDateFrom" widget-style="wepaFromDateFrom submit-field" use-when="${&quot;Assignment&quot; == typeEmployment}">
            <date-time type="date" read-only="true"/>
        </field>
        <field name="wepaWorkEffortName" widget-style="wepaWorkEffortName" title="${uiLabelMap.FormFieldTitle_wepaWorkEffortIdFrom}" use-when="${&quot;Assignment&quot; == typeEmployment}">
            <text size="100" read-only="true"/>
        </field>
        <field name="comments" title="${commentTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="130" rows="6"/>
        </field>
        <field name="comments" title="${weassCommentsTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="130" rows="4"/>
        </field>
        <field name="commentsLang" title="${weassCommentsLangTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <textarea cols="130" rows="4"/>
        </field>         
        <field name="endDate" title="${uiLabelMap.WeAssAssEndDateTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weTypeSubId&quot;))}">
            <date-time type="date"/>
        </field>
        <field name="endCauseEnumId" title="${uiLabelMap.WeAssAssEndCauseTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weTypeSubId&quot;))}">
            <drop-down type="drop-list" size="50" local-autocompleter="false" drop-list-key-field="enumId" drop-list-display-field="${endCauseDisplayField}">
                <entity-options entity-name="Enumeration" key-field-name="enumId" description="${${endCauseDisplayField}}">
                    <select-field field-name="enumId" display="hidden"/>
                    <select-field field-name="${endCauseDisplayField}" display="true"/>
                    <entity-constraint name="enumTypeId" value="END_CAUS_TYPE"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>  
        <field name="endReplacementEnumId" title="${uiLabelMap.WeAssAssEndReplacementTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weTypeSubId&quot;))}">
            <drop-down type="drop-list" size="50" local-autocompleter="false" drop-list-key-field="enumId" drop-list-display-field="${endReplacementDisplayField}">
                <entity-options entity-name="Enumeration" key-field-name="enumId" description="${${endReplacementDisplayField}}">
                    <select-field field-name="enumId" display="hidden"/>
                    <select-field field-name="${endReplacementDisplayField}" display="true"/>
                    <entity-constraint name="enumTypeId" value="END_SOST_TYPE"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field> 
        <field name="endWorkEffortId" title="${uiLabelMap.WeAssAssEndWorkEffortTitle}" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;weTypeSubId&quot;))}">
            <drop-down type="drop-list" size="50" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${endWorkEffortDisplayField}">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${weEtch} - ${${endWorkEffortDisplayField}}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="weEtch" display="true"/>
                    <select-field field-name="${endWorkEffortDisplayField}" display="true"/>
                    <entity-constraint name="workEffortTypeId" env-name="weTypeSubId"/>
                    <entity-constraint name="estimatedStartDate" operator="less-equals" lookup-for-field-name="thruDate"/>
                    <entity-constraint name="estimatedCompletionDate" operator="greater-equals" lookup-for-field-name="fromDate"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
					<entity-constraint name="weActivation" operator="not-equals" value="ACTSTATUS_REPLACED"/>
					<entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="weEtch"/>
                </entity-options>
            </drop-down>
        </field>        
        <field name="wepaRoleTypeWeight" use-when="${&quot;Assignment&quot; != typeEmployment}">
            <ignored/>
        </field>
        <field name="wepaFromDateFrom" widget-style="wepaFromDateFrom" use-when="${&quot;Assignment&quot; != typeEmployment}">
            <ignored/>
        </field>
        <field name="wepaWorkEffortName" use-when="${&quot;Assignment&quot; != typeEmployment}">
            <ignored/>
        </field>
        <sort-order>
        	<sort-field name="workEffortId"/>
        	<sort-field name="roleTypeId"/>
        	<sort-field name="partyId"/>
        	<sort-field name="category"/>
        	<sort-field name="profile"/>
        	<sort-field name="employmentAmount"/>
        	<sort-field name="fromDate"/>
            <sort-field name="thruDate"/>
            <sort-field name="comments"/>
            <sort-field name="commentsLang"/>
            <sort-field name="roleTypeWeight"/>
            <sort-field name="roleTypeWeightActual"/>
            <sort-field name="workEffortMeasureId"/>
            <sort-field name="availability"/>
            <sort-field name="wepaRoleTypeWeight"/>
            <sort-field name="wepaFromDateFrom"/>
            <sort-field name="wepaWorkEffortName"/>
            <sort-field name="isPosted"/>
            <sort-field name="endDate"/>
            <sort-field name="endCauseEnumId"/>
            <sort-field name="endReplacementEnumId"/>
            <sort-field name="endWorkEffortId"/>
        </sort-order>
    </form>
    
    <form name="WorkEffortRelatedAssignmentIsObiettivoManagementMultiForm" extends="WorkEffortRelatedAssignmentManagementListForm">
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
    </form>

    <form name="WorkEffortRelatedAssignmentManagementListForm" list-name="relatedAssignmentList" id="RAVMM001_WorkEffortRelatedAssignment" extends="BaseManagementMultiForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
			<set field="isReadOnly" value="true" type="Boolean" />
		</actions>
		<read-only>
			<not>
				<if-empty field="isReadOnly"/>
			</not>
        </read-only>
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="collegato" title="${RelatedAssignmentTitleValue}">
            <display/>
        </field>
        <field name="assegnazione" title="${uiLabelMap.WorkEffortRelatedAssignment_Assignment}">
            <display/>
        </field>
    </form>    

    <!-- WorkEffortAssignmentOrgUnitView -->

    <form name="WorkEffortAssignmentOrgUnitViewManagementMultiForm" id="WEAVMM005_WorkEffortAssignmentView" extends="WorkEffortAssignmentViewManagementMultiForm">
        <actions>
        	<script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
        	<!-- script legato al params onlyChild e onlyGrandchild -->
        	<script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getWorkEffortOrgUnit.groovy"/>
            <set field="weTypeRoleWeTypeId" value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;workEffortTypeId&quot;)) ? context.get(&quot;workEffortTypeId&quot;) : parameters.get(&quot;workEffortTypeId&quot;)}"/>
            <set field="weTypeRoleParentTypeId" value="ORGANIZATION_UNIT"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getWorkEffortTypeRoleList.groovy"/>
            <set field="weContextId" value=""/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/setWorkEffortAssignmentViewFormPartyIdFields.groovy"/>
        </actions>
        <field name="checkPartyRole">
        	<hidden value="Y"/>
        </field>       
        <field name="roleTypeId" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;showRoleType&quot;))}" title="${uiLabelMap.WorkEffortAssignment_roleTypeId}" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="30" local-autocompleter="true" drop-list-key-field="roleTypeId" drop-list-display-field="${roleTypeDisplayField}">
                <list-options key-name="roleTypeId" list-name="workEffortTypeAndRoleList" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}"/>
            </drop-down>
        </field>
        <field name="roleTypeId" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;showRoleType&quot;))}" widget-style="roleTypeId">
        	<hidden/>
        </field>
        
        <field name="parentOrgUnitId" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;onlyChild&quot;)) || &quot;Y&quot;.equals(context.get(&quot;onlyGrandchild&quot;))}" widget-style="parentOrgUnitId">
        	<hidden/>
        </field>
        <field name="partyId" title="${PartyTitleValue}" use-when="${bsh: !&quot;NONE&quot;.equals(context.get(&quot;showUoCode&quot;))}" required-field="true">
            <drop-down type="drop-list" read-only="isReadOnly || !isInsertMode" maxlength="255" size="30" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="${displayPartyIdField}">
                <entity-options distinct="true" entity-name="PartyRole${entityNameExtended}View" key-field-name="partyId" description="${${codeField}} - ${${displayPartyIdField}}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="roleTypeId" display="hidden"/>
                    <select-field field-name="${codeField}"/>
                    <select-field field-name="${displayPartyIdField}" display="true" description="@{${codeField}} - @{${displayPartyIdField}}"/>
                    <entity-constraint name="parentOrgUnitId" env-name="parentOrgUnitId" lookup-for-field-name="parentOrgUnitId"/>
                    <entity-constraint name="parentOrgUnitRoleTypeId" env-name="parentOrgUnitRoleTypeId" lookup-for-field-name="parentOrgUnitRoleTypeId"/>
                    <entity-constraint name="roleTypeId" operator="in" env-name="workEffortTypeRoleList"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-constraint name="treeLevel" operator="in" env-name="treeLevelList"/>
                    <entity-order-by field-name="${orderByPartyIdField}"/>
                </entity-options>
            </drop-down>
        </field>   
        <field name="partyId" title="${PartyTitleValue}" use-when="${bsh: &quot;NONE&quot;.equals(context.get(&quot;showUoCode&quot;))}" required-field="true">
            <drop-down type="drop-list" read-only="isReadOnly || !isInsertMode" maxlength="255" size="30" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="${displayPartyIdField}">
                <entity-options distinct="true" entity-name="PartyRole${entityNameExtended}View" key-field-name="partyId" description="${${displayPartyIdField}}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="roleTypeId" display="hidden"/>
                    <select-field field-name="${displayPartyIdField}" display="true" description="@{${displayPartyIdField}}"/>
                    <entity-constraint name="parentOrgUnitId" env-name="parentOrgUnitId" lookup-for-field-name="parentOrgUnitId"/>
                    <entity-constraint name="parentOrgUnitRoleTypeId" env-name="parentOrgUnitRoleTypeId" lookup-for-field-name="parentOrgUnitRoleTypeId"/>
                    <entity-constraint name="roleTypeId" operator="in" env-name="workEffortTypeRoleList"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-constraint name="treeLevel" operator="in" env-name="treeLevelList"/>
                    <entity-order-by field-name="${orderByPartyIdField}"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="fromDate" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;showDates&quot;))}">
            <hidden value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;fromDate&quot;)) ? context.get(&quot;fromDate&quot;) : we.get(&quot;estimatedStartDate&quot;)}"/>
        </field>
        <field name="thruDate" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;showDates&quot;))}">
            <hidden value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;thruDate&quot;)) ? context.get(&quot;thruDate&quot;) : we.get(&quot;estimatedCompletionDate&quot;)}"/>
        </field>
        <field name="roleTypeWeight" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;showRoleTypeWeight&quot;))}">
            <hidden value="100"/>
        </field>
    </form>

	<form name="WorkEffortAssignmentOrgUnitViewIsObiettivoManagementMultiForm" extends="WorkEffortAssignmentOrgUnitViewManagementMultiForm">
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="roleTypeId" title="${uiLabelMap.WorkEffortAssignment_roleTypeId}" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="30" local-autocompleter="true" drop-list-key-field="roleTypeId" drop-list-display-field="${roleTypeDisplayField}">
                <list-options key-name="roleTypeId" list-name="workEffortTypeAndRoleList" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}"/>
            </drop-down>
        </field>        
        <field name="partyId" title="${uiLabelMap.BaseParty}" required-field="true" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="30" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="partyNameLang">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${parentRoleCode} - ${partyNameLang}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="parentRoleCode"/>
                    <select-field field-name="partyNameLang" display="true" description="@{parentRoleCode} - @{partyNameLang}"/>
                    <entity-constraint name="roleTypeId" operator="in" env-name="workEffortTypeRoleList"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="parentRoleCode"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyId" title="${uiLabelMap.BaseParty}" required-field="true" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="30" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${parentRoleCode} - ${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="parentRoleCode"/>
                    <select-field field-name="partyName" display="true" description="@{parentRoleCode} - @{partyName}"/>
                    <entity-constraint name="roleTypeId" operator="in" env-name="workEffortTypeRoleList"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="parentRoleCode"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="fromDate">
            <hidden value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;fromDate&quot;)) ? context.get(&quot;fromDate&quot;) : we.get(&quot;estimatedStartDate&quot;)}"/>
        </field>
        <field name="thruDate">
            <hidden value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;thruDate&quot;)) ? context.get(&quot;thruDate&quot;) : we.get(&quot;estimatedCompletionDate&quot;)}"/>
        </field>                
        <field name="roleTypeWeight" title="${uiLabelMap.WorkEffortAssignment_weight}" widget-style="numericInList submit-field">
            <text size="14" maxlength="18" default-value="100"/>
        </field>
        <field name="sequenceNum" widget-style="numericInList">
        	<text default-value="1"/>
        </field>
    </form>
    
    <form name="WorkEffortAssignmentOrgUnitViewManagementForm" extends="WorkEffortAssignmentViewManagementForm">
        <actions>
        	<script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getWorkEffortOrgUnit.groovy"/>
            <set field="weTypeRoleWeTypeId" from-field="parameters.workEffortTypeId"/>
            <set field="weTypeRoleParentTypeId" value="ORGANIZATION_UNIT"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getWorkEffortTypeRoleList.groovy"/>        	
        </actions> 
        <field name="checkPartyRole">
        	<hidden value="Y"/>
        </field>           
        <field name="roleTypeId" title="${uiLabelMap.WorkEffortAssignment_roleTypeId}" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="50" local-autocompleter="true" drop-list-key-field="roleTypeId" drop-list-display-field="${roleTypeDisplayField}">
                <list-options key-name="roleTypeId" list-name="workEffortTypeAndRoleList" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}"/>
            </drop-down>
        </field>
        <field name="partyId" title="${uiLabelMap.BaseParty}" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="30" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="${partyDisplayField}">
                <entity-options distinct="true" entity-name="PartyRole${entityNameExtended}View" key-field-name="partyId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? partyNameLang : partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="${partyDisplayField}" display="true"/>
                    <entity-constraint name="parentOrgUnitId" env-name="parentOrgUnitId" lookup-for-field-name="parentOrgUnitId"/>
                    <entity-constraint name="parentOrgUnitRoleTypeId" env-name="parentOrgUnitRoleTypeId" lookup-for-field-name="parentOrgUnitRoleTypeId"/>
                    <entity-constraint name="roleTypeId" operator="in" env-name="workEffortTypeRoleList"/>                    
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-constraint name="treeLevel" operator="in" env-name="treeLevelList"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </drop-down>
        </field>        
    </form>

	<form name="WorkEffortAssignmentOrgUnitViewIsObiettivoManagementForm" extends="WorkEffortAssignmentOrgUnitViewManagementForm">
        <read-only>
            <not>
                <and>
                    <if-compare operator="not-equals" value="true" field="isReadOnly"/>
                    <or>
                        <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                        <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                        <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                        <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                    </or>
                </and>
            </not>
        </read-only>
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="partyId" title="${uiLabelMap.BaseParty}" required-field="true">
            <drop-down type="drop-list" read-only="!isInsertMode" maxlength="255" size="30" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="${partyDisplayField}">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? partyNameLang : partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="${partyDisplayField}" display="true"/>
                    <entity-constraint name="roleTypeId" operator="in" env-name="workEffortTypeRoleList"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </drop-down>
        </field>        
    </form>
    
    <!-- ********************************************************************** -->
	
	<!-- non vengono pi utilizzati INIZIO -->
    <form name="WorkEffortPlanPerformanceSummaryManagementListForm" id="WorkEffortPlanPerformanceSummaryManagementListForm" extends="BasePortletListForm" extends-resource="component://base/widget/PortletForms.xml">
        <field name="orgUnitId" widget-area-style="orgUnitColumn">
            <display-entity entity-name="Party" key-field-name="partyId" description="${partyName}"/>
        </field>
        <field name="WEEVALST_PLANINIT" title="${uiLabelMap.WeStatusPlanInitTotal}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
        <field name="WEEVALST_PLANPEND" title="${uiLabelMap.WeStatusPlanPEnd}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
        <field name="WEEVALST_PLANSUB" title="${uiLabelMap.WeStatusPlanSubTotal}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
        <field name="WEEVALST_PLANSHARED" title="${uiLabelMap.WeStatusPlanSharedTotal}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
        <field name="WEEVALST_PLANAPP" title="${uiLabelMap.WeStatusPlanAppTotal}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
        <field name="WEEVALST_PLANFINAL" title="${uiLabelMap.WeStatusPlanFinalTotal}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
    </form>

    <form name="WorkEffortMonitPerformanceSummaryManagementListForm" id="WorkEffortMonitPerformanceSummaryManagementListForm" extends="BasePortletListForm" extends-resource="component://base/widget/PortletForms.xml">
        <field name="orgUnitId" widget-area-style="orgUnitColumn">
            <display-entity entity-name="Party" key-field-name="partyId" description="${partyName}"/>
        </field>
        <field name="WEEVALST_MONITINIT" title="${uiLabelMap.WeStatusPlanInitTotal}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
        <field name="WEEVALST_MONITPEND" title="${uiLabelMap.WeStatusPlanPEnd}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
        <field name="WEEVALST_MONITSUB" title="${uiLabelMap.WeStatusPlanSubTotal}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
        <field name="WEEVALST_MONITSHARED" title="${uiLabelMap.WeStatusPlanSharedTotal}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
        <field name="WEEVALST_MONITAPP" title="${uiLabelMap.WeStatusPlanAppTotal}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
        <field name="WEEVALST_MONITFINAL" title="${uiLabelMap.WeStatusPlanFinalTotal}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
    </form>

    <form name="WorkEffortExecPerformanceSummaryManagementListForm" id="WorkEffortExecPerformanceSummaryManagementListForm" extends="BasePortletListForm" extends-resource="component://base/widget/PortletForms.xml">
        <field name="orgUnitId" widget-area-style="orgUnitColumn">
            <display description="${bsh: import org.ofbiz.party.party.PartyHelper; PartyHelper.getPartyName(delegator, orgUnitId, true);}"/>
        </field>
        <field name="WEEVALST_EXECINIT" title="${uiLabelMap.WeStatusPlanInitTotal}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
        <field name="WEEVALST_EXECPEND" title="${uiLabelMap.WeStatusPlanPEnd}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
        <field name="WEEVALST_EXECSUB" title="${uiLabelMap.WeStatusPlanSubTotal}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
        <field name="WEEVALST_EXECSHARED" title="${uiLabelMap.WeStatusPlanSharedTotal}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
        <field name="WEEVALST_EXECAPP" title="${uiLabelMap.WeStatusPlanAppTotal}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
        <field name="WEEVALST_EXECFINAL" title="${uiLabelMap.WeStatusPlanFinalTotal}" sort-field="true" widget-area-style="center">
            <display also-hidden="false"/>
        </field>
    </form>    
	<!-- FINE -->
	
    <form name="MyPerformanceManagementListForm" id="MPML0001_MyPerformance" extends="BasePortletListForm" extends-resource="component://base/widget/PortletForms.xml">
        <field name="estimatedStartDate" title="${uiLabelMap.performanceEstimatedStartDate}">
            <display type="date"/>
        </field>
        <field name="estimatedCompletionDate" title="${uiLabelMap.performanceEstimatedCompletionDate}">
            <display type="date"/>
        </field>
        <field name="orgUnitId" widget-area-style="orgUnitColumn">
            <display description="${orgUnitName}"/>
        </field>
        <field name="partyId" title="${uiLabelMap.HeaderEvalManagerName}">
            <display description="${partyName}"/>
        </field>
        <field name="workEffortName" widget-area-style="orgUnitColumn">
            <hyperlink link-type="anchor" description="${workEffortName}" target="managementContainerOnly?externalLoginKey=${externalLoginKey}&amp;entityName=WorkEffortView&amp;rootInqyTree=Y&amp;rootTree=N&amp;loadTreeView=Y&amp;workEffortIdRoot=${workEffortId}&amp;workEffortId=${workEffortId}&amp;weHierarchyTypeId=${weHierarchyTypeId}&amp;sourceReferenceId=${sourceReferenceId}&amp;saveView=N&amp;operation=UPDATE&amp;interApp=emplperf" target-type="intra-app" also-hidden="false"/>
            <on-field-event-update-area area-target="managementContainerOnly?externalLoginKey=${externalLoginKey}&amp;entityName=WorkEffortView&amp;rootInqyTree=Y&amp;rootTree=N&amp;loadTreeView=Y&amp;workEffortIdRoot=${workEffortId}&amp;workEffortId=${workEffortId}&amp;weHierarchyTypeId=${weHierarchyTypeId}&amp;sourceReferenceId=${sourceReferenceId}&amp;saveView=N&amp;operation=UPDATE&amp;interApp=emplperf" event-type="click" area-id="common-container" target-type="plain"/>
        </field>
        <field name="stDescription" title="${uiLabelMap.CommonStatus}" widget-area-style="center">
            <display/>
        </field>
    </form>

    <form name="WorkEffortRoleAssignmentIsObiettivoManagementMultiForm" extends="WorkEffortRoleAssignmentManagementMultiForm">
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
        <field name="comments" sort-field="true">
            <text size="50" maxlength="250"/>
        </field>
    </form>
    
    <form name="WorkEffortRoleAssignmentManagementMultiForm" id="WETAMM001_WorkEffortRoleAssignement" extends="BaseManagementMultiForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <script location="component://partyext/webapp/partyext/WEB-INF/actions/getUserLoginChildRoleTypeList.groovy"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
        </actions>
        <read-only>
            <or>
                <not>
                    <and>
                        <if-compare operator="not-equals" field="isReadOnly" value="true"/>
	                    <if-compare operator="not-equals" field="isPosted" value="Y"/>
	                    <if-compare operator="not-equals" field="crudEnumId" value="NONE"/>
                        <or>
                            <if-has-permission permission="WORKEFFORTMGR_ADMIN"/>
                            <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                            <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                            <if-has-permission permission="WORKEFFORTORG_ADMIN"/>
                            <if-has-permission permission="WORKEFFORTROLE_ADMIN"/>
                        </or>
                    </and>
                </not>
            </or>
        </read-only>
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="weActivation">
            <hidden/>
        </field>
        <field name="isPosted">
            <hidden/>
        </field>
        <field name="roleTypeId" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; &quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}" required-field="true">
            <drop-down size="30" type="drop-list" drop-list-key-field="roleTypeId" drop-list-display-field="description">
                <auto-complete choices="100"/>
                <list-options list-name="userLoginChildRoleTypeList" key-name="roleTypeId" description="${description}"/>
            </drop-down>
        </field>
        <field name="roleTypeId" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; &quot;N&quot;.equals(context.get(&quot;insertMode&quot;))}" required-field="true">
            <drop-down size="30" read-only="true" type="drop-list" drop-list-key-field="roleTypeId" drop-list-display-field="description">
                <entity-options entity-name="RoleType" key-field-name="roleTypeId" description="${description}"/>
            </drop-down>
        </field>
        <field name="comments" sort-field="true">
            <text size="50" maxlength="250" read-only="&quot;Y&quot;.equals(context.get(&quot;isPosted&quot;))"/>
        </field>
    </form>

    <form name="WorkEffortViewIndividualPerformanceManagementForm" id="WEVIPMF001_WorkEffortView" extends="BasePortletParentForm" extends-resource="component://base/widget/PortletForms.xml">
        <field name="workEffortId">
            <hidden/>
        </field>
    </form>

    <form name="WorkEffortViewOrganizationalAndStrategicPerformanceManagementForm" id="WEVOSPMF001_WorkEffortView" extends="BasePortletParentForm" extends-resource="component://base/widget/PortletForms.xml">
        <field name="workEffortId">
            <hidden/>
        </field>
    </form>
    
    <form name="WorkEffortTimeEntryIsObiettivoManagementMultiForm" extends="WorkEffortTimeEntryManagementListForm">
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>
    </form>

    <form name="WorkEffortTimeEntryManagementListForm" list-name="timeEntryList" id="TETARMM001_WorkEffortTimeEntry" extends="BaseManagementMultiForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
			<set field="isReadOnly" value="true" type="Boolean" />
		</actions>
		<read-only>
			<not>
				<if-empty field="isReadOnly"/>
			</not>
        </read-only>
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="projectName" title="${uiLabelMap.Project}">
            <display/>
        </field>
        <field name="taskName" title="${uiLabelMap.Task}">
            <display/>
        </field>
        <field name="partyName" use-when="&quot;Y&quot; == showParty" title="${uiLabelMap.FormFieldTitle_TimeEntryPartyId}">
            <display/>
        </field>
        <field name="hours" widget-style="numericInList">
            <text size="19" maxlength="19" decimal-digits="2"/>
        </field>
    </form>

    <!-- WorkEffort Content -->

    <form name="WorkEffortAndContentDataResourceExtendedManagementListForm" id="WACDRML001_WorkEffortAndContentDataResourceExtended" extends="AbstractContentManagementListForm" extends-resource="component://base/widget/ContentForms.xml">    
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="workEffortContentTypeId" title="${uiLabelMap.WorkEffortContentType_workEffortContentTypeId}" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" sort-field="true">
            <display-entity entity-name="WorkEffortContentType"/>
        </field>
        <field name="workEffortContentTypeId" title="${uiLabelMap.WorkEffortContentType_workEffortContentTypeId}" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" sort-field="true">
            <display-entity entity-name="WorkEffortContentType" description="${descriptionLang}"/>
        </field>        
        <field name="workEffortContentTypeId" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; &quot;Y&quot;.equals(context.get(&quot;cruContent&quot;))}" title="${uiLabelMap.WorkEffortContentType_workEffortContentTypeId}" sort-field="true">
             <hidden/>
        </field>
        <field name="contentTypeId">
    		 <hidden/>
    	</field>
    	<field name="contentName" title="${uiLabelMap.FormFieldTitle_attrName}" sort-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; &quot;Y&quot;.equals(context.get(&quot;cruContent&quot;))}" >
    		<display/>
    	</field>
    	<field name="fromDate" red-when="never" sort-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; &quot;Y&quot;.equals(context.get(&quot;cruContent&quot;))}" >
    		 <hidden/>
    	</field>
    	<field name="thruDate" red-when="never" sort-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; &quot;Y&quot;.equals(context.get(&quot;cruContent&quot;))}" >
    		 <hidden/>
    	</field>
    	<field name="contentId">
    		 <hidden/>
    	</field>       
    	<field name="objectInfo">
    		<hidden />
    	</field>
    	<field name="objectInfoTruncate">
    		<display />
    	</field>
    	<field name="description" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
			<display/>
		</field>
    	<field name="descriptionLang" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" title="${uiLabelMap.FormFieldTitle_description}">
			<display/>
		</field>		        
        <sort-order>
            <sort-field name="workEffortContentTypeId"/>
            <sort-field name="contentTypeId"/>
            <sort-field name="fromDate"/>
            <sort-field name="thruDate"/>
            <sort-field name="contentId"/>
            <sort-field name="contentName"/>
            <sort-field name="objectInfoTruncate"/>
            <sort-field name="description"/>
            <sort-field name="descriptionLang"/>
        </sort-order>
    </form>

    <form name="WorkEffortAndContentDataResourceExtendedManagementForm" id="WACDRMF001_WorkEffortAndContentDataResourceExtended" extends="AbstractContentManagementForm" extends-resource="component://base/widget/ContentForms.xml">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusAttachmentCrudEnum.groovy"/>     
        </actions>
        <read-only>
           <or>
                <if-compare operator="equals" field="crudEnumId" value="NONE"/>
                <not>
                   <or>
                       <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                       <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                       <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                       <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                   </or>
            	</not>
            </or>
        </read-only>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortAndContentDataResourceExtended"/>
        </field>
        <field name="partyId">
            <hidden value="${userLogin.partyId}"/>
        </field>
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="contentTypeDescription">
        	<ignored/>
        </field>
        <field name="workEffortContentTypeId" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" required-field="true" title="${uiLabelMap.WorkEffortContentType_workEffortContentTypeId}" widget-style="drop-list-to-listen">
            <drop-down type="drop-list" read-only="true" local-autocompleter="false" drop-list-key-field="workEffortContentTypeId" drop-list-display-field="wctDescription" size="50" maxlength="255">
                <entity-options entity-name="ContentTypeAndWorkEffortContentType" key-field-name="workEffortContentTypeId" description="${wctDescription}">
                    <select-field field-name="workEffortContentTypeId"/>
                    <select-field field-name="wctDescription" display="true"/>
                    <select-field field-name="contentTypeId"/>
                    <select-field field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="workEffortContentTypeId" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" required-field="true" title="${uiLabelMap.WorkEffortContentType_workEffortContentTypeId}" widget-style="drop-list-to-listen">
            <drop-down type="drop-list" read-only="true" local-autocompleter="false" drop-list-key-field="workEffortContentTypeId" drop-list-display-field="wctDescriptionLang" size="50" maxlength="255">
                <entity-options entity-name="ContentTypeAndWorkEffortContentType" key-field-name="workEffortContentTypeId" description="${wctDescriptionLang}">
                    <select-field field-name="workEffortContentTypeId"/>
                    <select-field field-name="wctDescriptionLang" display="true"/>
                    <select-field field-name="contentTypeId"/>
                    <select-field field-name="description"/>
                </entity-options>
            </drop-down>
        </field>        
		<field name="description" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
			<text size="50" maxlength="255"/>
		</field>      
        <field name="descriptionIcon" title="${uiLabelMap.FormFieldTitle_description}" position="1" widget-style="icon" widget-area-style="flag-icon-cnt" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
        	<image type="content-url" tooltip="${primaryLangTooltip}" value="${primaryLangFlagPath}"/>
        </field>        
        <field name="description" title-area-style="hidden-label" position="2" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <text size="50" maxlength="255"/>
        </field>        
        <field name="descriptionLangIcon" title="&#32;" position="1" widget-style="icon" widget-area-style="flag-icon-cnt" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
        	<image type="content-url" tooltip="${secondaryLangTooltip}" value="${secondaryLangFlagPath}"/>
        </field>        
        <field name="descriptionLang" title-area-style="hidden-label" position="2" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
            <text size="50" maxlength="255"/>
        </field>                   
        <sort-order>
            <sort-field name="workEffortContentTypeId"/>
            <sort-field name="fromDateDisplay"/>
            <sort-field name="thruDate"/>
            <sort-field name="contentId"/>
            <sort-field name="contentName"/>
            <sort-field name="descriptionIcon"/>
            <sort-field name="description"/>
            <sort-field name="descriptionLangIcon"/>
            <sort-field name="descriptionLang"/>
        </sort-order>
    </form>

    <form name="WorkEffortAndContentDataResourceExtendedUploadForm" id="WACDRUF_001_WorkEffortAndContentDataResourceExtended" target="uploadWorkEffortContent" extends="AbstractContentUploadForm" extends-resource="component://base/widget/ContentForms.xml">
        <actions>      	
        	<entity-one entity-name="WorkEffort" value-field="workEffort">
        	</entity-one>
        	<set field="workEffortTypeId" from-field="workEffort.workEffortTypeId"/>
        </actions>
        <read-only>
            <or>
                <if-compare operator="equals" field="crudEnumId" value="NONE"/>
                <not>
                   <or>
                       <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                       <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                       <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                       <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                   </or>
            	</not>
            </or>
        </read-only>
        <field name="partyId">
            <hidden value="${userLogin.partyId}"/>
        </field>
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="workEffortTypeId">
            <hidden/>
        </field>
        <field name="contentTypeDescription">
        	<ignored/>
        </field>
        <field name="workEffortContentTypeId" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" required-field="true" title="${uiLabelMap.WorkEffortContentType_workEffortContentTypeId}" widget-style="drop-list-to-listen">
            <drop-down type="drop-list" local-autocompleter="false" drop-list-key-field="workEffortContentTypeId" drop-list-display-field="wctDescription" size="50" maxlength="255">
                <entity-options entity-name="ContentTypeAndWorkEffortTypeContentType" description="${wctDescription}" key-field-name="workEffortContentTypeId">
                    <select-field field-name="workEffortContentTypeId"/>
                    <select-field field-name="wctDescription" display="true"/>
                    <select-field field-name="contentTypeId"/>
                    <select-field field-name="description"/>
                    <entity-constraint name="workEffortTypeId" env-name="workEffortTypeId"/>
                    <entity-order-by field-name="sequenceNum"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="workEffortContentTypeId" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" required-field="true" title="${uiLabelMap.WorkEffortContentType_workEffortContentTypeId}" widget-style="drop-list-to-listen">
            <drop-down type="drop-list" local-autocompleter="false" drop-list-key-field="workEffortContentTypeId" drop-list-display-field="wctDescriptionLang" size="50" maxlength="255">
                <entity-options entity-name="ContentTypeAndWorkEffortTypeContentType" description="${wctDescriptionLang}" key-field-name="workEffortContentTypeId">
                    <select-field field-name="workEffortContentTypeId"/>
                    <select-field field-name="wctDescriptionLang" display="true"/>
                    <select-field field-name="contentTypeId"/>
                    <select-field field-name="description"/>
                    <entity-constraint name="workEffortTypeId" env-name="workEffortTypeId"/>
                    <entity-order-by field-name="sequenceNum"/>
                </entity-options>
            </drop-down>
        </field>                 
 		<field name="description" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
			<text size="50" maxlength="255"/>
		</field>       
 		<field name="description" title="${descriptionTitle}" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
			<text size="50" maxlength="255"/>
		</field>
 		<field name="descriptionLang" title="${descriptionLangTitle}" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
			<text size="50" maxlength="255"/>
		</field>         
        <sort-order>
            <sort-field name="workEffortContentTypeId"/>
            <sort-field name="fromDate"/>
            <sort-field name="thruDate"/>
            <sort-field name="contentId"/>
            <sort-field name="uploadedFile"/>
            <sort-field name="description"/>
            <sort-field name="descriptionLang"/>
        </sort-order>
    </form>

    <!-- 
	   	Attivit 2278 WorkEffortMeasureKpiManagementForm
   	 -->
    <form name="WorkEffortMeasureKpiManagementForm" id="WEMKMF_0001" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml" style="basic-form">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
        </actions>
        <read-only>
            <or>
                <if-compare operator="equals" field="crudEnumId" value="NONE"/>
                <not>
                   <or>
                       <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                       <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                       <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                       <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                   </or>
            	</not>
            </or>
        </read-only>
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="limitExcellent" title="${uiLabelMap.WorkEffortMeasureKpiExcellent}" required-field="true">
            <drop-down current="selected" no-current-selected-key="${glFiscalTypeIdExcellentLimit}" read-only="${bsh: return &quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}">
                <entity-options entity-name="GlFiscalType" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}" key-field-name="glFiscalTypeId">
                </entity-options>
            </drop-down>
        </field>        
        <field name="limitMax" title="${uiLabelMap.WorkEffortMeasureKpiLimitMax}" required-field="true">
            <drop-down current="selected" no-current-selected-key="${glFiscalTypeIdUpperLimit}" read-only="${bsh: return &quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}">
                <entity-options entity-name="GlFiscalType" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}" key-field-name="glFiscalTypeId">
                </entity-options>
            </drop-down>
        </field>        
        <field name="target" title="${uiLabelMap.WorkEffortMeasureKpiTarget}" required-field="true">
            <drop-down current="selected" no-current-selected-key="BUDGET" read-only="${bsh: return &quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}">
                <entity-options entity-name="GlFiscalType" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}" key-field-name="glFiscalTypeId">
                </entity-options>
            </drop-down>
        </field>
        <field name="limitMed" title="${uiLabelMap.WorkEffortMeasureKpiLimitMed}" required-field="true">
            <drop-down current="selected" no-current-selected-key="${glFiscalTypeIdMediumLimit}" read-only="${bsh: return &quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}">
                <entity-options entity-name="GlFiscalType" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}" key-field-name="glFiscalTypeId">
                </entity-options>
            </drop-down>
        </field>        
        <field name="limitMin" title="${uiLabelMap.WorkEffortMeasureKpiLimitMin}" required-field="true">
            <drop-down current="selected" no-current-selected-key="${glFiscalTypeIdLowerLimit}" read-only="${bsh: return &quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}">
                <entity-options entity-name="GlFiscalType" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}" key-field-name="glFiscalTypeId">
                </entity-options>
            </drop-down>
        </field>        
        <field name="performance" required-field="true" title="${uiLabelMap.WorkEffortMeasureKpiPerformance}">
            <drop-down current="selected" no-current-selected-key="ACTUAL" read-only="${bsh: return &quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}">
                <entity-options entity-name="GlFiscalType" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}" key-field-name="glFiscalTypeId">
                </entity-options>
            </drop-down>
        </field>
        <field name="thruDate" required-field="true" title="${uiLabelMap.WorkEffortMeasureKpiThruDate}">
            <date-time type="date" read-only="${bsh: return &quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}"/>  <!-- read-only="true" / -->
        </field>
        <field name="scoreValueType" required-field="true" title="${uiLabelMap.WorkEffortMeasureKpiScoreValueType}">
            <drop-down current="selected" read-only="${bsh: return &quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}">
                <entity-options entity-name="GlFiscalType" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}" key-field-name="glFiscalTypeId">
                </entity-options>
            </drop-down>
        </field>
        <field name="weightType" required-field="true" title="${uiLabelMap.WorkEffortMeasureKpiWeightType}" use-when="${bsh: return &quot;Y&quot;.equals(context.get(&quot;showOtherWeight&quot;))}">
        	<drop-down current="selected">
        		<option key="ORIG" description="${uiLabelMap.WorkEffortMeasureKpiWeightTypeOrig}"/>
        		<option key="ALT" description="${uiLabelMap.WorkEffortMeasureKpiWeightTypeAlt}"/>
        	</drop-down>
        </field>       
        <field name="cleanOnlyScoreCard" required-field="true" widget-style="options-field">
            <drop-down no-current-selected-key="N" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
    </form>

    <!-- Vista log elaborazione -->
    <form name="JobLogUserViewManagementForm" type="list" id="JLUVS001_JobLogUserViewManagement" extends="BasePortletListForm" extends-resource="component://base/widget/PortletForms.xml">
        <field name="jobLogId">
            <hidden/>
        </field>
        <field name="jobLogLogId">
            <hidden/>
        </field>
        <field name="userLoginId">
            <hidden/>
        </field>
        <field name="logTypeEnumId">
            <display/>
        </field>
        <field name="logMessage">
            <display/>
        </field>
        <field name="logCode">
            <display/>
        </field>
    </form>
    
    
    <!--<form name="WorkEffortAssocExtViewManagementParentForm" id="WEAEVMP001_WorkEffortAssocExtView" extends="BaseManagementParentForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="workEffortId" title="${wt.etch}">
            <display description="${workEffortName}"/>
        </field>
    </form>-->
    
    <form name="WorkEffortAndContentDataResourceExtendedContextManagementForm" extends="BaseContextExtendedManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <entity-one entity-name="WorkEffort" value-field="workEffortRoot" auto-field-map="false">
                <field-map field-name="workEffortId" from-field="parameters.workEffortIdRoot"/>
            </entity-one>
            <set field="notAuth" type="Boolean" value="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(parameters.get(&quot;userLoginId&quot;)) ? (!(parameters.get(&quot;userLoginId&quot;).equals(&quot;_NA_&quot;)) ? &quot;false&quot; : &quot;true&quot;) : &quot;true&quot;}"/>
        </actions>
        <field name="insertmodeButton" widget-style="buttontext management-insertmode-button" title=" ">
			<!-- aggiunto saveView = N -->
            <hyperlink link-type="anchor" description="${uiLabelMap.CommonNew}" target="management?oldManagementFormType=${oldManagementFormType}&amp;detail=Y&amp;entityName=${entityName}&amp;parentEntityName=${parentEntityName}&amp;wizard=${parameters.wizard}&amp;insertMode=Y&amp;messageContext=BaseMessageInsert&amp;contextManagement=${contextManagement}&amp;saveView=N&amp;screenNameListIndex=${screenNameListIndex}&amp;folderIndex=${folderIndex}&amp;childManagementDetailTitle=${childManagementDetailTitle}&amp;backAreaId=${backAreaId}&amp;childManagement=${childManagement}&amp;${bsh: import org.ofbiz.base.util.*; return UtilValidate.isNotEmpty(context.get(&quot;managementChildExtraParams&quot;)) ? StringUtil.replaceString(context.get(&quot;managementChildExtraParams&quot;), &quot;|&quot;, &quot;&amp;&quot;) : UtilValidate.isNotEmpty(context.get(&quot;queryString&quot;)) ? StringUtil.replaceString(context.get(&quot;queryString&quot;), &quot;|&quot;, &quot;&amp;&quot;) : UtilValidate.isNotEmpty(parameters.get(&quot;queryString&quot;)) ? StringUtil.replaceString(parameters.get(&quot;queryString&quot;), &quot;|&quot;, &quot;&amp;&quot;) : &quot;&quot;}&amp;${insertExtraParams}" also-hidden="false"/>
            <on-field-event-update-area area-target="${insertAreaTarget}?oldManagementFormType=${oldManagementFormType}&amp;detail=Y&amp;entityName=${entityName}&amp;parentEntityName=${parentEntityName}&amp;wizard=${parameters.wizard}&amp;insertMode=Y&amp;messageContext=BaseMessageInsert&amp;contextManagement=${contextManagement}&amp;saveView=N&amp;screenNameListIndex=${screenNameListIndex}&amp;folderIndex=${folderIndex}&amp;childManagementDetailTitle=${childManagementDetailTitle}&amp;backAreaId=${backAreaId}&amp;childManagement=${childManagement}&amp;${bsh: import org.ofbiz.base.util.*; return UtilValidate.isNotEmpty(context.get(&quot;managementChildExtraParams&quot;)) ? StringUtil.replaceString(context.get(&quot;managementChildExtraParams&quot;), &quot;|&quot;, &quot;&amp;&quot;) : UtilValidate.isNotEmpty(context.get(&quot;queryString&quot;)) ? StringUtil.replaceString(context.get(&quot;queryString&quot;), &quot;|&quot;, &quot;&amp;&quot;) : UtilValidate.isNotEmpty(parameters.get(&quot;queryString&quot;)) ? StringUtil.replaceString(parameters.get(&quot;queryString&quot;), &quot;|&quot;, &quot;&amp;&quot;) : &quot;&quot;}&amp;${insertExtraParams}" event-type="click" area-id="${insertAreaId}"/>
        </field>
        <field use-when="notAuth" name="selectedElementButton" widget-style="buttontext management-selected-element-button" title=" ">
            <hyperlink link-type="anchor" description="${uiLabelMap.BaseSelectedElement}" target="management?oldManagementFormType=${managementFormType}&amp;detail=Y&amp;entityName=${entityName}&amp;parentEntityName=${parentEntityName}&amp;insertMode=${insertMode}&amp;subFolder=${subFolder}&amp;relationTitle=${relationTitle}&amp;screenNameListIndex=${screenNameListIndex}&amp;folderIndex=${folderIndex}&amp;childManagementDetailTitle=${childManagementDetailTitle}&amp;${bsh: import org.ofbiz.base.util.UtilValidate; &quot;Y&quot;.equals(context.get(&quot;subFolder&quot;)) ?  &quot;&quot; : (UtilValidate.isNotEmpty(context.get(&quot;saveView&quot;)) ? &quot;saveView=&quot; + context.get(&quot;saveView&quot;) : &quot;saveView=current&quot;) }&amp;${extraParams}" also-hidden="false"/>
            <on-field-event-update-area area-target="${selectAreaTarget}NotAuth" event-type="click" area-id="${selectAreaId}"/>
        </field>
        
        <field use-when="notAuth" name="arrayListButton" widget-style="buttontext array-list-button" title=" " position="2">
            <hyperlink link-type="anchor" description="${uiLabelMap.ArrayList}" target="management?managementFormType=${oldManagementFormType}&amp;entityName=${entityName}&amp;parentEntityName=${parentEntityName}&amp;insertMode=N&amp;subFolder=${subFolder}&amp;relationTitle=${relationTitle}&amp;screenNameListIndex=${screenNameListIndex}&amp;folderIndex=${groovy: org.ofbiz.base.util.UtilValidate.isNotEmpty(context.get(&quot;returnFolderIndex&quot;)) ? context.get(&quot;returnFolderIndex&quot;) : context.get(&quot;folderIndex&quot;)}&amp;contextManagement=${contextManagement}&amp;backAreaId=${backAreaId}&amp;${bsh: import org.ofbiz.base.util.UtilValidate;import org.ofbiz.base.util.StringUtil; return UtilValidate.isNotEmpty(context.get(&quot;managementChildExtraParams&quot;)) ? &quot;&amp;&quot; + StringUtil.replaceString(context.get(&quot;managementChildExtraParams&quot;), &quot;|&quot;, &quot;&amp;&quot;) : &quot;&quot;}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;orderBy&quot;)) ? &quot;&amp;orderBy=&quot; + context.get(&quot;orderBy&quot;) : (UtilValidate.isNotEmpty(parameters.get(&quot;orderBy&quot;)) ? &quot;&amp;orderBy=&quot; + parameters.get(&quot;orderBy&quot;) : &quot;&quot;)}&amp;${arrayListExtraParams}" also-hidden="false"/>
            <on-field-event-update-area area-target="${selectAreaTarget}NotAuth" event-type="click" area-id="${selectAreaId}"/>
        </field>
        <!-- stampa scheda -->
        <field name="printBirtButton" widget-style="buttontext management-print-birt-button" title=" " position="2">
            <hyperlink link-type="anchor" description="${uiLabelMap.CommonPrint}" target="popupWorkEffortLoadPrintBirt?repContextContentId=WE_PRINT&amp;workEffortTypeId=${workEffortRoot.workEffortTypeId}&amp;workEffortId=${parameters.workEffortIdRoot}&amp;workEffortIdChild=${parameters.workEffortIdRoot}&amp;weHierarchyTypeId=${parameters.weHierarchyTypeId}&amp;monitoringDate=${parameters.searchDate}&amp;workEffortRevisionId=${parameters.workEffortRevisionId}&amp;saveView=N" target-window="_blank" also-hidden="false"/>
        </field>
    </form>
    
    <!-- snapShot -->
    
    <form name="WorkEffortRootSnapShotViewManagementListForm" id="WERSSVMLF001_WorkEffortRootSnapShotView" extends="BaseManagementListForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="workEffortId">
            <hidden/>
        </field> 
        <field name="workEffortIdSnapShot">
            <hidden/>
        </field>    
        <field name="workEffortRevisionId">
            <display/>
        </field>    
        <field name="workEffortName">
            <display/>
        </field>
       <field name="snapShotDescription">
            <display/>
       </field>
        <field name="snapShotDate">
            <display type="date"/>
       </field>
    </form>
    
    <form name="ExportTransactionFromMeasureForm" id="ExportTransactionFromMeasureForm" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml" target="exportTransactionFromMeasure" target-window="_blank">
        <field name="entityName">
            <hidden value="WorkEffortTransactionView"/>
        </field>
        <field name="defaultOrganizationPartyId">
            <hidden/>
        </field>
        <field name="refDate" required-field="true" title="${uiLabelMap.FormFieldTitle_transactionDate}">
            <date-time type="date"/>
        </field>
        <field name="workEffortPurposeTypeId" required-field="true" title="${uiLabelMap.WorkEffortPurposeType}">
            <drop-down type="drop-list" local-autocompleter="false" drop-list-key-field="workEffortPurposeTypeId" drop-list-display-field="description" size="50" maxlength="255">
                <entity-options entity-name="WorkEffortPurposeType" description="${description}" key-field-name="workEffortPurposeTypeId">
                    <select-field field-name="workEffortPurposeTypeId"/>
                    <select-field field-name="description" display="true"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="dataSourceId">
            <lookup description-field-size="50" target-parameter="lookupScreenLocation=component://commondataext/widget/LookupScreens.xml,noConditionFind=N,saveView=N" target-form-name="lookUpPartyRoleViewForm" modal-lookup="true" key-field-name="dataSourceId" description-field-name="description">
                <entity-options entity-name="DataSource" key-field-name="dataSourceId" description="${description}">
                    <select-field field-name="dataSourceId"/>
                    <select-field field-name="description" display="true"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </lookup>
        </field>
        <field name="destination" required-field="true">
            <radio no-current-selected-key="EXCEL">
                <option key="EXCEL" description="${uiLabelMap.Export_destination_excel}"/>
                <option key="ENTITY" description="${uiLabelMap.Export_destination_entity}"/>
            </radio>
        </field>
    </form>
    
    <form name="ImportTransactionFromMeasureForm" id="ImportTransactionFromMeasureForm" type="upload" default-table-style="single-editable" target="importTransactionFromMeasure">
        <field name="origin" required-field="true">
            <radio no-current-selected-key="EXCEL">
                <option key="EXCEL" description="${uiLabelMap.Import_origin_excel}"/>
                <option key="ENTITY" description="${uiLabelMap.Import_origin_entity}"/>
            </radio>
        </field>
         <field name="group_UploadFile_sep" title=" ">
            <display description="" also-hidden="false"/>
        </field>
        <field name="uploadedFile" required-field="true" title="${uiLabelMap.Import_file_excel}">
            <file size="50" maxlength="255"/>
        </field>
        <field name="defaultOrganizationPartyId">
            <hidden/>
        </field>
    </form>
    
    <form name="WorkEffortNoteAndDataAchieveViewExtManagementMultiForm" extends="WorkEffortNoteAndDataManagementMultiForm">
        <field name="internalNote">
            <ignored/>
        </field>
        <field name="noteName" required-field="false">
            <display/>
        </field>
        <field name="noteDateTime" use-when="!&quot;DATE_NOT_LAY&quot;.equals(context.get(&quot;workEffortTypeContentId&quot;))" required-field="false">
            <date-time type="date"/>
        </field>
        <field name="noteDateTime" use-when="&quot;DATE_NOT_LAY&quot;.equals(context.get(&quot;workEffortTypeContentId&quot;))">
            <ignored/>
        </field>
    </form>
    
    <form name="WorkEffortNoteAndDataAchieveViewExtManagementForm" extends="WorkEffortNoteAndDataManagementForm">
        <field name="internalNote">
            <ignored/>
        </field>
        <field name="noteDateTime" use-when="!&quot;DATE_NOT_LAY&quot;.equals(context.get(&quot;workEffortTypeContentId&quot;))" required-field="false">
            <date-time type="date"/>
        </field>
        <field name="noteDateTime" use-when="&quot;DATE_NOT_LAY&quot;.equals(context.get(&quot;workEffortTypeContentId&quot;))">
            <ignored/>
        </field>
    </form>
    
    <form name="MassiveScoreCalcManagementForm" id="MSCSB001_ScoreCalc" extends="BaseManagementExecuteForm" extends-resource="component://base/widget/BaseForms.xml" target="massiveScoreCardCalc">
        <field name="entityName">
            <hidden value="WorkEffortRootView"/>
        </field>
        <field name="uvUserLoginId" widget-style="options-field">
            <hidden value="${userLogin.userLoginId}"/>
        </field>
        <field name="organizationId" widget-style="options-field">
            <hidden value="${defaultOrganizationPartyId}"/>
        </field>
       <field name="weContextId" required-field="true" widget-style="options-field">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="workEffortTypeId" drop-list-display-field="description">
              <entity-options entity-name="WorkEffortType" key-field-name="workEffortTypeId" description="${description}">
                  <select-field field-name="description" display="true"/>
                  <select-field field-name="workEffortTypeId"/>
                  <entity-constraint name="workEffortTypeId" operator="like" value="CTX%"/>
                  <entity-order-by field-name="description"/>
              </entity-options>
          </drop-down>
        </field>
        <field name="workEffortTypeId" widget-style="options-field">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="workEffortTypeId" drop-list-display-field="description">
              <entity-options entity-name="WorkEffortType" key-field-name="workEffortTypeId" description="${description}">
                  <select-field field-name="description" display="true"/>
                  <select-field field-name="workEffortTypeId"/>
                  <entity-constraint name="parentTypeId" env-name="weContextId" lookup-for-field-name="weContextId"/>
                  <entity-constraint name="isRoot" value="Y"/>
                  <entity-order-by field-name="description"/>
              </entity-options>
          </drop-down>
        </field>
        <field name="filiera" title="${uiLabelMap.filiera}" widget-style="options-field">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="workEffortTypeId" drop-list-display-field="description">
              <entity-options entity-name="WorkEffortTypeTypeRootView" key-field-name="workEffortTypeId" description="${description}">
                  <select-field field-name="description" display="true"/>
                  <select-field field-name="workEffortTypeId"/>          
                  <entity-constraint name="parentTypeId" env-name="weContextId" lookup-for-field-name="weContextId"/>
                  <entity-order-by field-name="description"/>
              </entity-options>
          </drop-down>
        </field>
        <field name="sourceReferenceId" widget-style="options-field">
            <text-find ignore-case="true" hide-options="ignore-case" size="23"/>
        </field>
        <field name="orgUnitId" widget-style="options-field">
            <lookup target="lookupPartyRoleOrgUnitView" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N" target-form-name="lookUpPartyRoleViewForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
                <entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="parentRoleCode" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-constraint name="parentRoleTypeId" value="ORGANIZATION_UNIT"/>
                    <entity-order-by field-name="partyName"/>
                </entity-options>
            </lookup>
        </field>
        <field name="roleTypeId" widget-style="options-field">
            <drop-down type="drop-list" maxlength="255" size="68" local-autocompleter="false" drop-list-key-field="roleTypeId" drop-list-display-field="description">
                <entity-options entity-name="RoleType" key-field-name="roleTypeId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="roleTypeId"/>
                    <entity-constraint name="parentTypeId" operator="equals" value="EMPLOYEE"/>
                    <entity-order-by field-name="description"/>
                </entity-options>            
            </drop-down>
        </field>
        <field name="partyId" title="${uiLabelMap.previewFormRespName}" widget-style="options-field">
            <lookup target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N" target-form-name="PartyRoleViewSearchLookupForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName">
            	<entity-options entity-name="PartyRoleView" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="parentRoleCode" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <entity-constraint name="parentRoleTypeId" value="EMPLOYEE"/>
                    <entity-constraint name="roleTypeId" env-name="roleTypeId" lookup-for-field-name="roleTypeId"/>
                    <entity-order-by field-name="partyName"/>
                </entity-options>
            </lookup>            
        </field>
		<field name="estimatedStartDate" required-field="true" widget-style="options-field">
            <date-time type="date"/>
        </field>
        <field name="estimatedCompletionDate" required-field="true" widget-style="options-field">
            <date-time type="date"/>
        </field>
        <field name="limitExcellent" title="${uiLabelMap.WorkEffortMeasureKpiExcellent}" required-field="true" widget-style="options-field">
            <drop-down current="selected" no-current-selected-key="BUDGET" read-only="${bsh: return &quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}">
                <entity-options entity-name="GlFiscalType" description="${description}" key-field-name="glFiscalTypeId">
                </entity-options>
            </drop-down>
        </field>         
        <field name="limitMax" title="${uiLabelMap.WorkEffortMeasureKpiLimitMax}" required-field="true" widget-style="options-field">
            <drop-down current="selected" no-current-selected-key="BUDGET" read-only="${bsh: return &quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}">
                <entity-options entity-name="GlFiscalType" description="${description}" key-field-name="glFiscalTypeId">
                </entity-options>
            </drop-down>
        </field>        
        <field name="target" title="${uiLabelMap.WorkEffortMeasureKpiTarget}" required-field="true" widget-style="options-field">
            <drop-down current="selected" no-current-selected-key="BUDGET" read-only="${bsh: return &quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}">
                <entity-options entity-name="GlFiscalType" description="${description}" key-field-name="glFiscalTypeId">
                </entity-options>
            </drop-down>
        </field>
        <field name="limitMed" title="${uiLabelMap.WorkEffortMeasureKpiLimitMed}" required-field="true" widget-style="options-field">
            <drop-down current="selected" no-current-selected-key="BUDGET" read-only="${bsh: return &quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}">
                <entity-options entity-name="GlFiscalType" description="${description}" key-field-name="glFiscalTypeId">
                </entity-options>
            </drop-down>
        </field>
        <field name="limitMin" title="${uiLabelMap.WorkEffortMeasureKpiLimitMin}" required-field="true" widget-style="options-field">
            <drop-down current="selected" no-current-selected-key="BUDGET" read-only="${bsh: return &quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}">
                <entity-options entity-name="GlFiscalType" description="${description}" key-field-name="glFiscalTypeId">
                </entity-options>
            </drop-down>
        </field>        
        <field name="performance" required-field="true" title="${uiLabelMap.WorkEffortMeasureKpiPerformance}" widget-style="options-field">
            <drop-down current="selected" no-current-selected-key="ACTUAL">
                <entity-options entity-name="GlFiscalType" description="${description}" key-field-name="glFiscalTypeId">
                </entity-options>
            </drop-down>
        </field>
        <field name="thruDate" required-field="true" title="${uiLabelMap.WorkEffortMeasureKpiThruDate} " widget-style="options-field">
            <date-time type="date"/>
        </field>
        <field name="scoreValueType" required-field="true" title="${uiLabelMap.WorkEffortMeasureKpiScoreValueType}" widget-style="options-field">
            <drop-down current="selected">
                <entity-options entity-name="GlFiscalType" description="${description}" key-field-name="glFiscalTypeId">
                </entity-options>
            </drop-down>
        </field>
        <field name="weightType" required-field="true" title="${uiLabelMap.WorkEffortMeasureKpiWeightType}" widget-style="options-field">
        	<drop-down current="selected">
        		<option key="ORIG" description="${uiLabelMap.WorkEffortMeasureKpiWeightTypeOrig}"/>
        		<option key="ALT" description="${uiLabelMap.WorkEffortMeasureKpiWeightTypeAlt}"/>
        	</drop-down>
        </field>          
        <field name="recalculate" widget-style="options-field">
            <drop-down no-current-selected-key="N" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
        <field name="cleanOnlyScoreCard" required-field="true" widget-style="options-field">
            <drop-down no-current-selected-key="N" maxlength="1" size="1" current="selected">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
    </form>
    
    <form name="BudgetProposalSearchForm" id="BPSF001_BudgetProposal" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="workEffortTypeId" required-field="true" title="${uiLabelMap.Budget_workEffortTypeId}">
            <drop-down type="drop-list" maxlength="255" size="40" local-autocompleter="true" drop-list-key-field="workEffortTypeId" drop-list-display-field="description">
                <auto-complete choices="100"/>
                <list-options key-name="workEffortTypeId" description="${description}" list-name="workEffortTypePeriodList"/>
          </drop-down>
        </field>
        <field name="cdcResponsibleId" required-field="true" position="2" title="${uiLabelMap.Budget_cdcResponsible}">        
            <drop-down type="drop-list" maxlength="255" size="40" local-autocompleter="true" drop-list-key-field="partyId" drop-list-display-field="partyName">   
                <auto-complete choices="100"/>
                <list-options key-name="respCenterId" list-name="cdcResponsibleList" description="${partyName}"/>
            </drop-down>
        </field>
        <field name="debitCreditFlag" required-field="true" title="${uiLabelMap.Budget_debitCreditFlag}">
            <drop-down no-current-selected-key="D" maxlength="1" size="1" current="selected">
                <option key="D" description="${uiLabelMap.Budget_debit}"/>
                <option key="C" description="${uiLabelMap.Budget_credit}"/>
            </drop-down>
        </field>
        <field name="cdcHandler" required-field="true" position="2" title="${uiLabelMap.Budget_cdcHandler}">
            <drop-down type="drop-list" maxlength="255" size="40" local-autocompleter="false" drop-list-key-field="partyId" drop-list-display-field="partyName" read-only="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isEmpty(parameters.get(&quot;cdcResponsibleId&quot;))}">
              <entity-options entity-name="CdcHandlerView" key-field-name="partyId" description="${partyName}">
                  <select-field field-name="partyName" display="true"/>
                  <select-field field-name="partyId"/>
                  <entity-constraint name="respCenterId" env-name="parameters.cdcResponsibleId"/>
                  <entity-order-by field-name="partyName"/>
              </entity-options>
          </drop-down>
        </field>
        <field name="finalBudget">
        	<hidden/>
        </field>
    </form>
    
    <form name="WorkEffortRootCopyManagementForm" id="WERCMF001_WorkEffortRootCopy" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <read-only>
            <not>
                <if-has-permission permission="WORKEFFORTMGR" action="_ADMIN"/>
            </not>
        </read-only>
        <field name="hierarchyAssocTypeId" widget-style="hierarchyAssocTypeId">
            <hidden/>
        </field>
        <field name="entityName">
            <hidden value="WorkEffortRootView"/>
        </field>
        <field name="group_ToCopy_sep" title=" ">
            <display description=" " also-hidden="false"/>
        </field>
        <field name="group_ToCopy" title="${uiLabelMap.WorkeffortRootCopyToCopy}" title-area-style="label field-group-title" title-style="field-group-title" widget-area-style="field-group-title">
            <display description="" also-hidden="false"/>
        </field>
        <field name="workEffortTypeIdFrom" required-field="true" title="${uiLabelMap.WorkEffortRootCopy_workEffortTypeId}">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="workEffortTypeId" drop-list-display-field="description">
              <entity-options entity-name="WorkEffortType" key-field-name="workEffortTypeId" description="${description}">
                  <select-field field-name="description" display="true"/>
                  <select-field field-name="workEffortTypeId"/>
                  <select-field field-name="hierarchyAssocTypeId" display="hidden"/>
                  <entity-constraint name="isRoot" value="Y"/>
                  <entity-constraint name="copy" value="Y"/>
                  <entity-constraint name="parentTypeId" env-name="parameters.parentTypeId" ignore-if-empty="true" ignore-if-null="true"/>
                  <entity-order-by field-name="description"/>
              </entity-options>
          </drop-down>
        </field>
        <field name="workEffortId" title="${uiLabelMap.WorkeffortRoot}">
            <lookup target="lookupWorkEffortView" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,fromManagement=Y,saveView=N" target-form-name="lookUpWorkEffortViewForm" modal-lookup="true" edit-field-name="sourceReferenceId" key-field-name="workEffortId" description-field-name="workEffortName" description-field-size="50">
                <entity-options entity-name="WorkEffortView" key-field-name="workEffortId" description="${workEffortName}">
                    <select-field field-name="workEffortId" display="hidden"/>
                    <select-field field-name="workEffortName" display="true"/>
                    <entity-constraint name="workEffortTypeId" lookup-for-field-name="workEffortTypeIdFrom"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="workEffortId"/>
                </entity-options>
            </lookup>
        </field>
        <field name="estimatedStartDateFrom" title="${uiLabelMap.WorkEffortRootCopy_startDate}" required-field="true">
            <date-time type="date"/>
        </field>
        <field name="estimatedCompletionDateFrom" title="${uiLabelMap.WorkEffortRootCopy_thruDate}" required-field="true">
            <date-time type="date"/>
        </field>
        <field name="group_ToCreate_sep" title=" ">
            <display description=" " also-hidden="false"/>
        </field>
        <field name="group_ToCreate" title="${uiLabelMap.WorkeffortRootCopyToCreate}" title-area-style="label field-group-title" title-style="field-group-title" widget-area-style="field-group-title">
            <display description="" also-hidden="false"/>
        </field>
        <field name="workEffortTypeIdTo" required-field="true" title="${uiLabelMap.WorkEffortRootCopy_workEffortTypeId}">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="workEffortTypeId" drop-list-display-field="description">
              <entity-options entity-name="WorkEffortType" key-field-name="workEffortTypeId" description="${description}">
                  <select-field field-name="description" display="true"/>
                  <select-field field-name="workEffortTypeId"/>
                  <entity-constraint name="isRoot" value="Y"/>
                  <entity-constraint name="hierarchyAssocTypeId" lookup-for-field-name="hierarchyAssocTypeId"/>
                  <entity-order-by field-name="description"/>
              </entity-options>
           </drop-down>
        </field>
        <field name="estimatedStartDateTo" title="${uiLabelMap.WorkEffortRootCopy_startDate}" required-field="true">
            <date-time type="date"/> <!-- TODO valori deault -->
        </field>
        <field name="estimatedCompletionDateTo" title="${uiLabelMap.WorkEffortRootCopy_thruDate}" required-field="true">
            <date-time type="date"/> <!-- TODO valori deault -->
        </field>
        <field name="group_OtherData_sep" title=" ">
            <display description=" " also-hidden="false"/>
        </field>
        <field name="group_OtherData" title="${uiLabelMap.WorkeffortRootCopyOtherData}" title-area-style="label field-group-title" title-style="field-group-title" widget-area-style="field-group-title">
            <display description="" also-hidden="false"/>
        </field>
        <field name="glAccountCreation" required-field="true">
            <drop-down type="drop-down" allow-empty="false" current="selected" no-current-selected-key="Y">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
        <field name="deleteOldRoots" required-field="true">
            <drop-down type="drop-down" allow-empty="false" current="selected" no-current-selected-key="N">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
        <field name="checkExisting" required-field="true">
            <drop-down type="drop-down" allow-empty="false" current="selected" no-current-selected-key="Y">
                <option key="N" description="${uiLabelMap.CommonNo}"/>
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
            </drop-down>
        </field>
    </form>
    
    <!-- STAMPE PORTLET -->
    <form name="WorkEffortAndTypeViewManagementListForm" id="WorkEffortAndTypeViewManagementListForm" extends="BasePortletListForm" extends-resource="component://base/widget/PortletForms.xml">
        <field name="entityName">
        	<hidden value="WorkEffortAndTypeView"/>
        </field>
        <field name="description">
            <display description="${etch} - ${workEffortName}"/>
        </field> 
        <field name="periodTypeId">
        	<hidden/>
        </field>
        <field name="estimatedStartDate">
        	<hidden/>
        </field>
        <field name="estimatedCompletionDate">
        	<hidden/>
        </field>   
        <field name="workEffortTypeId">
        	<hidden/>
        </field>
        <field name="workEffortId">
        	<hidden/>
        </field>      
    </form>
    
    <form name="CustomTimePeriodPrintViewManagementListForm" id="CustomTimePeriodPrintViewManagementListForm" extends="BasePortletListForm" extends-resource="component://base/widget/PortletForms.xml" view-size="12">
        <row-actions>
        	<set field="parameters.maxAcctgTransId" from-field="maxAcctgTransId" default-value=""/>
        </row-actions>
        <field name="entityName">
        	<hidden value="CustomTimePeriodPrintView"/>
        </field>
        <field name="periodName" widget-style="text-color-light-gray" use-when="${bsh:  org.ofbiz.base.util.UtilValidate.isEmpty(parameters.get(&quot;maxAcctgTransId&quot;))}">
            <display/>
        </field>
        <field name="periodName" use-when="${bsh:  !org.ofbiz.base.util.UtilValidate.isEmpty(parameters.get(&quot;maxAcctgTransId&quot;))}">
            <display/>
        </field>
        <field name="thruDate">
        	<hidden/>
        </field>
        <field name="workEffortId">
        	<hidden/>
        </field>     
        <field name="workEffortTypeId">
        	<hidden/>
        </field>          
    </form>
    
    <!-- UTILIZZO FTL
    <form name="WorkEffortTypeContentAndContentViewListForm" id="WorkEffortTypeContentAndContentViewListForm" extends="BasePortletListForm" extends-resource="component://base/widget/PortletForms.xml">
        <field name="entityName">
        	<hidden value="WorkEffortTypeContentAndContentView"/>
        </field>
        <field name="workEffortTypeId">
        	<hidden/>
        </field>
        <field name="monitoringDate">
            <hidden value="${parameters.monitoringDate}"/>
        </field> 
        <field name="pdfContentId">
            <hidden/>
        </field>  
        <field name="workEffortId">
            <hidden value="${parameters.workEffortId}"/>
        </field>
        <field name="etch">
            <display/>
        </field> 
        <field name="pdf">
            <hyperlink link-type="anchor" description="${uiLabelMap.CommonPrint}" target="managementPrintBirt?repContextContentId=WE_PRINT&amp;reportContentId=${pdfContentId}&amp;workEffortId=${parameters.workEffortTypeId}&amp;monitoringDate=${parameters.monitoringDate}&amp;saveView=N" target-window="_blank" also-hidden="false"/>  
        </field>
        <field name="xls">
            <hyperlink link-type="anchor" description="${uiLabelMap.CommonPrint}" target="managementPrintBirt?saveView=N" target-window="_blank" also-hidden="false"/>
        </field>          
    </form> -->
    
    <form name="WorkEffortNoteAndDataReportViewListForm" id="WorkEffortNoteAndDataReportViewListForm" extends="BasePortletListForm" extends-resource="component://base/widget/PortletForms.xml">     
        <row-actions>
        	<set field="noteInfo" value="${bsh: import org.ofbiz.base.util.*;  return UtilValidate.isNotEmpty(&quot;noteInfo&quot;) ? (noteInfo.length() > 70 ? noteInfo = noteInfo.substring(0, 67) + &quot;...&quot; : noteInfo) : &quot;&quot;}" />
        </row-actions>
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortNoteAndData"/>
        </field>
        <field name="workEffortId">
        	<hidden/>
        </field>
        <field name="contentId">
        	<hidden/>
        </field>
        <field name="noteId">
    		<hidden/>
    	</field>
        <field name="noteName">
            <hidden/>
        </field>
        <field name="noteInfo">
        	<display/>
        </field>         
    </form>
    
    <form name="WorkEffortNoteAndDataReportViewManagementForm" id="WENDRMF001_WorkEffortNoteAndDataReportView" pager-position="bottom" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortNoteAndData"/>
        </field>
        <field name="workEffortId">
        	<hidden value="${parameters.noteWorkEffortId}"/>
        </field>
        <field name="contentId">
        	<hidden/>
        </field>
        <field name="noteId">
    		<hidden/>
    	</field>
    	<field name="noteDateTime">
    		<hidden/>
    	</field>
        <field name="noteName">
            <hidden/>
        </field>
        <field name="noteInfo">
        	<textarea cols="140" rows="20"/>
        </field>          
       
        <!-- serve per ricaricare la poprtlet! -->       
        <on-event-update-area area-target="${parameters.extraAreaTarget}?${bsh: return org.ofbiz.base.util.UtilValidate.isNotEmpty(parameters.get(&quot;extraTargetParameters&quot;)) ? &quot;?&quot; + parameters.get(&quot;extraTargetParameters&quot;).replace(&quot;*&quot;, &quot;&amp;&quot;) : &quot;&quot;}" event-type="submit" area-id="${parameters.extraAreaId}"/>
    </form>
       
    <form name="LockAmountForm" extends="BaseManagementForm" id="LockAmountForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="entityName">
            <hidden value="WorkEffortTransactionView"/>
        </field>
        <field name="transactionDate" required-field="true">
            <date-time type="date"/>
        </field>
        <field name="weContextId">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="true" drop-list-key-field="workEffortTypeId" drop-list-display-field="description">
                <list-options key-name="workEffortTypeId" list-name="workEffortTypeContextList" description="${description}"/>
            </drop-down>
       </field>
    </form>
    
    <form name="WorkEffortReviewManagementMultiForm"  extends="WorkEffortReviewManagementMultiForm" extends-resource="component://workeffortext/widget/forms/WorkEffortReviewForms.xml">
    </form>

    <!-- Form contesto per il lancio della stampa -->
    <form name="WorkEffortRootViewBirtListManagementForm" extends="BaseContextMultiExtendedManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <entity-one entity-name="WorkEffort" value-field="workEffortRoot" auto-field-map="false">
                <field-map field-name="workEffortId" from-field="parameters.workEffortIdRoot"/>
            </entity-one>
        </actions>
        <field name="saveView">
            <hidden value="N"/>
        </field>        
		<!-- stampa scheda -->
        <field name="printBirtButton" widget-style="buttontext management-print-birt-button" title=" " position="2">
            <hyperlink link-type="anchor" description="${uiLabelMap.CommonPrint}" target="popupWorkEffortLoadPrintBirt?repContextContentId=WE_PRINT&amp;workEffortTypeId=${workEffortRoot.workEffortTypeId}&amp;workEffortId=${parameters.workEffortIdRoot}&amp;workEffortIdChild=${parameters.workEffortIdRoot}&amp;weHierarchyTypeId=${parameters.weHierarchyTypeId}&amp;monitoringDate=${parameters.searchDate}&amp;workEffortRevisionId=${parameters.workEffortRevisionId}&amp;saveView=N" target-window="_blank" also-hidden="false"/>
        </field>        
    </form>
    
    
        
    
    <!-- 
	   	Form per calcolo indicatori
   	 -->
    <form name="WorkEffortTransactionIndicatorViewManagementForm" id="WEMKMF_0001_WorkEffortTransactionIndicatorView" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml" style="basic-form">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
        </actions>
        <read-only>
            <or>
                <if-compare operator="equals" field="crudEnumId" value="NONE"/>
                <not>
                   <or>
                       <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                       <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                       <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                       <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                   </or>
            	</not>
            </or>
        </read-only>
        <field name="workEffortId">
        	<hidden/>
        </field>
        <field name="thruDate" required-field="true" title="${uiLabelMap.CalcoloIndicatori_thruDate}" widget-style="options-field">
            <date-time type="date"/>
        </field>
        <field name="glFiscalTypeIdInput" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" required-field="true" title="${uiLabelMap.CalcoloIndicatori_glFiscalTypeIdInput}" widget-style="options-field">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="glFiscalTypeId" drop-list-display-field="description">
              <entity-options entity-name="GlFiscalType" key-field-name="glFiscalTypeId" description="${description}">
                  <select-field field-name="description" display="true"/>
                  <select-field field-name="glFiscalTypeId"/>
                  <entity-order-by field-name="description"/>
              </entity-options>
          </drop-down>
        </field>        
        <field name="glFiscalTypeIdInput" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" required-field="true" title="${uiLabelMap.CalcoloIndicatori_glFiscalTypeIdInput}" widget-style="options-field">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="glFiscalTypeId" drop-list-display-field="descriptionLang">
              <entity-options entity-name="GlFiscalType" key-field-name="glFiscalTypeId" description="${descriptionLang}">
                  <select-field field-name="descriptionLang" display="true"/>
                  <select-field field-name="glFiscalTypeId"/>
                  <entity-order-by field-name="descriptionLang"/>
              </entity-options>
          </drop-down>
        </field>      
        <field name="glFiscalTypeIdOutput" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" title="${uiLabelMap.CalcoloIndicatori_glFiscalTypeIdOutput}" widget-style="options-field">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="glFiscalTypeId" drop-list-display-field="description">
              <entity-options entity-name="GlFiscalType" key-field-name="glFiscalTypeId" description="${description}">
                  <select-field field-name="description" display="true"/>
                  <select-field field-name="glFiscalTypeId"/>
                  <entity-order-by field-name="description"/>
              </entity-options>
          </drop-down>
        </field> 
        <field name="glFiscalTypeIdOutput" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" title="${uiLabelMap.CalcoloIndicatori_glFiscalTypeIdOutput}" widget-style="options-field">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="glFiscalTypeId" drop-list-display-field="descriptionLang">
              <entity-options entity-name="GlFiscalType" key-field-name="glFiscalTypeId" description="${descriptionLang}">
                  <select-field field-name="descriptionLang" display="true"/>
                  <select-field field-name="glFiscalTypeId"/>
                  <entity-order-by field-name="descriptionLang"/>
              </entity-options>
          </drop-down>
        </field>               
    </form>
    
	<form name="WorkEffortTransactionIndicatorViewOnlyIndicatorManagementForm" id="WEMKMF_0001_WorkEffortTransactionIndicatorView" extends="WorkEffortTransactionIndicatorViewManagementForm">
		<field name="onlyElaborateIndicator">
        	<hidden value="Y"/>
        </field>
	</form>
   
    <!-- Obiettivi per ruolo -->
    <form name="WorkEffortRolesTargetManagementListForm"  id="WRTML001_WorkEffortRolesTarget" extends="BaseManagementListForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="obWtEtch" title="${uiLabelMap.WorkEffortRolesTarget_obWtEtch}">
            <display/>
        </field>
        <field name="obbSourceReferenceId" title="${uiLabelMap.WorkEffortRolesTarget_obbSourceReferenceId}">
            <display/>
        </field>
        <field name="obbWorkEffortName" title="${uiLabelMap.WorkEffortRolesTarget_obbWorkEffortName}">
            <display/>
        </field>
        <field name="parentWtEtch" title="${uiLabelMap.WorkEffortRolesTarget_parentWtEtch}">
            <display/>
        </field>
        <field name="parentSourceReferenceId" title="${uiLabelMap.WorkEffortRolesTarget_parentSourceReferenceId}">
            <display/>
        </field>
        <field name="parentWorkEffortName" title="${uiLabelMap.WorkEffortRolesTarget_parentWorkEffortName}">
            <display/>
        </field>        
        <sort-order>
            <sort-field name="obWtEtch"/>
            <sort-field name="obbSourceReferenceId"/>
            <sort-field name="obbWorkEffortName"/>
            <sort-field name="parentWtEtch"/>
            <sort-field name="parentSourceReferenceId"/>
            <sort-field name="parentWorkEffortName"/>
        </sort-order>
    </form>
    
    <form name="WorkEffortTransactionViewContextManagementForm" extends="WorkEffortRootViewBirtListManagementForm">
        <actions>
            <set field="oldFilterByDate" value="${bsh: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(parameters.get(&quot;filterByDate&quot;))
                                                    ? parameters.get(&quot;filterByDate&quot;)
                                                    : UtilValidate.isNotEmpty(context.get(&quot;filterByDate&quot;))
                                                        ? context.get(&quot;filterByDate&quot;)
                                                        : &quot;N&quot; }" />

            <set field="newFilterByDate" value="${bsh: &quot;Y&quot;.equals(oldFilterByDate) ? &quot;N&quot; : &quot;Y&quot; }"/>
            <entity-one entity-name="WorkEffort" value-field="workEffortRoot" auto-field-map="false">
                <field-map field-name="workEffortId" from-field="parameters.workEffortIdRoot"/>
            </entity-one>
        </actions>
        <field name="selectedElementButton" widget-style="buttontext management-selected-element-button" title=" ">
            <hyperlink link-type="anchor" description="${uiLabelMap.BaseSelectedElement}" target="management?entityPkFields=workEffortMeasureId&amp;oldManagementFormType=${managementFormType}&amp;detail=Y&amp;detailEnabled=${detailEnabled}&amp;entityName=WorkEffortMeasure&amp;parentEntityName=${parentEntityName}&amp;insertMode=${insertMode}&amp;subFolder=${subFolder}&amp;relationTitle=${relationTitle}&amp;screenNameListIndex=${screenNameListIndex}&amp;folderIndex=${folderIndex}&amp;childManagementDetailTitle=${childManagementDetailTitle}&amp;${bsh: import org.ofbiz.base.util.UtilValidate; &quot;Y&quot;.equals(context.get(&quot;subFolder&quot;)) ?  &quot;&quot; : (UtilValidate.isNotEmpty(context.get(&quot;saveView&quot;)) ? &quot;saveView=&quot; + context.get(&quot;saveView&quot;) : &quot;saveView=current&quot;) }&amp;${extraParams}&amp;managementPaginationAreaId=${selectAreaId}" also-hidden="false"/>
            <on-field-event-update-area area-target="${selectAreaTarget}" event-type="click" area-id="${selectAreaId}"/>
        </field>
    </form>
   
    <form name="WorkEffortMeasureContextManagementForm" extends="WorkEffortRootViewBirtListManagementForm">
        <field name="arrayListButton" id-name="arrayListButton" widget-style="buttontext array-list-button" title=" " position="2"> <!-- entityPkFields=workEffortMeasureId&amp; -->
            <hyperlink link-type="anchor" description="${uiLabelMap.ArrayList}" target="management?managementFormType=${oldManagementFormType}&amp;entityName=WorkEffortTransactionView&amp;parentEntityName=${parentEntityName}&amp;insertMode=N&amp;subFolder=${subFolder}&amp;relationTitle=${relationTitle}&amp;screenNameListIndex=${screenNameListIndex}&amp;folderIndex=${groovy: org.ofbiz.base.util.UtilValidate.isNotEmpty(parameters.get(&quot;returnFolderIndex&quot;)) ? parameters.get(&quot;returnFolderIndex&quot;) : context.get(&quot;folderIndex&quot;)}&amp;oldFolderIndex=${parameters.oldFolderIndex}&amp;returnFolderIndex=${parameters.returnFolderIndex}&amp;contextManagement=${contextManagement}&amp;forcedBackAreaId=${forcedBackAreaId}&amp;${bsh: import org.ofbiz.base.util.UtilValidate;import org.ofbiz.base.util.StringUtil; return UtilValidate.isNotEmpty(context.get(&quot;managementChildExtraParams&quot;)) ? &quot;&amp;&quot; + StringUtil.replaceString(context.get(&quot;managementChildExtraParams&quot;), &quot;|&quot;, &quot;&amp;&quot;) : &quot;&quot;}${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;orderBy&quot;)) ? &quot;&amp;orderBy=&quot; + context.get(&quot;orderBy&quot;) : (UtilValidate.isNotEmpty(parameters.get(&quot;orderBy&quot;)) ? &quot;&amp;orderBy=&quot; + parameters.get(&quot;orderBy&quot;) : &quot;&quot;)}&amp;${arrayListExtraParams}" also-hidden="false"/>
            <on-field-event-update-area area-target="${selectAreaTarget}" event-type="click" area-id="${selectAreaId}"/>
        </field>
   </form>
   
    <form name="WorkEffortContentViewContextManagementForm" extends="BaseContextMultiExtendedManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="insertmodeButton" widget-style="buttontext management-insertmode-button" title=" ">
			<!-- aggiunto saveView = N -->
            <hyperlink link-type="anchor" description="${uiLabelMap.CommonNew}" target="management?oldManagementFormType=${oldManagementFormType}&amp;detail=Y&amp;entityName=${entityName}&amp;parentEntityName=${parentEntityName}&amp;wizard=${parameters.wizard}&amp;insertMode=Y&amp;messageContext=BaseMessageInsert&amp;contextManagement=${contextManagement}&amp;saveView=N&amp;screenNameListIndex=${screenNameListIndex}&amp;folderIndex=${folderIndex}&amp;childManagementDetailTitle=${childManagementDetailTitle}&amp;backAreaId=${backAreaId}&amp;childManagement=${childManagement}&amp;${bsh: import org.ofbiz.base.util.*; return UtilValidate.isNotEmpty(context.get(&quot;managementChildExtraParams&quot;)) ? StringUtil.replaceString(context.get(&quot;managementChildExtraParams&quot;), &quot;|&quot;, &quot;&amp;&quot;) : UtilValidate.isNotEmpty(context.get(&quot;queryString&quot;)) ? StringUtil.replaceString(context.get(&quot;queryString&quot;), &quot;|&quot;, &quot;&amp;&quot;) : UtilValidate.isNotEmpty(parameters.get(&quot;queryString&quot;)) ? StringUtil.replaceString(parameters.get(&quot;queryString&quot;), &quot;|&quot;, &quot;&amp;&quot;) : &quot;&quot;}&amp;${insertExtraParams}" also-hidden="false"/>
            <on-field-event-update-area area-target="${insertAreaTarget}?oldManagementFormType=${oldManagementFormType}&amp;detail=Y&amp;entityName=${entityName}&amp;parentEntityName=${parentEntityName}&amp;wizard=${parameters.wizard}&amp;insertMode=Y&amp;messageContext=BaseMessageInsert&amp;contextManagement=${contextManagement}&amp;saveView=N&amp;screenNameListIndex=${screenNameListIndex}&amp;folderIndex=${folderIndex}&amp;childManagementDetailTitle=${childManagementDetailTitle}&amp;backAreaId=${backAreaId}&amp;childManagement=${childManagement}&amp;${bsh: import org.ofbiz.base.util.*; return UtilValidate.isNotEmpty(context.get(&quot;managementChildExtraParams&quot;)) ? StringUtil.replaceString(context.get(&quot;managementChildExtraParams&quot;), &quot;|&quot;, &quot;&amp;&quot;) : UtilValidate.isNotEmpty(context.get(&quot;queryString&quot;)) ? StringUtil.replaceString(context.get(&quot;queryString&quot;), &quot;|&quot;, &quot;&amp;&quot;) : UtilValidate.isNotEmpty(parameters.get(&quot;queryString&quot;)) ? StringUtil.replaceString(parameters.get(&quot;queryString&quot;), &quot;|&quot;, &quot;&amp;&quot;) : &quot;&quot;}&amp;${insertExtraParams}" event-type="click" area-id="${insertAreaId}"/>
        </field>
    </form>   
   
   <form name="WorkEffortContentViewManagementMultiForm" id="WECV0001_WorkEffortContentView" extends="BaseManagementDblClickMultiForm" extends-resource="component://base/widget/BaseForms.xml">
       <read-only>
            <or>
                <if-compare operator="equals" field="crudEnumId" value="NONE"/>
                <if-compare operator="equals" value="INSERT" field="crudEnumId"/>
                <if-compare operator="equals" value="true" field="isReadOnly"/>
                <not>
                   <or>
                       <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                       <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                       <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                       <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                   </or>
            	</not>
            </or>
        </read-only>
        <field name="workEffortId">
            <hidden/>
        </field>
        <field name="contentId">
            <hidden/>
        </field>
        <field name="dataResourceId">
            <hidden/>
        </field>
        <field name="objectInfo">
            <hidden/>
        </field>                
        <field name="workEffortTypeId">
            <hidden value="${parameters.workEffortTypeId}"/>
        </field>  
        <field name="crudService">
            <hidden value="crudServiceDefaultOrchestration_WorkEffortContentView"/>
        </field>      
        <field name="workEffortContentTypeId" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" required-field="true" title="${uiLabelMap.WorkEffortContentType_workEffortContentTypeId}" widget-style="drop-list-to-listen">
            <drop-down type="drop-list" local-autocompleter="false" drop-list-key-field="workEffortContentTypeId" drop-list-display-field="wctDescription" size="20" maxlength="255" read-only="${bsh: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
                <entity-options entity-name="ContentTypeAndWorkEffortTypeContentType" description="${wctDescription}" key-field-name="workEffortContentTypeId">
                    <select-field field-name="workEffortContentTypeId"/>
                    <select-field field-name="wctDescription" display="true"/>
                    <select-field field-name="contentTypeId"/>
                    <select-field field-name="workEffortTypeId"/>
                    <select-field field-name="description"/>
                    <entity-constraint name="workEffortTypeId" value="${parameters.workEffortTypeId}"/>
                    <entity-order-by field-name="sequenceNum"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="workEffortContentTypeId" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" required-field="true" title="${uiLabelMap.WorkEffortContentType_workEffortContentTypeId}" widget-style="drop-list-to-listen">
            <drop-down type="drop-list" local-autocompleter="false" drop-list-key-field="workEffortContentTypeId" drop-list-display-field="wctDescriptionLang" size="20" maxlength="255" read-only="${bsh: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
                <entity-options entity-name="ContentTypeAndWorkEffortTypeContentType" description="${wctDescriptionLang}" key-field-name="workEffortContentTypeId">
                    <select-field field-name="workEffortContentTypeId"/>
                    <select-field field-name="wctDescriptionLang" display="true"/>
                    <select-field field-name="contentTypeId"/>
                    <select-field field-name="workEffortTypeId"/>
                    <select-field field-name="description"/>
                    <entity-constraint name="workEffortTypeId" value="${parameters.workEffortTypeId}"/>
                    <entity-order-by field-name="sequenceNum"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="fromDate" required-field="true">
    		<display type="date"/>
    	</field>
    	<field name="description" required-field="true" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
			<text size="40" maxlength="255"/>
		</field>
    	<field name="descriptionLang" required-field="true" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" title="${uiLabelMap.FormFieldTitle_description}">
			<text size="40" maxlength="255"/>
		</field>    	
        <field name="contentName" title="${uiLabelMap.WorkEffortContentView_contentName}">
            <text size="40" maxlength="255"/>
        </field>
        <field name=" " use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;insertMode&quot;))}">
    		<hyperlink link-type="anchor" target="stream?contentId=${contentId}" also-hidden="false" description="${uiLabelMap.BaseDownload}" target-window="_blank"/>
    	</field> 	
   </form>
   
   <form id="WACDRUF_001_WorkEffortContentView" name="WorkEffortContentViewManagementForm" target="uploadWorkEffortContent" extends="WorkEffortAndContentDataResourceExtendedUploadForm">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/setWorkEffortContentFromDate.groovy"/>
        </actions>
        <read-only>
            <or>
                <if-compare operator="equals" field="crudEnumId" value="NONE"/>
                <not>
                   <or>
                       <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                       <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                       <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                       <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                   </or>
            	</not>
            	<if-compare operator="not-equals" value="Y" field="parameters.insertMode"/>
            </or>
        </read-only>
        <field name="workEffortContentTypeId" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" required-field="true" title="${uiLabelMap.WorkEffortContentType_workEffortContentTypeId}" widget-style="drop-list-to-listen">
            <drop-down type="drop-list" local-autocompleter="false" drop-list-key-field="workEffortContentTypeId" drop-list-display-field="wctDescription" size="50" maxlength="255">
                <entity-options entity-name="ContentTypeAndWorkEffortTypeContentType" description="${wctDescription}" key-field-name="workEffortContentTypeId">
                    <select-field field-name="workEffortContentTypeId"/>
                    <select-field field-name="wctDescription" display="true"/>
                    <select-field field-name="contentTypeId"/>
                    <select-field field-name="description"/>
                    <entity-constraint name="workEffortTypeId" value="${parameters.workEffortTypeId}"/>
                    <entity-order-by field-name="sequenceNum"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="workEffortContentTypeId" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}" required-field="true" title="${uiLabelMap.WorkEffortContentType_workEffortContentTypeId}" widget-style="drop-list-to-listen">
            <drop-down type="drop-list" local-autocompleter="false" drop-list-key-field="workEffortContentTypeId" drop-list-display-field="wctDescriptionLang" size="50" maxlength="255">
                <entity-options entity-name="ContentTypeAndWorkEffortTypeContentType" description="${wctDescriptionLang}" key-field-name="workEffortContentTypeId">
                    <select-field field-name="workEffortContentTypeId"/>
                    <select-field field-name="wctDescriptionLang" display="true"/>
                    <select-field field-name="contentTypeId"/>
                    <select-field field-name="description"/>
                    <entity-constraint name="workEffortTypeId" value="${parameters.workEffortTypeId}"/>
                    <entity-order-by field-name="sequenceNum"/>
                </entity-options>
            </drop-down>
        </field>         
 		<field name="description" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isEmpty(context.get(&quot;multiTypeLang&quot;)) || &quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
			<text size="50" maxlength="255"/>
		</field>       
 		<field name="description" title="${descriptionTitle}" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
			<text size="50" maxlength="255"/>
		</field>
 		<field name="descriptionLang" title="${descriptionLangTitle}" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(context.get(&quot;multiTypeLang&quot;)) &amp;&amp; !&quot;NONE&quot;.equals(context.get(&quot;multiTypeLang&quot;))}">
			<text size="50" maxlength="255"/>
		</field>  		  
		<field name="uploadedFile" use-when="${bsh: !&quot;Y&quot;.equals(insertMode)}">
			<ignored/>
		</field>
		<field name="contentName" use-when="${bsh: !&quot;Y&quot;.equals(insertMode)}" title="${uiLabelMap.WorkEffortContentView_contentName}">
		    <text size="50" read-only="true"/>
		</field>
		<field name="objectInfo" use-when="${bsh: !&quot;Y&quot;.equals(insertMode)}" title="${uiLabelMap.WorkEffortContentView_objectInfo}">
		    <text size="50" read-only="true"/>
		</field>
		<sort-order>
		    <sort-field name="workEffortContentTypeId"/>
		    <sort-field name="fromDate"/>
		    <sort-field name="thruDate"/>
		    <sort-field name="uploadedFile"/>
		    <sort-field name="description"/>
		    <sort-field name="descriptionLang"/>
		    <sort-field name="contentId"/>
		    <sort-field name="contentName"/>
		    <sort-field name="objectInfo"/>
		</sort-order>                
   </form>
   
   <form name="WorkEffortContentViewViewIsObiettivoManagementMultiForm" extends="WorkEffortContentViewManagementMultiForm">
       <read-only>
            <or>
                <if-compare operator="equals" field="crudEnumId" value="NONE"/>
                <not>
                   <or>
                       <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                       <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                       <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                       <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                   </or>
            	</not>
            </or>
        </read-only>
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>   
   </form>
   
   <form name="WorkEffortContentViewViewIsObiettivoManagementForm" extends="WorkEffortContentViewManagementForm">
        <read-only>
            <or>
                <if-compare operator="equals" field="crudEnumId" value="NONE"/>
                <not>
                   <or>
                       <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                       <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                       <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                       <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                   </or>
            	</not>
            	<if-compare operator="not-equals" value="Y" field="parameters.insertMode"/>
            </or>
        </read-only> 
        <field name="isObiettivo">
            <hidden value="Y"/>
        </field>            
   </form>
   
   <form name="QueryConfigSearchForm" extends="BaseSearchForm" extends-resource="component://base/widget/BaseForms.xml" append-field="false">     
        <actions>
        	<set field="orderBy" value="queryCode"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/executePerformFindQueryCtx.groovy"/>                        
        </actions>
        <field name="queryId">
            <hidden/>
        </field>
        <field name="typeQuery">
            <hidden/>
        </field>
        <field name="queryCode">
            <text-find type="single-text" ignore-case="true" hide-options="true" size="20" maxlength="20"/>
        </field>
        <field name="queryName">
            <text-find type="single-text" ignore-case="true" hide-options="true" size="100" maxlength="255"/>
        </field>
        <field name="queryCtx">
         	<drop-down type="drop-list" maxlength="20" size="20" local-autocompleter="true" drop-list-key-field="workEffortTypeId" drop-list-display-field="description">
	           <auto-complete choices="1000"/>
	           <list-options key-name="workEffortTypeId" list-name="workEffortTypeCtxList" description="${workEffortTypeId} (${description})" />
	        </drop-down>
        </field>
        <field name="queryType">
            <drop-down type="drop-list" maxlength="20" size="20" local-autocompleter="false" drop-list-key-field="enumId" drop-list-display-field="description" read-only="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(parameters.get(&quot;typeQuery&quot;))}" no-current-selected-key="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(parameters.get(&quot;typeQuery&quot;)) ? parameters.get(&quot;typeQuery&quot;) : &quot;&quot;}">
                <entity-options entity-name="Enumeration" key-field-name="enumId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="enumId"/>
                    <entity-constraint name="enumTypeId" value="QUERY_TYPE"/>
                    <!-- campi di ordinamento -->
                    <entity-order-by field-name="enumTypeId"/>
                    <entity-order-by field-name="enumId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="queryPublic">
            <drop-down type="drop-down" allow-empty="true">
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
                <option key="N" description="${uiLabelMap.CommonNo}"/>
            </drop-down>
        </field>
        <field name="queryActive">
            <drop-down type="drop-down" allow-empty="false" no-current-selected-key="Y" current="selected">
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
                <option key="N" description="${uiLabelMap.CommonNo}"/>
            </drop-down>
        </field>
    </form>
    
    <form name="QueryConfigSearchResultListForm" id="QCSRL001_QueryConfig" extends="BaseSearchResultDblClickListForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/executePerformFindQueryCtx.groovy"/>                        
        </actions>
        <field name="queryId">
            <hidden/>
        </field>
        <field name="typeQuery">
            <hidden/>
        </field>
        <field name="queryCode" widget-area-style="columnWidthClass10">
            <display/>
        </field>
        <field name="queryName" widget-area-style="columnWidthClass50">
            <display floating-tooltip="${queryComm}"/>
        </field>
        <field name="queryCtx" widget-area-style="columnWidthClass20">
        	<drop-down type="drop-list" read-only="true" maxlength="50" size="50" local-autocompleter="true" drop-list-key-field="workEffortTypeId" drop-list-display-field="description">
	           <list-options key-name="workEffortTypeId" list-name="workEffortTypeCtxList" description="${workEffortTypeId} (${description})"/>
	        </drop-down>
        </field>
        <field name="queryType" widget-area-style="columnWidthClass10">
            <display-entity entity-name="Enumeration" key-field-name="enumId"/>
        </field>
    </form>
    
    <form name="QueryConfigSearchResultContextForm" extends="BaseContextSearchListForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <set field="extraParams" value="typeQuery=${parameters.typeQuery}"/>
            <set field="insertButtonAuxParameters" value="&amp;typeQuery=${parameters.typeQuery}"/>
        </actions>
        <field name="typeQuery">
            <hidden/>
        </field>
    </form>
    
    <form name="QueryConfigContextManagementForm" extends="BaseContextExtendedManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="typeQuery">
            <hidden/>
        </field>
    </form>
    
    <form name="QueryConfigManagementForm" id="QCM001_QueryConfig" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/executePerformFindQueryCtx.groovy"/>                      
        </actions>
        <read-only>
            <not>
                <or>
                    <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                    <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                    <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                    <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                </or>
            </not>
        </read-only>
        <field name="entityName">
            <hidden value="QueryConfig"/>
        </field>
        <field name="_AUTOMATIC_PK_">
            <hidden value="Y"/>
        </field>
        <field name="queryId">
            <hidden/>
        </field>
        <field name="typeQuery">
            <hidden/>
        </field>
        <field name="queryCode" required-field="true">
            <text size="20" maxlength="20"/>
        </field>
        <field name="queryName" required-field="true" position="2">
            <text size="100" maxlength="255"/>
        </field>       
        <field name="queryType" required-field="true">
            <drop-down type="drop-list" maxlength="20" size="20" local-autocompleter="false" drop-list-key-field="enumId" drop-list-display-field="description" read-only="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(parameters.get(&quot;typeQuery&quot;))}" no-current-selected-key="${bsh: import org.ofbiz.base.util.UtilValidate; UtilValidate.isNotEmpty(parameters.get(&quot;typeQuery&quot;)) ? parameters.get(&quot;typeQuery&quot;) : &quot;&quot;}">
                <entity-options entity-name="Enumeration" key-field-name="enumId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="enumId"/>
                    <entity-constraint name="enumTypeId" value="QUERY_TYPE"/>
                    <!-- campi di ordinamento -->
                    <entity-order-by field-name="enumTypeId"/>
                    <entity-order-by field-name="enumId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="exportMimeType" required-field="true">
        	<drop-down type="drop-list" maxlength="20" size="20">
        		<option description="CSV" key="text/csv"/>
        		<option description="PDF" key="application/pdf"/>
        		<option description="XLSX" key="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"/>
        	</drop-down>
        </field>      
        <field name="queryCtx" position="2" required-field="true">
         	<drop-down type="drop-list" maxlength="20" size="20" local-autocompleter="true" drop-list-key-field="workEffortTypeId" drop-list-display-field="description">
	           <auto-complete choices="1000"/>
	           <list-options key-name="workEffortTypeId" list-name="workEffortTypeCtxList" description="${workEffortTypeId} (${description})"/>
	        </drop-down>
        </field>
        <field name="queryPublic" widget-style="submit-field" required-field="true">
            <drop-down type="drop-down" allow-empty="true">
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
                <option key="N" description="${uiLabelMap.CommonNo}"/>
            </drop-down>
        </field>
        <field name="queryActive" position="2" widget-style="submit-field" required-field="true">
            <drop-down type="drop-down" allow-empty="false" no-current-selected-key="Y" current="selected">
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
                <option key="N" description="${uiLabelMap.CommonNo}"/>
            </drop-down>
        </field>
        
      	<field name="queryColumnsFormatParam" required-field="false">
            <textarea rows="3" cols="160"/>
        </field>
        
        <field name="queryComm" required-field="true">
            <textarea rows="3" cols="160"/>
        </field>
        <field name="queryInfo" required-field="true">
            <textarea cols="160" rows="50"/>
        </field>
    </form>
    
    <form name="QueryConfigManagementParentForm" id="QCMP001_QueryConfig" extends="BaseManagementParentForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="queryId" title="${uiLabelMap.FormFieldTitle_queryName}">
            <display description="${queryName}"/>
        </field>
    </form>
    
    <form name="QueryConfigCondManagementForm" id="QCCM001_QueryConfigCond" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="queryId">
            <hidden/>
        </field>
        <field name="queryCondNome" title="${uiLabelMap.QueryCondNome}" widget-area-style="displayNone columnWidthClass20" position="1">
            <display/>
        </field>
        <field name="queryCondIstruzioni" widget-area-style="displayNone columnWidthClass20" title="${uiLabelMap.QueryCondIstruzioni}" position="2">
            <display/>
        </field>
        <field name="queryCondCondizione" widget-area-style="displayNone columnWidthClass60" title="${uiLabelMap.QueryCondCondizione}" position="3">
            <display/>
        </field>
        <field name="cond0Name" title-area-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255"/>
        </field>
        <field name="cond0Comm" title-area-style="displayNone" position="2" widget-area-style="columnWidthClass20">
            <textarea cols="30" rows="3"/>
        </field>
        <field name="cond0Info" title-area-style="displayNone" position="3" widget-area-style="columnWidthClass60">
            <textarea cols="110" rows="3"/>
        </field>
        <field name="cond1Name" title-area-style="displayNone" title-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255"/>
        </field>
        <field name="cond1Comm" title-area-style="displayNone" title-style="displayNone" position="2" widget-area-style="columnWidthClass20">
            <textarea cols="30" rows="3"/>
        </field>
        <field name="cond1Info" title-area-style="displayNone" title-style="displayNone" position="3" widget-area-style="columnWidthClass60">
            <textarea cols="110" rows="3"/>
        </field>
        <field name="cond2Name" title-area-style="displayNone" title-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255"/>
        </field>
        <field name="cond2Comm" title-area-style="displayNone" title-style="displayNone" position="2" widget-area-style="columnWidthClass20">
            <textarea cols="30" rows="3"/>
        </field>
        <field name="cond2Info" title-area-style="displayNone" title-style="displayNone" position="3" widget-area-style="columnWidthClass60">
            <textarea cols="110" rows="3"/>
        </field>
        <field name="cond3Name" title-area-style="displayNone" title-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255"/>
        </field>
        <field name="cond3Comm" title-area-style="displayNone" title-style="displayNone" position="2" widget-area-style="columnWidthClass20">
            <textarea cols="30" rows="3"/>
        </field>
        <field name="cond3Info" title-area-style="displayNone" title-style="displayNone" position="3" widget-area-style="columnWidthClass60">
            <textarea cols="110" rows="3"/>
        </field>
        <field name="cond4Name" title-area-style="displayNone" title-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255"/>
        </field>
        <field name="cond4Comm" title-area-style="displayNone" title-style="displayNone" position="2" widget-area-style="columnWidthClass20">
            <textarea cols="30" rows="3"/>
        </field>
        <field name="cond4Info" title-area-style="displayNone" title-style="displayNone" position="3" widget-area-style="columnWidthClass60">
            <textarea cols="110" rows="3"/>
        </field>
        <field name="cond5Name" title-area-style="displayNone" title-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255"/>
        </field>
        <field name="cond5Comm" title-area-style="displayNone" title-style="displayNone" position="2" widget-area-style="columnWidthClass20">
            <textarea cols="30" rows="3"/>
        </field>
        <field name="cond5Info" title-area-style="displayNone" title-style="displayNone" position="3" widget-area-style="columnWidthClass60">
            <textarea cols="110" rows="3"/>
        </field>
        <field name="cond6Name" title-area-style="displayNone" title-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255"/>
        </field>
        <field name="cond6Comm" title-area-style="displayNone" title-style="displayNone" position="2" widget-area-style="columnWidthClass20">
            <textarea cols="30" rows="3"/>
        </field>
        <field name="cond6Info" title-area-style="displayNone" title-style="displayNone" position="3" widget-area-style="columnWidthClass60">
            <textarea cols="110" rows="3"/>
        </field>
        <field name="cond7Name" title-area-style="displayNone" title-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255"/>
        </field>
        <field name="cond7Comm" title-area-style="displayNone" title-style="displayNone" position="2" widget-area-style="columnWidthClass20">
            <textarea cols="30" rows="3"/>
        </field>
        <field name="cond7Info" title-area-style="displayNone" title-style="displayNone" position="3" widget-area-style="columnWidthClass60">
            <textarea cols="110" rows="3"/>
        </field>
    </form>
    
   <form name="QueryConfigViewSearchForm" extends="BaseSearchForm" extends-resource="component://base/widget/BaseForms.xml" append-field="false">     
        <actions>
        	<set field="orderBy" value="queryCode"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/executePerformFindQueryCtx.groovy"/>                        
        </actions>
        <field name="queryId">
            <hidden/>
        </field>
        <field name="queryCode">
            <text-find type="single-text" ignore-case="true" hide-options="true" size="20" maxlength="20"/>
        </field>
        <field name="queryName">
            <text-find type="single-text" ignore-case="true" hide-options="true" size="100" maxlength="255"/>
        </field>
        <field name="queryCtx">
         	<drop-down type="drop-list" maxlength="20" size="20" local-autocompleter="true" drop-list-key-field="workEffortTypeId" drop-list-display-field="description">
	           <auto-complete choices="1000"/>
	           <list-options key-name="workEffortTypeId" list-name="workEffortTypeCtxList" description="${workEffortTypeId} (${description})"/>
	        </drop-down>
        </field>
        <field name="queryType">
            <drop-down type="drop-list" maxlength="20" size="20" local-autocompleter="false" drop-list-key-field="enumId" drop-list-display-field="description">
                <entity-options entity-name="Enumeration" key-field-name="enumId" description="${description}">
                    <select-field field-name="description" display="true"/>
                    <select-field field-name="enumId"/>
                    <entity-constraint name="enumTypeId" value="QUERY_TYPE"/>
                    <!-- campi di ordinamento -->
                    <entity-order-by field-name="enumTypeId"/>
                    <entity-order-by field-name="enumId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="queryPublic">
            <drop-down type="drop-down" allow-empty="true">
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
                <option key="N" description="${uiLabelMap.CommonNo}"/>
            </drop-down>
        </field>
        <field name="queryActive">
            <drop-down type="drop-down" allow-empty="false" no-current-selected-key="Y" current="selected">
                <option key="Y" description="${uiLabelMap.CommonYes}"/>
                <option key="N" description="${uiLabelMap.CommonNo}"/>
            </drop-down>
        </field>
    </form>  
    
    <form name="QueryConfigViewSearchResultListForm" id="QCSRL001_QueryConfigView" extends="BaseSearchResultDblClickListForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/executePerformFindQueryCtx.groovy"/>                        
        </actions>
        <field name="queryId">
            <hidden/>
        </field>
        <field name="queryCode" widget-area-style="columnWidthClass10">
            <display/>
        </field>
        <field name="queryName" widget-area-style="columnWidthClass50">
            <display floating-tooltip="${queryComm}"/>
        </field>
    </form>
    
    <form name="QueryConfigViewManagementForm" id="QCCM001_QueryConfigView" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml"> 
        <field name="queryId">
            <hidden/>
        </field>
        <field name="queryCondNome" title="${uiLabelMap.QueryCondNome}" widget-area-style="displayNone columnWidthClass20" position="1">
            <display/>
        </field>
        <field name="queryCondIstruzioni" widget-area-style="displayNone columnWidthClass60" title="${uiLabelMap.QueryCondIstruzioni}" position="2">
            <display/>
        </field>
        <field name="queryCondCondizione" widget-area-style="displayNone columnWidthClass20" title="${uiLabelMap.QueryCondCondizione}" position="3">
            <display/>
        </field>
        <field name="cond0Name" title-area-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255" read-only="true"/>
        </field>
        <field name="cond0Comm" title-area-style="displayNone" position="2" widget-area-style="columnWidthClass60">
            <textarea cols="140" rows="3" read-only="true"/>
        </field>
        <field name="cond0Info" title-area-style="displayNone" position="3" widget-area-style="columnWidthClass20">
            <textarea cols="100" rows="3"/>
        </field>
        <field name="cond1Name" title-area-style="displayNone" title-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255" read-only="true"/>
        </field>
        <field name="cond1Comm" title-area-style="displayNone" title-style="displayNone" position="2" widget-area-style="columnWidthClass60">
            <textarea cols="140" rows="3" read-only="true"/>
        </field>
        <field name="cond1Info" title-area-style="displayNone" title-style="displayNone" position="3" widget-area-style="columnWidthClass20">
            <textarea cols="100" rows="3"/>
        </field>
        <field name="cond2Name" title-area-style="displayNone" title-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255" read-only="true"/>
        </field>
        <field name="cond2Comm" title-area-style="displayNone" title-style="displayNone" position="2" widget-area-style="columnWidthClass60">
            <textarea cols="140" rows="3" read-only="true"/>
        </field>
        <field name="cond2Info" title-area-style="displayNone" title-style="displayNone" position="3" widget-area-style="columnWidthClass20">
            <textarea cols="100" rows="3"/>
        </field>
        <field name="cond3Name" title-area-style="displayNone" title-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255" read-only="true"/>
        </field>
        <field name="cond3Comm" title-area-style="displayNone" title-style="displayNone" position="2" widget-area-style="columnWidthClass60">
            <textarea cols="140" rows="3" read-only="true"/>
        </field>
        <field name="cond3Info" title-area-style="displayNone" title-style="displayNone" position="3" widget-area-style="columnWidthClass20">
            <textarea cols="100" rows="3"/>
        </field>
        <field name="cond4Name" title-area-style="displayNone" title-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255" read-only="true"/>
        </field>
        <field name="cond4Comm" title-area-style="displayNone" title-style="displayNone" position="2" widget-area-style="columnWidthClass60">
            <textarea cols="140" rows="3" read-only="true"/>
        </field>
        <field name="cond4Info" title-area-style="displayNone" title-style="displayNone" position="3" widget-area-style="columnWidthClass20">
            <textarea cols="100" rows="3"/>
        </field>
        <field name="cond5Name" title-area-style="displayNone" title-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255" read-only="true"/>
        </field>
        <field name="cond5Comm" title-area-style="displayNone" title-style="displayNone" position="2" widget-area-style="columnWidthClass60">
            <textarea cols="140" rows="3" read-only="true"/>
        </field>
        <field name="cond5Info" title-area-style="displayNone" title-style="displayNone" position="3" widget-area-style="columnWidthClass20">
            <textarea cols="100" rows="3"/>
        </field>
        <field name="cond6Name" title-area-style="displayNone" title-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255" read-only="true"/>
        </field>
        <field name="cond6Comm" title-area-style="displayNone" title-style="displayNone" position="2" widget-area-style="columnWidthClass60">
            <textarea cols="140" rows="3" read-only="true"/>
        </field>
        <field name="cond6Info" title-area-style="displayNone" title-style="displayNone" position="3" widget-area-style="columnWidthClass20">
            <textarea cols="100" rows="3"/>
        </field>
        <field name="cond7Name" title-area-style="displayNone" title-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255" read-only="true"/>
        </field>
        <field name="cond7Comm" title-area-style="displayNone" title-style="displayNone" position="2" widget-area-style="columnWidthClass60">
            <textarea cols="140" rows="5" read-only="true"/>
        </field>
        <field name="cond7Info" title-area-style="displayNone" title-style="displayNone" position="3" widget-area-style="columnWidthClass20">
            <textarea cols="100" rows="5"/>
        </field>
        <field name="cond8Name" title-area-style="displayNone" title-style="displayNone" position="1" widget-area-style="columnWidthClass20">
            <text size="30" maxlength="255" read-only="true"/>
        </field>
        <field name="cond8Comm" title-area-style="displayNone" title-style="displayNone" position="2" widget-area-style="columnWidthClass60">
            <textarea cols="140" rows="3" read-only="true"/>
        </field>
        <field name="cond8Info" title-area-style="displayNone" title-style="displayNone" position="3" widget-area-style="columnWidthClass20">
            <textarea cols="100" rows="3"/>
        </field>
    </form>
    
   <form name="QueryConfigViewSpecializedSearchForm" extends="BaseSearchForm" extends-resource="component://base/widget/BaseForms.xml" append-field="false">     
        <field name="queryId">
            <hidden/>
        </field>
        <field name="queryType">
            <hidden/>
        </field> 
        <field name="queryActive">
            <hidden value="Y"/>
        </field>   
        <field name="queryPublic">
            <hidden value="Y"/>
        </field>                    
        <field name="queryCode">
            <text size="20" maxlength="20"/>
        </field>
        <field name="queryName">
            <text size="100" maxlength="255"/>
        </field>
    </form>  
    
    <form name="QueryConfigViewSpecializedSearchResultListForm" id="QCSRL003_QueryConfigView" extends="BaseSearchResultDblClickListForm" extends-resource="component://base/widget/BaseForms.xml">
        <field name="queryId">
            <hidden/>
        </field>
        <field name="queryCode" widget-area-style="columnWidthClass10">
            <display/>
        </field>
        <field name="queryName" widget-area-style="columnWidthClass50">
            <display floating-tooltip="${queryComm}"/>
        </field>
        <field name="queryComm">
            <display floating-tooltip="${queryComm}"/>
        </field>
    </form>
    
    <form name="WorkEffortMassiveRootCopyManagementForm" id="WERCMF001_WorkEffortMassiveRootCopy" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml">
        <read-only>
            <not>
                <if-has-permission permission="WORKEFFORTMGR" action="_ADMIN"/>
            </not>
        </read-only>
        <field name="workEffortRootId" required-field="true" title="${uiLabelMap.WorkeffortRoot}">
            <drop-down type="drop-list" maxlength="255" size="50" local-autocompleter="false" drop-list-key-field="workEffortId" drop-list-display-field="${workEffortNameDisplayField}">
                <entity-options entity-name="WorkEffortRootView" key-field-name="workEffortId" description="${${workEffortNameDisplayField}}" distinct="true">
                <select-field field-name="sourceReferenceId" display="true"/>
                    <select-field field-name="${workEffortNameDisplayField}" display="true"/>               
                    <select-field field-name="workEffortId" display="hidden"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-constraint name="weContextId" value="${parameters.weContextId}"/>
                    <entity-constraint name="weIsTemplate" value="N"/>
                    <entity-constraint name="workEffortSnapshotId" operator="equals" value="[null-field]"/>
                    <entity-order-by field-name="sourceReferenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyId" title="${uiLabelMap.BaseParty}" required-field="true">
            <lookup size="60" target="lookupPartyRoleMultipleSelecionOrgHumanResView" target-parameter="lookupScreenLocation=component://workeffortext/widget/screens/LookupScreens.xml,noConditionFind=N,saveView=N,partyRelationshipTypeIdApp=ORG_EMPLOYMENT,enableMassiveInsert=Y,enableMultiRowInsert=Y,multiRowInsertFields=partyId,resetFormAfterSelect=Y,reloadCurrentRow=Y" target-form-name="lookUpPartyRoleViewForm" modal-lookup="true" edit-field-name="parentRoleCode" key-field-name="partyId" description-field-name="partyName" >
                <entity-options entity-name="PartyRoleViewAndEmpl" key-field-name="partyId" description="${partyName}">
                    <select-field field-name="partyId" display="hidden"/>
                    <select-field field-name="partyName" display="true"/>
                    <select-field field-name="category" display="hidden-disabled"/>
                    <select-field field-name="categoryLang" display="hidden-disabled"/>
                    <select-field field-name="profile" display="hidden-disabled"/>
                    <select-field field-name="employmentAmount" display="hidden-disabled"/>
                    <entity-constraint name="roleTypeId" value="WEM_EVAL_IN_CHARGE"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-constraint name="statusId" value="PARTY_ENABLED"/>
                    <entity-order-by field-name="partyId"/>
                </entity-options>
            </lookup>
        </field>
    </form>
   
</forms>
