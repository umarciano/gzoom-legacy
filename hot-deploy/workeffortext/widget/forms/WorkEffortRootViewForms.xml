<?xml version="1.0" encoding="UTF-8"?>

<forms xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-form.xsd">

    <!-- ********************************************************************** -->
    <!-- WorkEffortRoot -->
    <!-- ********************************************************************** -->

    <form name="WorkEffortRootViewSearchForm" extends="WorkEffortRootInqyViewSearchForm" extends-resource="component://workeffortext/widget/forms/WorkEffortRootInqyViewForms.xml">   
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/evaluateCtxTypeParams.groovy"/>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/executePerformFindPartyAndPartyParentRoleAndRoleType.groovy"/> 
        </actions>  
        <field name="entityName">
            <hidden value="WorkEffortRootView"/>
        </field>
        <field name="weActivation">
            <ignored/>
        </field>   
        <field name="gpMenuEnumId" widget-style="form-location">
        	<hidden/>
        </field>                  
        <field name="weStatusDescr" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <drop-down type="drop-list" maxlength="255" size="68" local-autocompleter="false" drop-list-key-field="description" drop-list-display-field="description">
                <entity-options entity-name="WorkEffortWithTypeAndStatusView" key-field-name="description" description="${description}" distinct="true">
                    <select-field field-name="sequenceId" display="hidden"/>
                    <select-field field-name="description" display="true"/>                   
                    <entity-constraint name="isRoot" value="Y"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-constraint name="gpMenuEnumId" env-name="gpMenuEnumId"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="weStatusDescrLang" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <drop-down type="drop-list" maxlength="255" size="68" local-autocompleter="false" drop-list-key-field="descriptionLang" drop-list-display-field="descriptionLang">
                <entity-options entity-name="WorkEffortWithTypeAndStatusView" key-field-name="descriptionLang" description="${descriptionLang}" distinct="true">
                    <select-field field-name="sequenceId" display="hidden"/>
                    <select-field field-name="descriptionLang" display="true"/>                   
                    <entity-constraint name="isRoot" value="Y"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-constraint name="gpMenuEnumId" env-name="gpMenuEnumId"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field> 
        <field name="workEffortTypeId" title="${uiLabelMap.WorkEffortRootType}" entry-name="parameters.workEffortTypeId">
            <drop-down type="drop-list" maxlength="255" size="68" local-autocompleter="false" drop-list-key-field="workEffortTypeId" drop-list-display-field="${workEffortTypeDisplayField}">
                <entity-options entity-name="WorkEffortWithTypeView" key-field-name="workEffortTypeId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? descriptionLang : description}" distinct="true">
                    <select-field field-name="${workEffortTypeDisplayField}" display="true"/>
                    <select-field field-name="workEffortTypeId"/>
                    <select-field field-name="seqEsp" display="hidden"/>
                    <entity-constraint name="isRoot" value="Y"/>
                    <entity-constraint name="isTemplate" value="N"/>
                    <entity-constraint name="organizationId" value="${defaultOrganizationPartyId}"/>
                    <entity-order-by field-name="seqEsp"/>
                    <entity-order-by field-name="workEffortTypeId"/>
                </entity-options>            
            </drop-down>
        </field>               
        <field name="rootInqyTree">
            <ignored/>
        </field>
        <field name="workEffortRevisionId">
            <ignored/>
        </field>
        <field name="isRootActive">
        	<ignored/>
        </field>
        <field name="definition">
            <hidden/>
        </field>
        <field name="currentStatusId">
            <ignored/>
        </field>
        <sort-order>
            <sort-field name="organizationId"/>
            <sort-field name="group_OrgUnit_sep"/>
            <sort-field name="group_OrgUnit"/>
            <sort-field name="orgUnitRoleTypeId"/>
            <sort-field name="orgUnitId"/>
            <sort-field name="responsibleRoleTypeId"/>
            <sort-field name="responsiblePartyId"/>
            <sort-field name="group_WorkEffortRole_sep"/>
            <sort-field name="group_WorkEffortRole"/>            
            <sort-field name="weResponsibleRoleTypeId"/>
            <sort-field name="weResponsiblePartyId"/>
            <sort-field name="group_Others_sep"/>
            <sort-field name="group_Others"/>
            <sort-field name="weStatusDescr"/>
            <sort-field name="weStatusDescrLang"/>
            <sort-field name="workEffortTypeId"/>
            <sort-field name="sourceReferenceId"/>
            <sort-field name="workEffortName"/>
            <sort-field name="workEffortNameLang"/>
            <sort-field name="defaultSearchDate"/>
            <sort-field name="group_ModifiedDate_sep"/>
            <sort-field name="group_ModifiedDate"/>
            <sort-field name="modifiedDate"/>
        </sort-order>
    </form>

    <form name="WorkEffortRootViewAdvancedSearchForm" extends="WorkEffortRootInqyViewAdvancedSearchForm" extends-resource="component://workeffortext/widget/forms/WorkEffortRootInqyViewForms.xml">
    </form>

    <form name="WorkEffortRootViewSearchResultListForm" id="WERVSRL001_WorkEffortRoot" extends="WorkEffortRootInqyViewSearchResultListForm" extends-resource="component://workeffortext/widget/forms/WorkEffortRootInqyViewForms.xml">
        <actions>
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/setWorkEffortViewListOrgUnitIdFields.groovy"/> 
        </actions>       
        <field name="entityName">
            <hidden value="WorkEffortView"/>
        </field>
        <field name="currentStatusId">
            <hidden/>
        </field>
        <field name="orgUnitId">
            <hidden/>
        </field>
        <field name="orgUnitRoleTypeId">
            <hidden/>
        </field>
        <field name="organizationId">
            <hidden/>
        </field>
        <field name="nextStatusId">
            <hidden/>
        </field>
        <field name="weTypeDescription">
            <ignored/>
        </field>
        <field name="weTypeDescriptionLang">
            <ignored/>
        </field>
        <field name="etch" title="${uiLabelMap.WorkEffortTypology}" sort-field="false" use-when="${bsh: !&quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <display/>
        </field>
        <field name="etchLang" title="${uiLabelMap.WorkEffortTypology}" sort-field="false" use-when="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;))}">
            <display/>
        </field>         
        <sort-order>
            <sort-field name="sourceReferenceId"/>
            <sort-field name="workEffortName"/>
            <sort-field name="workEffortNameLang"/>
            <sort-field name="estimatedStartDate"/>
            <sort-field name="estimatedCompletionDate"/>
            <sort-field name="partyName"/>
            <sort-field name="partyNameLang"/>
            <sort-field name="etch"/>
            <sort-field name="etchLang"/>
        </sort-order>
    </form>

    <form name="WorkEffortRootViewSearchResultContextForm" extends="BaseContextSearchListForm" extends-resource="component://base/widget/BaseForms.xml">
        <actions>
            <set field="extraParams" value="definition=${parameters.definition}&amp;selectedId=${parameters.selectedId}&amp;rootTree=Y&amp;loadTreeView=Y&amp;gpMenuEnumId=${parameters.gpMenuEnumId}&amp;gpMenuOrgUnitRoleTypeId=${parameters.gpMenuOrgUnitRoleTypeId}&amp;hideIsRootActive=${parameters.hideIsRootActive}&amp;hideChildStruct=${parameters.hideChildStruct}"/>
        </actions>
    </form>
    
    <form name="WorkEffortRootViewBirtContextArrayListManagementForm" extends="WorkEffortViewContextManagementForm" extends-resource="component://workeffortext/widget/forms/WorkEffortViewForms.xml">
        <actions>
            <entity-one entity-name="WorkEffort" value-field="workEffortRoot" auto-field-map="false">
                <field-map field-name="workEffortId" from-field="parameters.workEffortIdRoot"/>
            </entity-one>
        </actions>
        
        <field name="saveView">
            <hidden value="N"/>
        </field>
        
		<!-- stampa scheda -->
        <field name="printBirtButton" widget-style="buttontext management-print-birt-button" title=" " position="2">
            <hyperlink link-type="anchor" description="${uiLabelMap.CommonPrint}" target="popupWorkEffortLoadPrintBirt?repContextContentId=WE_PRINT&amp;workEffortTypeId=${workEffortRoot.workEffortTypeId}&amp;workEffortId=${parameters.workEffortIdRoot}&amp;workEffortIdChild=${parameters.workEffortIdRoot}&amp;weHierarchyTypeId=${parameters.weHierarchyTypeId}&amp;monitoringDate=${parameters.searchDate}&amp;workEffortRevisionId=${workEffortRevisionId}&amp;saveView=N" target-window="_blank" also-hidden="false"/>
        </field>
        <field name="attachmentButton" id-name="attachmentButton" widget-style="buttontext attachment-button" title=" " position="5">
            <hyperlink link-type="anchor" target="managementContainerOnly?parentEntityName=WorkEffortView&amp;workEffortId=${bsh: context.get(&quot;workEffortId&quot;)}&amp;entityName=WorkEffortAndContentDataResourceExtended&amp;contextManagement=Y&amp;saveView=Y&amp;readOnlyContent=${readOnlyContent}&amp;searchDate=${parameters.searchDate}&amp;useCache=N" also-hidden="false" description="description"/>
            <on-field-event-update-area area-target="managementContainerOnly?parentEntityName=WorkEffortView&amp;workEffortId=${bsh: context.get(&quot;workEffortId&quot;)}&amp;entityName=WorkEffortAndContentDataResourceExtended&amp;contextManagement=Y&amp;saveView=Y&amp;readOnlyContent=${readOnlyContent}&amp;searchDate=${parameters.searchDate}&amp;useCache=N" event-type="click" area-id="common-container"/>
        </field>
        <field name="copyAllButton" widget-style="buttontext copy-all-button" title=" " >
            <hyperlink link-type="anchor" description="${uiLabelMap.CommonNew}" target="popupCopyAllWorkEffort?saveView=N&amp;workEffortId=${context.workEffortId}&amp;workEffortTypeId=${context.workEffortTypeId}&amp;estimatedStartDate=${context.estimatedStartDate}&amp;estimatedCompletionDate=${context.estimatedCompletionDate}" also-hidden="false"/>
        </field>
    </form>
    
    <!-- Attenzione, le action non si ereditano -->
    <form name="WorkEffortRootViewManagementForm" type="single" extends="WorkEffortViewManagementForm" extends-resource="component://workeffortext/widget/forms/WorkEffortViewForms.xml">
    	 <actions>
            <!-- default value for isEtchReadOnly -->
    	 	<set field="isEtchReadOnly" value="false" type="Boolean" />
    	 	<set field="isSourceRefReadOnly" value="false" type="Boolean" />
            <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkStatusCrudEnum.groovy"/>
    	    <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/getWorkEffortParent.groovy"/>
    	    <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/checkWorkEffortViewFormReadOnly.groovy"/>
    	    <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/setWorkEffortTypeField.groovy"/>
    	    <script location="component://workeffortext/webapp/workeffortext/WEB-INF/actions/setGpMenuEnumIdField.groovy"/>
        </actions>
        <field name="isWorkEffortViewFormReadOnly">
            <hidden/>
        </field>        
        <!-- crudService differente tra obiettivo e scheda -->
    	
    	<field name="crudService" widget-style="ignore_check_modification">
            <hidden value="${bsh: return !&quot;Y&quot;.equals(context.get(&quot;weIsRoot&quot;)) ? &quot;crudServiceDefaultOrchestration_WorkEffort&quot;  : &quot;crudServiceDefaultOrchestration_WorkEffortRoot&quot;}"/>
        </field>
        <field name="messageDeleteAllDataConfirm" widget-style="ignore_check_modification">
            <hidden value="${bsh: return !&quot;Y&quot;.equals(context.get(&quot;weIsRoot&quot;)) ? &quot;&quot;  : &quot;WorkEffortRootMessageDeleteDataConfirm&quot;}"/>
        </field>
        <field name="postDeleteEntityName" widget-style="ignore_check_modification">
            <hidden value="${bsh: import org.ofbiz.base.util.UtilValidate; return UtilValidate.isNotEmpty(parameters) &amp;&amp; UtilValidate.isNotEmpty(parameters.get(&quot;workEffortIdRoot&quot;)) &amp;&amp; !parameters.get(&quot;workEffortIdRoot&quot;).equals(parameters.get(&quot;workEffortId&quot;)) ? &quot;WorkEffortView&quot;  : &quot;WorkEffortRootView&quot;}"/>
        </field>
        <field name="duplicateButton" widget-style="duplicate duplicate-button execute-button" >
            <hyperlink link-type="anchor" description="${uiLabelMap.BaseImport}" target="workEffortRootViewDuplicate?operation=${parameters.operation}&amp;folderIndex=${parameters.folderIndex}&amp;operationalEntityName=${parameters.operationalEntityName}&amp;contentId=${parameters.contentId}&amp;workEffortId=${parameters.workEffortId}&amp;entityName=WorkEffortAssocExtView&amp;parentEntityName=WorkEffortView&amp;childManagement=N&amp;contextManagement=N&amp;managementFormLocation=component://workeffortext/widget/forms/WorkEffortAssocExtViewForms.xml&amp;screenNameListIndex=${screenNameListIndex}&amp;workEffortTypeIdTo=${parameters.workEffortTypeId}&amp;newWorkEffortId=${parameters.workEffortId}&amp;workEffortIdRoot=${parameters.workEffortIdRoot}&amp;operetaionType=RELOAD" target-window="_self" also-hidden="false"/>
            <on-field-event-update-area area-target="workEffortRootViewDuplicate?workEffortIdRoot=${workEffortIdRoot}&amp;operation=${parameters.operation}&amp;folderIndex=${parameters.folderIndex}&amp;operationalEntityName=${parameters.operationalEntityName}&amp;contentId=${parameters.contentId}&amp;workEffortId=${parameters.workEffortId}&amp;entityName=WorkEffortAssocExtView&amp;parentEntityName=WorkEffortView&amp;childManagement=N&amp;contextManagement=N&amp;managementFormLocation=component://workeffortext/widget/forms/WorkEffortAssocExtViewForms.xml&amp;screenNameListIndex=${screenNameListIndex}&amp;workEffortTypeIdTo=${parameters.workEffortTypeId}&amp;newWorkEffortId=${parameters.workEffortId}&amp;workEffortIdRoot=${parameters.workEffortIdRoot}&amp;operetaionType=RELOAD" event-type="click" area-id="common-container"/>
        </field>
        <!-- Bug 3994: aggiungo parametro segnalazione delle form che arrivano da una scheda, lo utilizzo nel servizio di gestione di workEffortSequence -->
    	<field name="fromCard" widget-style="ignore_check_modification">
    		<hidden value="S"/>
    	</field>
        <field name="organizationId" widget-style="ignore_check_modification">
            <hidden value="${defaultOrganizationPartyId}"/>
        </field>
        <field name="currentStatusId" use-when="isInsertMode" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="definition" widget-style="ignore_check_modification">
        	<hidden/>
        </field>
        <field name="gpMenuEnumId" widget-style="ignore_check_modification">
        	<hidden/>
        </field>
        <field name="fixedDatesHumanResource">
        	<hidden/>
        </field>
        <field name="workEffortTypeId" required-field="true" widget-area-style="singleSmall" use-when="&quot;Y&quot;.equals(context.get(&quot;showType&quot;))">
            <drop-down show-tooltip="true" tooltip="${parameters.workEffortId}" type="drop-list" read-only="!&quot;Y&quot;.equals(parameters.get(&quot;insertMode&quot;))" maxlength="255" size="100" local-autocompleter="false" drop-list-key-field="workEffortTypeId" drop-list-display-field="${workEffortTypeEtchDisplayField}">
                <entity-options entity-name="WorkEffortTypeParentRelView" key-field-name="workEffortTypeId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? etchLang : etch}">
                	<select-field field-name="orgUnitRoleTypeId" display="hidden"/>
                	<select-field field-name="orgUnitRoleTypeId2" display="hidden"/>
                	<select-field field-name="orgUnitRoleTypeId3" display="hidden"/>                 	
                    <select-field field-name="orgUnitRoleTypeDesc" display="hidden"/>
                    <select-field field-name="orgUnitRoleTypeDescLang" display="hidden"/>
                    <select-field field-name="frameEnumId" display="hidden"/>
                    <select-field field-name="parentRelTypeId" display="hidden"/>                    
                    <select-field field-name="parentRelTypeIdRef" display="hidden"/>                    
                    <select-field field-name="parentRelTypeDesc" display="hidden"/>
                    <select-field field-name="parentRelTypeDescLang" display="hidden"/>
                    <select-field field-name="wePurposeTypeIdWe" display="hidden"/>
                    <select-field field-name="purposeEtch" display="hidden"/>                      
                    <select-field field-name="${workEffortTypeEtchDisplayField}" display="true"/>
                    <select-field field-name="workEffortTypeId"/>
                    <entity-constraint name="isRoot" value="Y"/>
                    <entity-constraint name="parentTypeId" operator="like" value="CTX%"/>
                    <entity-constraint name="isRootActive" value="Y"/>
                    <entity-constraint name="gpMenuEnumId" env-name="gpMenuEnumId"/>
                    <entity-order-by field-name="seqEsp"/>
                    <entity-order-by field-name="workEffortTypeId"/>
                </entity-options>
            </drop-down>
        </field>
       <field name="workEffortTypeId" widget-area-style="singleSmall" required-field="true" use-when="${bsh: import org.ofbiz.base.util.UtilValidate; return &quot;Y&quot;.equals(context.get(&quot;showType&quot;)) &amp;&amp; (!&quot;Y&quot;.equals(context.get(&quot;weIsRoot&quot;)) || &quot;Y&quot;.equals(context.get(&quot;loadAlsoIfNotRoot&quot;)))}">
            <drop-down show-tooltip="true" tooltip="${parameters.workEffortId}" type="drop-list" maxlength="255" size="100" read-only="!&quot;Y&quot;.equals(parameters.get(&quot;insertMode&quot;))" local-autocompleter="false" drop-list-key-field="workEffortTypeId" drop-list-display-field="${workEffortTypeEtchDisplayField}">
                <entity-options entity-name="WorkEffortTypeTypeParentRelView" key-field-name="workEffortTypeId" description="${bsh: &quot;Y&quot;.equals(context.get(&quot;localeSecondarySet&quot;)) ? etchLang : etch}">
                	<select-field field-name="orgUnitRoleTypeId" display="hidden"/>
                	<select-field field-name="orgUnitRoleTypeId2" display="hidden"/>
                	<select-field field-name="orgUnitRoleTypeId3" display="hidden"/>                 	
                    <select-field field-name="orgUnitRoleTypeDesc" display="hidden"/>
                    <select-field field-name="orgUnitRoleTypeDescLang" display="hidden"/>
                    <select-field field-name="frameEnumId" display="hidden"/>
                    <select-field field-name="parentRelTypeId" display="hidden"/>                    
                    <select-field field-name="parentRelTypeIdRef" display="hidden"/>                    
                    <select-field field-name="parentRelTypeDesc" display="hidden"/>
                    <select-field field-name="parentRelTypeDescLang" display="hidden"/>
                    <select-field field-name="wePurposeTypeIdWe" display="hidden"/>
                    <select-field field-name="purposeEtch" display="hidden"/>                      
                    <select-field field-name="${workEffortTypeEtchDisplayField}" display="true"/>
                    <select-field field-name="workEffortTypeId"/>
                    <entity-constraint name="workEffortTypeIdRoot" env-name="workEffortTypeIdRoot"/>
                    <entity-constraint name="workEffortTypeIdFrom" env-name="workEffortTypeIdFrom"/>
                    <entity-constraint name="isRootActive" value="Y"/>     
                    <entity-order-by field-name="sequenceNum"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="workEffortIdRoot" use-when="${bsh: return !&quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}" widget-style="options-field ignore_check_modification">
            <hidden/>
        </field>
        <field name="workEffortIdFrom" use-when="${bsh: return !&quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <field name="weHierarchyTypeId" use-when="${bsh: return !&quot;Y&quot;.equals(parameters.get(&quot;rootInqyTree&quot;))}" widget-style="ignore_check_modification">
            <hidden/>
        </field>
        <sort-order>
            <sort-field name="organizationId"/>
            <sort-field name="typeHierarchyField"/>
            <sort-field name="workEffortTypeId"/>
            <sort-field name="typeHierarchyIcon"/>
            <sort-field name="workEffortPurposeTypeId"/>
            <sort-field name="sourceReferenceId"/>
            <sort-field name="etch"/>
            <sort-field name="workEffortNameIcon"/>
            <sort-field name="workEffortName"/>
            <sort-field name="workEffortNameLangIcon"/>
            <sort-field name="workEffortNameLang"/>           
            <sort-field name="descriptionIcon"/>
            <sort-field name="description"/>
            <sort-field name="descriptionLangIcon"/>
            <sort-field name="descriptionLang"/>
            <sort-field name="noteInfo1Icon"/>
            <sort-field name="noteInfo1"/>
            <sort-field name="noteInfo1LangIcon"/>
            <sort-field name="noteInfo1Lang"/>
            <sort-field name="noteInfo2Icon"/>
            <sort-field name="noteInfo2"/>
            <sort-field name="noteInfo2LangIcon"/>
            <sort-field name="noteInfo2Lang"/> 
            <sort-field name="scheduledStartDate"/>
            <sort-field name="scheduledCompletionDate"/>           
            <sort-field name="estimatedStartDate"/>
            <sort-field name="estimatedCompletionDate"/>   
            <sort-field name="estimatedCompletionDate2"/> 
            <sort-field name="periodFromDate"/> 
            <sort-field name="periodThruDate"/> 
            <sort-field name="periodThruDate2"/>          
            <sort-field name="actualStartDate"/>
            <sort-field name="actualCompletionDate"/> 
            <sort-field name="orgUnitRoleTypeId"/>
            <sort-field name="orgUnitId"/>
            <sort-field name="WETATOWorkEffortIdFromShowEtchY"/>
            <sort-field name="WETATOWorkEffortIdFromShowEtchC"/>
            <sort-field name="WETATOWorkEffortIdFromShowEtchYAss"/>
            <sort-field name="WETATOWorkEffortIdFromShowEtchCAss"/>
            <sort-field name="responsible"/>            
            <sort-field name="assocWeightFROMHasResp"/>
            <sort-field name="assocWeightTOHasResp"/>
            <sort-field name="productId"/>
            <sort-field name="workEffortId"/>
            <sort-field name="currentStatusId"/>
            <sort-field name="WETATOWorkEffortAssocTypeId"/>
            <sort-field name="uomRangeScoreId"/>
            <sort-field name="isPosted"/>
            <sort-field name="workEffortIdFrom0"/>
            <sort-field name="linkFrom0"/>
            <sort-field name="assocWeight0"/>
            <sort-field name="workEffortIdFrom1"/>
            <sort-field name="linkFrom1"/>
            <sort-field name="assocWeight1"/>
            <sort-field name="workEffortIdFrom2"/>
            <sort-field name="linkFrom2"/>
            <sort-field name="assocWeight2"/>
            <sort-field name="workEffortIdFrom3"/>
            <sort-field name="linkFrom3"/>
            <sort-field name="assocWeight3"/>
            <sort-field name="workEffortIdFrom4"/>
            <sort-field name="linkFrom4"/>
            <sort-field name="assocWeight4"/>
            <sort-field name="workEffortIdTo5"/>
            <sort-field name="linkTo5"/>
            <sort-field name="assocWeight5"/>
            <sort-field name="workEffortIdTo6"/>
            <sort-field name="linkTo6"/>
            <sort-field name="assocWeight6"/>
            <sort-field name="workEffortIdTo7"/>
            <sort-field name="linkTo7"/>
            <sort-field name="assocWeight7"/>
            <sort-field name="workEffortIdTo8"/>
            <sort-field name="linkTo8"/>
            <sort-field name="assocWeight8"/>
            <sort-field name="workEffortIdTo9"/>
            <sort-field name="linkTo9"/>
            <sort-field name="assocWeight9"/>
            <sort-field name="workEffortName2"/>
            <sort-field name="workEffortNameLang2"/>  
        </sort-order>
    </form>

    <form name="WorkEffortManagementForm" extends="BaseManagementForm" extends-resource="component://base/widget/BaseForms.xml" default-map-name="workEffort">
    	<read-only>
            <not>
                <or>
                    <if-has-permission permission="WORKEFFORTMGR" action="_CREATE"/>
                    <if-has-permission permission="WORKEFFORTMGR" action="_UPDATE"/>
                    <if-has-permission permission="WORKEFFORTORG" action="_ADMIN"/>
                    <if-has-permission permission="WORKEFFORTROLE" action="_ADMIN"/>
                </or>
            </not>
        </read-only>
        
        <field name="entityName"><hidden value="${context.entityName}"/></field>
        <field name="crudService" ><hidden value="crudServiceDefaultOrchestration_WorkEffort"/></field>
        <field name="workEffortId" use-when="workEffort!=null"><hidden/></field>
        <field name="workEffortName" title="${uiLabelMap.WorkEffortEventName}" required-field="true"><text size="50" maxlength="100" read-only="${bsh: &quot;true&quot;.equals(context.get(&quot;readOnly&quot;))}"/></field>
        <field name="description" title="${uiLabelMap.CommonDescription}" widget-style="fixed-height-textarea"><textarea cols="50" rows="40" read-only="${bsh: &quot;true&quot;.equals(context.get(&quot;readOnly&quot;))}"/></field>
        <field name="workEffortTypeId" required-field="true">
            <drop-down no-current-selected-key="MEETING" read-only="${bsh: &quot;true&quot;.equals(context.get(&quot;readOnly&quot;))}" current="selected">
                <entity-options entity-name="WorkEffortType" description="${description}">
                    <entity-constraint name="parentTypeId" value="${parameters.parentTypeId}"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="currentStatusId" use-when="workEffort!=null" required-field="true">
            <drop-down read-only="true" drop-list-key-field="statusId" drop-list-display-field="description" size="50" type="drop-list">
                <entity-options entity-name="StatusItem" key-field-name="statusId" description="${description}">
                    <select-field field-name="statusId" display="false"/>
                    <select-field field-name="description" display="true"/>

                    <entity-constraint name="statusTypeId" value="EVENT_STATUS"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="currentStatusId" use-when="workEffort==null"><hidden value="CAL_TENTATIVE"/></field>
        <field name="scopeEnumId" required-field="true">
            <drop-down current="selected" no-current-selected-key="WES_PRIVATE" read-only="${bsh: &quot;true&quot;.equals(context.get(&quot;readOnly&quot;))}">
                <entity-options entity-name="Enumeration" key-field-name="enumId" description="${description}">
                    <entity-constraint name="enumTypeId" value="WORK_EFF_SCOPE"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="estimatedStartDate" required-field="true"><date-time type="timestamp" read-only="${bsh: &quot;true&quot;.equals(context.get(&quot;readOnly&quot;))}"/></field>
        <field name="estimatedCompletionDate" required-field="true"><date-time type="timestamp" read-only="${bsh: &quot;true&quot;.equals(context.get(&quot;readOnly&quot;))}"/></field>
    </form>
</forms>
